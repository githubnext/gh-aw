=== RUN   TestAccessLogParsing
--- PASS: TestAccessLogParsing (0.00s)
=== RUN   TestMultipleAccessLogAnalysis
--- PASS: TestMultipleAccessLogAnalysis (0.00s)
=== RUN   TestAnalyzeAccessLogsDirectory
=== RUN   TestAnalyzeAccessLogsDirectory/multiple_access_logs_in_subdirectory
=== RUN   TestAnalyzeAccessLogsDirectory/no_access_logs_-_returns_nil
--- PASS: TestAnalyzeAccessLogsDirectory (0.00s)
    --- PASS: TestAnalyzeAccessLogsDirectory/multiple_access_logs_in_subdirectory (0.00s)
    --- PASS: TestAnalyzeAccessLogsDirectory/no_access_logs_-_returns_nil (0.00s)
=== RUN   TestExtractDomainFromURL
=== RUN   TestExtractDomainFromURL/http://example.com/path
=== RUN   TestExtractDomainFromURL/https://api.github.com/repos
=== RUN   TestExtractDomainFromURL/github.com:443
=== RUN   TestExtractDomainFromURL/malicious.site
=== RUN   TestExtractDomainFromURL/http://sub.domain.com:8080/path
--- PASS: TestExtractDomainFromURL (0.00s)
    --- PASS: TestExtractDomainFromURL/http://example.com/path (0.00s)
    --- PASS: TestExtractDomainFromURL/https://api.github.com/repos (0.00s)
    --- PASS: TestExtractDomainFromURL/github.com:443 (0.00s)
    --- PASS: TestExtractDomainFromURL/malicious.site (0.00s)
    --- PASS: TestExtractDomainFromURL/http://sub.domain.com:8080/path (0.00s)
=== RUN   TestParseSquidLogLine
=== RUN   TestParseSquidLogLine/valid_squid_log_line
=== RUN   TestParseSquidLogLine/valid_denied_request
=== RUN   TestParseSquidLogLine/insufficient_fields_-_should_error
=== RUN   TestParseSquidLogLine/empty_line
=== RUN   TestParseSquidLogLine/exactly_9_fields_-_should_error
--- PASS: TestParseSquidLogLine (0.00s)
    --- PASS: TestParseSquidLogLine/valid_squid_log_line (0.00s)
    --- PASS: TestParseSquidLogLine/valid_denied_request (0.00s)
    --- PASS: TestParseSquidLogLine/insufficient_fields_-_should_error (0.00s)
    --- PASS: TestParseSquidLogLine/empty_line (0.00s)
    --- PASS: TestParseSquidLogLine/exactly_9_fields_-_should_error (0.00s)
=== RUN   TestAddMetrics
=== RUN   TestAddMetrics/add_valid_domain_analysis
=== RUN   TestAddMetrics/add_zero_values
=== RUN   TestAddMetrics/add_to_empty_base
--- PASS: TestAddMetrics (0.00s)
    --- PASS: TestAddMetrics/add_valid_domain_analysis (0.00s)
    --- PASS: TestAddMetrics/add_zero_values (0.00s)
    --- PASS: TestAddMetrics/add_to_empty_base (0.00s)
=== RUN   TestParseAndDisplayActionlintOutput
=== RUN   TestParseAndDisplayActionlintOutput/single_error
=== RUN   TestParseAndDisplayActionlintOutput/multiple_errors
=== RUN   TestParseAndDisplayActionlintOutput/no_errors_-_empty_output
=== RUN   TestParseAndDisplayActionlintOutput/invalid_JSON
--- PASS: TestParseAndDisplayActionlintOutput (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutput/single_error (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutput/multiple_errors (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutput/no_errors_-_empty_output (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutput/invalid_JSON (0.00s)
=== RUN   TestGetActionlintVersion
=== RUN   TestGetActionlintVersion/first_call_fetches_version
=== RUN   TestGetActionlintVersion/second_call_returns_cached_version
--- PASS: TestGetActionlintVersion (0.00s)
    --- PASS: TestGetActionlintVersion/first_call_fetches_version (0.00s)
    --- PASS: TestGetActionlintVersion/second_call_returns_cached_version (0.00s)
=== RUN   TestParseAndDisplayActionlintOutputMultiFile
=== RUN   TestParseAndDisplayActionlintOutputMultiFile/multiple_errors_from_multiple_files
=== RUN   TestParseAndDisplayActionlintOutputMultiFile/errors_from_three_files
--- PASS: TestParseAndDisplayActionlintOutputMultiFile (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutputMultiFile/multiple_errors_from_multiple_files (0.00s)
    --- PASS: TestParseAndDisplayActionlintOutputMultiFile/errors_from_three_files (0.00s)
=== RUN   TestDisplayActionlintSummary
=== RUN   TestDisplayActionlintSummary/summary_with_errors_and_warnings
=== RUN   TestDisplayActionlintSummary/summary_with_only_errors
=== RUN   TestDisplayActionlintSummary/summary_with_no_issues
=== RUN   TestDisplayActionlintSummary/nil_stats_-_no_output
--- PASS: TestDisplayActionlintSummary (0.00s)
    --- PASS: TestDisplayActionlintSummary/summary_with_errors_and_warnings (0.00s)
    --- PASS: TestDisplayActionlintSummary/summary_with_only_errors (0.00s)
    --- PASS: TestDisplayActionlintSummary/summary_with_no_issues (0.00s)
    --- PASS: TestDisplayActionlintSummary/nil_stats_-_no_output (0.00s)
=== RUN   TestInitActionlintStats
--- PASS: TestInitActionlintStats (0.00s)
=== RUN   TestGetActionlintDocsURL
=== RUN   TestGetActionlintDocsURL/empty_kind_returns_base_URL
=== RUN   TestGetActionlintDocsURL/runner-label_kind
=== RUN   TestGetActionlintDocsURL/shellcheck_kind
=== RUN   TestGetActionlintDocsURL/pyflakes_kind
=== RUN   TestGetActionlintDocsURL/expression_kind
=== RUN   TestGetActionlintDocsURL/generic_kind_with_check-_prefix
=== RUN   TestGetActionlintDocsURL/generic_kind_without_check-_prefix
--- PASS: TestGetActionlintDocsURL (0.00s)
    --- PASS: TestGetActionlintDocsURL/empty_kind_returns_base_URL (0.00s)
    --- PASS: TestGetActionlintDocsURL/runner-label_kind (0.00s)
    --- PASS: TestGetActionlintDocsURL/shellcheck_kind (0.00s)
    --- PASS: TestGetActionlintDocsURL/pyflakes_kind (0.00s)
    --- PASS: TestGetActionlintDocsURL/expression_kind (0.00s)
    --- PASS: TestGetActionlintDocsURL/generic_kind_with_check-_prefix (0.00s)
    --- PASS: TestGetActionlintDocsURL/generic_kind_without_check-_prefix (0.00s)
=== RUN   TestActionsBuildCommand_NoActionsDir
--- PASS: TestActionsBuildCommand_NoActionsDir (0.00s)
=== RUN   TestActionsValidateCommand_NoActionsDir
--- PASS: TestActionsValidateCommand_NoActionsDir (0.00s)
=== RUN   TestActionsCleanCommand_NoActionsDir
--- PASS: TestActionsCleanCommand_NoActionsDir (0.00s)
=== RUN   TestGetActionDirectories
=== RUN   TestGetActionDirectories/no_actions_directory
=== RUN   TestGetActionDirectories/empty_actions_directory
=== RUN   TestGetActionDirectories/actions_directory_with_subdirectories
=== RUN   TestGetActionDirectories/actions_directory_with_files_and_subdirectories
--- PASS: TestGetActionDirectories (0.00s)
    --- PASS: TestGetActionDirectories/no_actions_directory (0.00s)
    --- PASS: TestGetActionDirectories/empty_actions_directory (0.00s)
    --- PASS: TestGetActionDirectories/actions_directory_with_subdirectories (0.00s)
    --- PASS: TestGetActionDirectories/actions_directory_with_files_and_subdirectories (0.00s)
=== RUN   TestValidateActionYml
=== RUN   TestValidateActionYml/valid_node20_action
=== RUN   TestValidateActionYml/valid_composite_action
=== RUN   TestValidateActionYml/missing_action.yml
=== RUN   TestValidateActionYml/missing_name_field
=== RUN   TestValidateActionYml/missing_description_field
=== RUN   TestValidateActionYml/missing_runs_field
=== RUN   TestValidateActionYml/invalid_runtime
--- PASS: TestValidateActionYml (0.00s)
    --- PASS: TestValidateActionYml/valid_node20_action (0.00s)
    --- PASS: TestValidateActionYml/valid_composite_action (0.00s)
    --- PASS: TestValidateActionYml/missing_action.yml (0.00s)
    --- PASS: TestValidateActionYml/missing_name_field (0.00s)
    --- PASS: TestValidateActionYml/missing_description_field (0.00s)
    --- PASS: TestValidateActionYml/missing_runs_field (0.00s)
    --- PASS: TestValidateActionYml/invalid_runtime (0.00s)
=== RUN   TestGetActionDependencies
=== RUN   TestGetActionDependencies/setup_action
=== RUN   TestGetActionDependencies/unknown_action
--- PASS: TestGetActionDependencies (0.00s)
    --- PASS: TestGetActionDependencies/setup_action (0.00s)
    --- PASS: TestGetActionDependencies/unknown_action (0.00s)
=== RUN   TestActionsBuildCommand_EmptyActionsDir
âš  No action directories found in actions/
--- PASS: TestActionsBuildCommand_EmptyActionsDir (0.00s)
=== RUN   TestActionsValidateCommand_EmptyActionsDir
âš  No action directories found in actions/
--- PASS: TestActionsValidateCommand_EmptyActionsDir (0.00s)
=== RUN   TestActionsCleanCommand_EmptyActionsDir
âš  No action directories found in actions/
--- PASS: TestActionsCleanCommand_EmptyActionsDir (0.00s)
=== RUN   TestIsCompositeAction
=== RUN   TestIsCompositeAction/composite_action_with_single_quotes
=== RUN   TestIsCompositeAction/composite_action_with_double_quotes
=== RUN   TestIsCompositeAction/node20_action
=== RUN   TestIsCompositeAction/missing_action.yml
--- PASS: TestIsCompositeAction (0.00s)
    --- PASS: TestIsCompositeAction/composite_action_with_single_quotes (0.00s)
    --- PASS: TestIsCompositeAction/composite_action_with_double_quotes (0.00s)
    --- PASS: TestIsCompositeAction/node20_action (0.00s)
    --- PASS: TestIsCompositeAction/missing_action.yml (0.00s)
=== RUN   TestBuildAction_CompositeAction
â„¹ 
ðŸ“¦ Building action: test-composite
â„¹   âœ“ Validating action.yml
â„¹   âœ“ Composite action - no JavaScript bundling needed
--- PASS: TestBuildAction_CompositeAction (0.00s)
=== RUN   TestConvertToGitHubActionsEnv
=== RUN   TestConvertToGitHubActionsEnv/shell_syntax_conversion_with_secret_metadata
=== RUN   TestConvertToGitHubActionsEnv/shell_syntax_conversion_with_mixed_secret_and_env_metadata
=== RUN   TestConvertToGitHubActionsEnv/shell_syntax_conversion_without_metadata_defaults_to_secrets
=== RUN   TestConvertToGitHubActionsEnv/mixed_syntax
=== RUN   TestConvertToGitHubActionsEnv/no_shell_syntax
=== RUN   TestConvertToGitHubActionsEnv/empty_input
=== RUN   TestConvertToGitHubActionsEnv/nil_input
=== RUN   TestConvertToGitHubActionsEnv/non-string_values_ignored
--- PASS: TestConvertToGitHubActionsEnv (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/shell_syntax_conversion_with_secret_metadata (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/shell_syntax_conversion_with_mixed_secret_and_env_metadata (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/shell_syntax_conversion_without_metadata_defaults_to_secrets (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/mixed_syntax (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/no_shell_syntax (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/empty_input (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/nil_input (0.00s)
    --- PASS: TestConvertToGitHubActionsEnv/non-string_values_ignored (0.00s)
=== RUN   TestListWorkflowsWithMetadata
--- PASS: TestListWorkflowsWithMetadata (0.00s)
=== RUN   TestHandleRepoOnlySpecTableDisplay
--- PASS: TestHandleRepoOnlySpecTableDisplay (0.00s)
=== RUN   TestNewAddCommand
--- PASS: TestNewAddCommand (0.00s)
=== RUN   TestAddWorkflows_EmptyWorkflows
--- PASS: TestAddWorkflows_EmptyWorkflows (0.00s)
=== RUN   TestAddWorkflows_InvalidNumber
=== RUN   TestAddWorkflows_InvalidNumber/valid_number
=== RUN   TestAddWorkflows_InvalidNumber/zero_number
=== RUN   TestAddWorkflows_InvalidNumber/negative_number
--- PASS: TestAddWorkflows_InvalidNumber (0.00s)
    --- PASS: TestAddWorkflows_InvalidNumber/valid_number (0.00s)
    --- PASS: TestAddWorkflows_InvalidNumber/zero_number (0.00s)
    --- PASS: TestAddWorkflows_InvalidNumber/negative_number (0.00s)
=== RUN   TestAddCommandStructure
=== RUN   TestAddCommandStructure/add_command_exists
--- PASS: TestAddCommandStructure (0.00s)
    --- PASS: TestAddCommandStructure/add_command_exists (0.00s)
=== RUN   TestAddCommandFlagDefaults
=== RUN   TestAddCommandFlagDefaults/number
=== RUN   TestAddCommandFlagDefaults/name
=== RUN   TestAddCommandFlagDefaults/engine
=== RUN   TestAddCommandFlagDefaults/repo
=== RUN   TestAddCommandFlagDefaults/append
=== RUN   TestAddCommandFlagDefaults/dir
=== RUN   TestAddCommandFlagDefaults/stop-after
--- PASS: TestAddCommandFlagDefaults (0.00s)
    --- PASS: TestAddCommandFlagDefaults/number (0.00s)
    --- PASS: TestAddCommandFlagDefaults/name (0.00s)
    --- PASS: TestAddCommandFlagDefaults/engine (0.00s)
    --- PASS: TestAddCommandFlagDefaults/repo (0.00s)
    --- PASS: TestAddCommandFlagDefaults/append (0.00s)
    --- PASS: TestAddCommandFlagDefaults/dir (0.00s)
    --- PASS: TestAddCommandFlagDefaults/stop-after (0.00s)
=== RUN   TestAddCommandBooleanFlags
=== RUN   TestAddCommandBooleanFlags/create-pull-request
=== RUN   TestAddCommandBooleanFlags/pr
=== RUN   TestAddCommandBooleanFlags/force
=== RUN   TestAddCommandBooleanFlags/no-gitattributes
=== RUN   TestAddCommandBooleanFlags/no-stop-after
--- PASS: TestAddCommandBooleanFlags (0.00s)
    --- PASS: TestAddCommandBooleanFlags/create-pull-request (0.00s)
    --- PASS: TestAddCommandBooleanFlags/pr (0.00s)
    --- PASS: TestAddCommandBooleanFlags/force (0.00s)
    --- PASS: TestAddCommandBooleanFlags/no-gitattributes (0.00s)
    --- PASS: TestAddCommandBooleanFlags/no-stop-after (0.00s)
=== RUN   TestAddCommandArgs
--- PASS: TestAddCommandArgs (0.00s)
=== RUN   TestAddWorkflowsFromCurrentRepository
=== RUN   TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository
=== RUN   TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository_with_version
=== RUN   TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository_with_wildcard
=== RUN   TestAddWorkflowsFromCurrentRepository/allow_adding_workflow_from_different_repository
--- PASS: TestAddWorkflowsFromCurrentRepository (7.02s)
    --- PASS: TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository (1.91s)
    --- PASS: TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository_with_version (1.23s)
    --- PASS: TestAddWorkflowsFromCurrentRepository/prevent_adding_workflow_from_current_repository_with_wildcard (1.53s)
    --- PASS: TestAddWorkflowsFromCurrentRepository/allow_adding_workflow_from_different_repository (2.33s)
=== RUN   TestAddWorkflowsFromCurrentRepositoryMultiple
=== RUN   TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_first_workflow_is_from_current_repository
=== RUN   TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_second_workflow_is_from_current_repository
=== RUN   TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_all_workflows_are_from_current_repository
=== RUN   TestAddWorkflowsFromCurrentRepositoryMultiple/allow_when_all_workflows_are_from_different_repositories
--- PASS: TestAddWorkflowsFromCurrentRepositoryMultiple (4.05s)
    --- PASS: TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_first_workflow_is_from_current_repository (0.72s)
    --- PASS: TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_second_workflow_is_from_current_repository (0.89s)
    --- PASS: TestAddWorkflowsFromCurrentRepositoryMultiple/prevent_when_all_workflows_are_from_current_repository (0.75s)
    --- PASS: TestAddWorkflowsFromCurrentRepositoryMultiple/allow_when_all_workflows_are_from_different_repositories (1.69s)
=== RUN   TestAddWorkflowsFromCurrentRepositoryNotInGitRepo
--- PASS: TestAddWorkflowsFromCurrentRepositoryNotInGitRepo (1.09s)
=== RUN   TestExtractWorkflowDescription
=== RUN   TestExtractWorkflowDescription/workflow_with_description
=== RUN   TestExtractWorkflowDescription/workflow_without_description
=== RUN   TestExtractWorkflowDescription/workflow_with_empty_description
=== RUN   TestExtractWorkflowDescription/workflow_with_multi-line_description
=== RUN   TestExtractWorkflowDescription/workflow_without_frontmatter
=== RUN   TestExtractWorkflowDescription/workflow_with_non-string_description
--- PASS: TestExtractWorkflowDescription (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_with_description (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_without_description (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_with_empty_description (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_with_multi-line_description (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_without_frontmatter (0.00s)
    --- PASS: TestExtractWorkflowDescription/workflow_with_non-string_description (0.00s)
=== RUN   TestExtractWorkflowDescriptionFromFile
=== RUN   TestExtractWorkflowDescriptionFromFile/file_with_description
=== RUN   TestExtractWorkflowDescriptionFromFile/file_without_description
--- PASS: TestExtractWorkflowDescriptionFromFile (0.00s)
    --- PASS: TestExtractWorkflowDescriptionFromFile/file_with_description (0.00s)
    --- PASS: TestExtractWorkflowDescriptionFromFile/file_without_description (0.00s)
=== RUN   TestExtractWorkflowDescriptionFromFile_NonExistentFile
--- PASS: TestExtractWorkflowDescriptionFromFile_NonExistentFile (0.00s)
=== RUN   TestAddCommandUpdatesGitAttributes
=== RUN   TestAddCommandUpdatesGitAttributes/gitattributes_updated_by_default
âœ— Workflow 'test.md' not found.
â„¹ To add workflows to your project:

â„¹ Use the 'add' command with repository/workflow specifications:
  gh aw add owner/repo/workflow-name
  gh aw add owner/repo/workflow-name@version

â„¹ Example:
  gh aw add githubnext/agentics/ci-doctor
  gh aw add githubnext/agentics/daily-plan@main
    add_gitattributes_test.go:89: Expected error during workflow addition: failed to add workflow 'test/repo/test.md': workflow not found: test.md
=== RUN   TestAddCommandUpdatesGitAttributes/gitattributes_not_updated_with_flag
âœ— Workflow 'test.md' not found.
â„¹ To add workflows to your project:

â„¹ Use the 'add' command with repository/workflow specifications:
  gh aw add owner/repo/workflow-name
  gh aw add owner/repo/workflow-name@version

â„¹ Example:
  gh aw add githubnext/agentics/ci-doctor
  gh aw add githubnext/agentics/daily-plan@main
    add_gitattributes_test.go:118: Expected error during workflow addition: failed to add workflow 'test/repo/test.md': workflow not found: test.md
=== RUN   TestAddCommandUpdatesGitAttributes/existing_gitattributes_not_modified_with_flag
âœ— Workflow 'test.md' not found.
â„¹ To add workflows to your project:

â„¹ Use the 'add' command with repository/workflow specifications:
  gh aw add owner/repo/workflow-name
  gh aw add owner/repo/workflow-name@version

â„¹ Example:
  gh aw add githubnext/agentics/ci-doctor
  gh aw add githubnext/agentics/daily-plan@main
    add_gitattributes_test.go:140: Expected error during workflow addition: failed to add workflow 'test/repo/test.md': workflow not found: test.md
--- PASS: TestAddCommandUpdatesGitAttributes (0.02s)
    --- PASS: TestAddCommandUpdatesGitAttributes/gitattributes_updated_by_default (0.00s)
    --- PASS: TestAddCommandUpdatesGitAttributes/gitattributes_not_updated_with_flag (0.00s)
    --- PASS: TestAddCommandUpdatesGitAttributes/existing_gitattributes_not_modified_with_flag (0.00s)
=== RUN   TestAddCommandRequiresArguments
Usage:
  add <workflow>... [flags]

Flags:
      --append string         Append extra content to the end of agentic workflow on installation
      --create-pull-request   Create a pull request with the workflow changes
  -d, --dir string            Subdirectory under .github/workflows/ (e.g., 'shared' creates .github/workflows/shared/)
  -e, --engine string         Override AI engine (claude, codex, copilot, custom)
  -f, --force                 Overwrite existing workflow files without confirmation
  -h, --help                  help for add
  -n, --name string           Specify name for the added workflow (without .md extension)
      --no-gitattributes      Skip updating .gitattributes file
      --no-stop-after         Remove any stop-after field from the workflow
      --non-interactive       Skip interactive setup and use traditional behavior (for CI/automation)
      --number int            Create multiple numbered copies (default 1)
      --push                  Automatically commit and push changes after successful workflow addition
  -r, --repo string           Source repository containing workflows (owner/repo format)
      --stop-after string     Override stop-after value in the workflow (e.g., '+48h', '2025-12-31 23:59:59')

--- PASS: TestAddCommandRequiresArguments (0.00s)
=== RUN   TestAddCommandWithWorkflow
--- PASS: TestAddCommandWithWorkflow (0.00s)
=== RUN   TestAddCommandHelpText
--- PASS: TestAddCommandHelpText (0.00s)
=== RUN   TestNewCommandAcceptsOptionalArgument
--- PASS: TestNewCommandAcceptsOptionalArgument (0.00s)
=== RUN   TestIsRepoOnlySpec
=== RUN   TestIsRepoOnlySpec/repo_only_without_version
=== RUN   TestIsRepoOnlySpec/repo_only_with_version
=== RUN   TestIsRepoOnlySpec/full_spec_with_workflow
=== RUN   TestIsRepoOnlySpec/full_spec_with_workflow_and_version
=== RUN   TestIsRepoOnlySpec/full_spec_with_path
=== RUN   TestIsRepoOnlySpec/GitHub_URL
=== RUN   TestIsRepoOnlySpec/local_path
--- PASS: TestIsRepoOnlySpec (0.00s)
    --- PASS: TestIsRepoOnlySpec/repo_only_without_version (0.00s)
    --- PASS: TestIsRepoOnlySpec/repo_only_with_version (0.00s)
    --- PASS: TestIsRepoOnlySpec/full_spec_with_workflow (0.00s)
    --- PASS: TestIsRepoOnlySpec/full_spec_with_workflow_and_version (0.00s)
    --- PASS: TestIsRepoOnlySpec/full_spec_with_path (0.00s)
    --- PASS: TestIsRepoOnlySpec/GitHub_URL (0.00s)
    --- PASS: TestIsRepoOnlySpec/local_path (0.00s)
=== RUN   TestListWorkflowsInPackage
--- PASS: TestListWorkflowsInPackage (0.00s)
=== RUN   TestHandleRepoOnlySpecIntegration
    add_repo_only_test.go:74: Skipping integration test: no GitHub token available
--- SKIP: TestHandleRepoOnlySpecIntegration (0.00s)
=== RUN   TestAddSourceToWorkflow
=== RUN   TestAddSourceToWorkflow/add_source_to_workflow_with_frontmatter
=== RUN   TestAddSourceToWorkflow/add_source_to_workflow_without_frontmatter
=== RUN   TestAddSourceToWorkflow/add_source_to_existing_workflow_with_fields
=== RUN   TestAddSourceToWorkflow/verify_on_keyword_not_quoted
=== RUN   TestAddSourceToWorkflow/preserve_formatting_with_comments_and_blank_lines
--- PASS: TestAddSourceToWorkflow (0.00s)
    --- PASS: TestAddSourceToWorkflow/add_source_to_workflow_with_frontmatter (0.00s)
    --- PASS: TestAddSourceToWorkflow/add_source_to_workflow_without_frontmatter (0.00s)
    --- PASS: TestAddSourceToWorkflow/add_source_to_existing_workflow_with_fields (0.00s)
    --- PASS: TestAddSourceToWorkflow/verify_on_keyword_not_quoted (0.00s)
    --- PASS: TestAddSourceToWorkflow/preserve_formatting_with_comments_and_blank_lines (0.00s)
=== RUN   TestParseWorkflowSpecWithWildcard
=== RUN   TestParseWorkflowSpecWithWildcard/wildcard_without_version
=== RUN   TestParseWorkflowSpecWithWildcard/wildcard_with_version
=== RUN   TestParseWorkflowSpecWithWildcard/wildcard_with_branch
=== RUN   TestParseWorkflowSpecWithWildcard/non_wildcard_spec
=== RUN   TestParseWorkflowSpecWithWildcard/invalid_spec_too_few_parts
--- PASS: TestParseWorkflowSpecWithWildcard (0.00s)
    --- PASS: TestParseWorkflowSpecWithWildcard/wildcard_without_version (0.00s)
    --- PASS: TestParseWorkflowSpecWithWildcard/wildcard_with_version (0.00s)
    --- PASS: TestParseWorkflowSpecWithWildcard/wildcard_with_branch (0.00s)
    --- PASS: TestParseWorkflowSpecWithWildcard/non_wildcard_spec (0.00s)
    --- PASS: TestParseWorkflowSpecWithWildcard/invalid_spec_too_few_parts (0.00s)
=== RUN   TestDiscoverWorkflowsInPackage
--- PASS: TestDiscoverWorkflowsInPackage (0.00s)
=== RUN   TestDiscoverWorkflowsInPackage_NotFound
--- PASS: TestDiscoverWorkflowsInPackage_NotFound (0.00s)
=== RUN   TestDiscoverWorkflowsInPackage_EmptyPackage
--- PASS: TestDiscoverWorkflowsInPackage_EmptyPackage (0.00s)
=== RUN   TestExpandWildcardWorkflows
=== RUN   TestExpandWildcardWorkflows/expand_single_wildcard
=== RUN   TestExpandWildcardWorkflows/mixed_wildcard_and_specific
=== RUN   TestExpandWildcardWorkflows/no_wildcard_specs
=== RUN   TestExpandWildcardWorkflows/empty_input
--- PASS: TestExpandWildcardWorkflows (0.00s)
    --- PASS: TestExpandWildcardWorkflows/expand_single_wildcard (0.00s)
    --- PASS: TestExpandWildcardWorkflows/mixed_wildcard_and_specific (0.00s)
    --- PASS: TestExpandWildcardWorkflows/no_wildcard_specs (0.00s)
    --- PASS: TestExpandWildcardWorkflows/empty_input (0.00s)
=== RUN   TestExpandWildcardWorkflows_ErrorHandling
=== RUN   TestExpandWildcardWorkflows_ErrorHandling/nonexistent_package
--- PASS: TestExpandWildcardWorkflows_ErrorHandling (0.00s)
    --- PASS: TestExpandWildcardWorkflows_ErrorHandling/nonexistent_package (0.00s)
=== RUN   TestAddWorkflowWithTracking_WildcardDuplicateHandling
=== RUN   TestAddWorkflowWithTracking_WildcardDuplicateHandling/non_wildcard_duplicate_returns_error
=== RUN   TestAddWorkflowWithTracking_WildcardDuplicateHandling/wildcard_duplicate_returns_nil
âš  Workflow 'test-workflow' already exists in .github/workflows/. Skipping.
=== RUN   TestAddWorkflowWithTracking_WildcardDuplicateHandling/wildcard_duplicate_with_force_succeeds
â„¹ Overwriting existing file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-541154317/.github/workflows/test-workflow.md
âœ“ Added workflow: /tmp/gh-aw-test-runs/20260129-002143-306608/test-541154317/.github/workflows/test-workflow.md
.github/workflows/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âš  Unable to resolve actions/github-script@v8 dynamically, using hardcoded pin for actions/github-script@v8.0.0
âœ“ .github/workflows/test-workflow.md (25.8 KB)
--- PASS: TestAddWorkflowWithTracking_WildcardDuplicateHandling (0.29s)
    --- PASS: TestAddWorkflowWithTracking_WildcardDuplicateHandling/non_wildcard_duplicate_returns_error (0.00s)
    --- PASS: TestAddWorkflowWithTracking_WildcardDuplicateHandling/wildcard_duplicate_returns_nil (0.00s)
    --- PASS: TestAddWorkflowWithTracking_WildcardDuplicateHandling/wildcard_duplicate_with_force_succeeds (0.28s)
=== RUN   TestDisplayAvailableWorkflows
--- PASS: TestDisplayAvailableWorkflows (0.00s)
=== RUN   TestDisplayAvailableWorkflowsWithVersion
--- PASS: TestDisplayAvailableWorkflowsWithVersion (0.00s)
=== RUN   TestDisplayAvailableWorkflowsNoWorkflows
--- PASS: TestDisplayAvailableWorkflowsNoWorkflows (0.00s)
=== RUN   TestDisplayAvailableWorkflowsPackageNotFound
--- PASS: TestDisplayAvailableWorkflowsPackageNotFound (0.00s)
=== RUN   TestEnsureCreateWorkflowPrompt
=== RUN   TestEnsureCreateWorkflowPrompt/creates_new_workflow_creation_prompt_file
=== RUN   TestEnsureCreateWorkflowPrompt/does_not_modify_existing_correct_file
=== RUN   TestEnsureCreateWorkflowPrompt/updates_modified_file
--- PASS: TestEnsureCreateWorkflowPrompt (0.02s)
    --- PASS: TestEnsureCreateWorkflowPrompt/creates_new_workflow_creation_prompt_file (0.01s)
    --- PASS: TestEnsureCreateWorkflowPrompt/does_not_modify_existing_correct_file (0.01s)
    --- PASS: TestEnsureCreateWorkflowPrompt/updates_modified_file (0.01s)
=== RUN   TestEnsureCreateWorkflowPrompt_WithSkipInstructionsTrue
--- PASS: TestEnsureCreateWorkflowPrompt_WithSkipInstructionsTrue (0.00s)
=== RUN   TestEnsureCreateWorkflowPrompt_CreatesNewFile
--- PASS: TestEnsureCreateWorkflowPrompt_CreatesNewFile (0.01s)
=== RUN   TestAgentFriendlyOutputExample
=== RUN   TestAgentFriendlyOutputExample/JSON_Output
    audit_agent_example_test.go:132: Sample JSON Output:
        {
          "overview": {
            "run_id": 987654,
            "workflow_name": "weekly-research",
            "status": "completed",
            "conclusion": "success",
            "created_at": "2024-01-15T10:00:00Z",
            "started_at": "2024-01-15T10:01:00Z",
            "updated_at": "2024-01-15T10:15:30Z",
            "duration": "14.5m",
            "event": "schedule",
            "branch": "main",
            "url": "https://github.com/org/repo/actions/runs/987654",
            "logs_path": "../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-3406233010"
          },
          "metrics": {
            "token_usage": 45000,
            "estimated_cost": 0.18,
            "turns": 12,
            "error_count": 0,
            "warning_count": 2
          },
          "key_findings": [
            {
              "category": "performance",
              "severity": "medium",
              "title": "Many Iterations",
              "description": "Workflow took 12 turns to complete",
              "impact": "Many turns may indicate task complexity or unclear instructions"
            },
            {
              "category": "network",
              "severity": "medium",
              "title": "Blocked Network Requests",
              "description": "2 network requests were blocked by firewall",
              "impact": "Blocked requests may indicate missing network permissions or unexpected behavior"
            },
            {
              "category": "success",
              "severity": "info",
              "title": "Workflow Completed Successfully",
              "description": "Completed in 12 turns with no errors",
              "impact": "No action needed"
            }
          ],
          "recommendations": [
            {
              "priority": "medium",
              "action": "Clarify workflow instructions or break into smaller tasks",
              "reason": "Many iterations may indicate unclear objectives or overly complex tasks",
              "example": "Split complex workflows into discrete steps with clear success criteria"
            }
          ],
          "performance_metrics": {
            "tokens_per_minute": 3103.448275862069,
            "cost_efficiency": "good",
            "avg_tool_duration": "1.8s",
            "most_used_tool": "github_search_repositories (8 calls)",
            "network_requests": 42
          },
          "jobs": [
            {
              "name": "research",
              "status": "completed",
              "conclusion": "success",
              "duration": "14.5m"
            }
          ],
          "downloaded_files": null,
          "firewall_analysis": {
            "allowed_domains": [
              "api.github.com:443",
              "search.brave.com:443",
              "npmjs.org:443"
            ],
            "blocked_domains": [
              "tracking.example.com:443"
            ],
            "total_requests": 42,
            "allowed_requests": 40,
            "blocked_requests": 2,
            "requests_by_domain": {
              "api.github.com:443": {
                "allowed": 25,
                "blocked": 0
              },
              "npmjs.org:443": {
                "allowed": 5,
                "blocked": 0
              },
              "search.brave.com:443": {
                "allowed": 10,
                "blocked": 0
              },
              "tracking.example.com:443": {
                "allowed": 0,
                "blocked": 2
              }
            }
          },
          "tool_usage": [
            {
              "name": "github_search_repositories",
              "call_count": 8,
              "max_input_size": 512,
              "max_output_size": 4096,
              "max_duration": "3.0s"
            },
            {
              "name": "web_search",
              "call_count": 5,
              "max_input_size": 256,
              "max_output_size": 2048,
              "max_duration": "2.0s"
            },
            {
              "name": "bash_echo",
              "call_count": 3,
              "max_input_size": 128,
              "max_output_size": 256,
              "max_duration": "500ms"
            }
          ]
        }
=== RUN   TestAgentFriendlyOutputExample/Console_Output
    audit_agent_example_test.go:176: Sample Console Output:
        Workflow Run Audit Report
        
        Overview
        
          Run ID  : 987654
          Workflow: weekly-research
          Status  : completed (success)
          Duration: 14.5m
          Event   : schedule
          Branch  : main
          URL     : https://github.com/org/repo/actions/runs/987654
          Files   : ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-3406233010
        
        Key Findings
        
          ðŸŸ¡ Many Iterations [performance]
             Workflow took 12 turns to complete
             Impact: Many turns may indicate task complexity or unclear instructions
        
          ðŸŸ¡ Blocked Network Requests [network]
             2 network requests were blocked by firewall
             Impact: Blocked requests may indicate missing network permissions or unexpected behavior
        
          âœ… âœ“ Workflow Completed Successfully [success]
             Completed in 12 turns with no errors
             Impact: No action needed
        
        Recommendations
        
          1. [MEDIUM] Clarify workflow instructions or break into smaller tasks
             Reason: Many iterations may indicate unclear objectives or overly complex tasks
             Example: Split complex workflows into discrete steps with clear success criteria
        
        Performance Metrics
        
          Tokens per Minute: 3103.4
          Cost Efficiency: âœ“ good
          Average Tool Duration: 1.8s
          Most Used Tool: github_search_repositories (8 calls)
          Network Requests: 42
        
        Metrics
        
          Token Usage   : 45.0k
          Estimated Cost: $0.180
          Turns         : 12
          Errors        : 0
          Warnings      : 2
        
        Jobs
        
        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â•®
        â”‚Name    â”‚Status   â”‚Conclusionâ”‚Durationâ”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚researchâ”‚completedâ”‚success   â”‚14.5m   â”‚
        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â•¯
        Firewall Analysis
        
          Total Requests : 42
          Allowed        : 40
          Blocked        : 2
        
          Allowed Domains:
            âœ“ api.github.com:443 (25 requests)
            âœ“ search.brave.com:443 (10 requests)
            âœ“ npmjs.org:443 (5 requests)
        
          Blocked Domains:
            âœ— tracking.example.com:443 (2 requests)
        
        Tool Usage
        
        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
        â”‚Tool                      â”‚Callsâ”‚Max Inputâ”‚Max Outputâ”‚Max Durationâ”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚github_search_repositoriesâ”‚8    â”‚512      â”‚4.10k     â”‚3.0s        â”‚
        â”‚web_search                â”‚5    â”‚256      â”‚2.05k     â”‚2.0s        â”‚
        â”‚bash_echo                 â”‚3    â”‚128      â”‚256       â”‚500ms       â”‚
        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
        Logs Location
        
          /tmp/gh-aw-test-runs/20260129-002143-306608/test-3406233010
        
=== RUN   TestAgentFriendlyOutputExample/Key_Findings_Quality
=== RUN   TestAgentFriendlyOutputExample/Recommendations_Quality
=== RUN   TestAgentFriendlyOutputExample/Performance_Metrics_Quality
--- PASS: TestAgentFriendlyOutputExample (0.00s)
    --- PASS: TestAgentFriendlyOutputExample/JSON_Output (0.00s)
    --- PASS: TestAgentFriendlyOutputExample/Console_Output (0.00s)
    --- PASS: TestAgentFriendlyOutputExample/Key_Findings_Quality (0.00s)
    --- PASS: TestAgentFriendlyOutputExample/Recommendations_Quality (0.00s)
    --- PASS: TestAgentFriendlyOutputExample/Performance_Metrics_Quality (0.00s)
=== RUN   TestAgentFriendlyOutputFailureScenario
=== RUN   TestAgentFriendlyOutputFailureScenario/Failure_Analysis
=== RUN   TestAgentFriendlyOutputFailureScenario/Failure_Findings
=== RUN   TestAgentFriendlyOutputFailureScenario/Failure_Recommendations
=== RUN   TestAgentFriendlyOutputFailureScenario/JSON_Output_for_Failure
    audit_agent_example_test.go:401: Failure Scenario JSON Output:
        {
          "overview": {
            "run_id": 111222,
            "workflow_name": "ci-build",
            "status": "completed",
            "conclusion": "failure",
            "created_at": "2024-01-15T12:00:00Z",
            "started_at": "0001-01-01T00:00:00Z",
            "updated_at": "0001-01-01T00:00:00Z",
            "duration": "3.8m",
            "event": "push",
            "branch": "feature-branch",
            "url": "https://github.com/org/repo/actions/runs/111222",
            "logs_path": "../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-4177748082"
          },
          "metrics": {
            "token_usage": 8000,
            "estimated_cost": 0.03,
            "turns": 4,
            "error_count": 3,
            "warning_count": 1
          },
          "key_findings": [
            {
              "category": "error",
              "severity": "critical",
              "title": "Workflow Failed",
              "description": "Workflow 'ci-build' failed with 3 error(s)",
              "impact": "Workflow did not complete successfully and may need intervention"
            },
            {
              "category": "tooling",
              "severity": "high",
              "title": "MCP Server Failures",
              "description": "Failed MCP servers: build-tools",
              "impact": "Missing tools may limit workflow capabilities"
            }
          ],
          "recommendations": [
            {
              "priority": "high",
              "action": "Review error logs to identify root cause of failure",
              "reason": "Understanding failure causes helps prevent recurrence",
              "example": "Check the Errors section below for specific error messages and file locations"
            },
            {
              "priority": "high",
              "action": "Fix MCP server configuration or dependencies",
              "reason": "MCP server failures prevent agent from accessing required tools",
              "example": "Check server logs and verify MCP server is properly configured and accessible"
            }
          ],
          "failure_analysis": {
            "primary_failure": "failure",
            "failed_jobs": [
              "build"
            ],
            "error_summary": "No specific errors identified",
            "root_cause": "MCP server failure: build-tools"
          },
          "performance_metrics": {
            "tokens_per_minute": 2133.3333333333335,
            "cost_efficiency": "excellent"
          },
          "jobs": [
            {
              "name": "build",
              "status": "completed",
              "conclusion": "failure",
              "duration": "3.8m"
            }
          ],
          "downloaded_files": null,
          "mcp_failures": [
            {
              "server_name": "build-tools",
              "status": "connection_failed"
            }
          ]
        }
--- PASS: TestAgentFriendlyOutputFailureScenario (0.00s)
    --- PASS: TestAgentFriendlyOutputFailureScenario/Failure_Analysis (0.00s)
    --- PASS: TestAgentFriendlyOutputFailureScenario/Failure_Findings (0.00s)
    --- PASS: TestAgentFriendlyOutputFailureScenario/Failure_Recommendations (0.00s)
    --- PASS: TestAgentFriendlyOutputFailureScenario/JSON_Output_for_Failure (0.00s)
=== RUN   TestKeyFindingsGeneration
=== RUN   TestKeyFindingsGeneration/Failed_workflow_with_errors
=== RUN   TestKeyFindingsGeneration/High_cost_workflow
=== RUN   TestKeyFindingsGeneration/MCP_failures
=== RUN   TestKeyFindingsGeneration/Missing_tools
--- PASS: TestKeyFindingsGeneration (0.00s)
    --- PASS: TestKeyFindingsGeneration/Failed_workflow_with_errors (0.00s)
    --- PASS: TestKeyFindingsGeneration/High_cost_workflow (0.00s)
    --- PASS: TestKeyFindingsGeneration/MCP_failures (0.00s)
    --- PASS: TestKeyFindingsGeneration/Missing_tools (0.00s)
=== RUN   TestRecommendationsGeneration
=== RUN   TestRecommendationsGeneration/Critical_failure
=== RUN   TestRecommendationsGeneration/High_cost_with_many_turns
=== RUN   TestRecommendationsGeneration/Missing_tools
=== RUN   TestRecommendationsGeneration/MCP_failures
--- PASS: TestRecommendationsGeneration (0.00s)
    --- PASS: TestRecommendationsGeneration/Critical_failure (0.00s)
    --- PASS: TestRecommendationsGeneration/High_cost_with_many_turns (0.00s)
    --- PASS: TestRecommendationsGeneration/Missing_tools (0.00s)
    --- PASS: TestRecommendationsGeneration/MCP_failures (0.00s)
=== RUN   TestFailureAnalysisGeneration
=== RUN   TestFailureAnalysisGeneration/Simple_failure_with_error
=== RUN   TestFailureAnalysisGeneration/Permission_denied_error
=== RUN   TestFailureAnalysisGeneration/MCP_server_failure
=== RUN   TestFailureAnalysisGeneration/Failed_jobs
--- PASS: TestFailureAnalysisGeneration (0.00s)
    --- PASS: TestFailureAnalysisGeneration/Simple_failure_with_error (0.00s)
    --- PASS: TestFailureAnalysisGeneration/Permission_denied_error (0.00s)
    --- PASS: TestFailureAnalysisGeneration/MCP_server_failure (0.00s)
    --- PASS: TestFailureAnalysisGeneration/Failed_jobs (0.00s)
=== RUN   TestPerformanceMetricsGeneration
=== RUN   TestPerformanceMetricsGeneration/Excellent_cost_efficiency
=== RUN   TestPerformanceMetricsGeneration/Poor_cost_efficiency
=== RUN   TestPerformanceMetricsGeneration/With_tool_usage
=== RUN   TestPerformanceMetricsGeneration/With_firewall_analysis
--- PASS: TestPerformanceMetricsGeneration (0.00s)
    --- PASS: TestPerformanceMetricsGeneration/Excellent_cost_efficiency (0.00s)
    --- PASS: TestPerformanceMetricsGeneration/Poor_cost_efficiency (0.00s)
    --- PASS: TestPerformanceMetricsGeneration/With_tool_usage (0.00s)
    --- PASS: TestPerformanceMetricsGeneration/With_firewall_analysis (0.00s)
=== RUN   TestAuditDataJSONStructure
--- PASS: TestAuditDataJSONStructure (0.00s)
=== RUN   TestAuditReportIncludesInputSizes
--- PASS: TestAuditReportIncludesInputSizes (0.00s)
=== RUN   TestAuditDataJSONIncludesInputSizes
--- PASS: TestAuditDataJSONIncludesInputSizes (0.00s)
=== RUN   TestToolUsageInfoStructure
--- PASS: TestToolUsageInfoStructure (0.00s)
=== RUN   TestCalculateDirectorySize
=== RUN   TestCalculateDirectorySize/empty_directory
=== RUN   TestCalculateDirectorySize/single_file
=== RUN   TestCalculateDirectorySize/multiple_files_in_nested_directories
=== RUN   TestCalculateDirectorySize/nonexistent_directory
--- PASS: TestCalculateDirectorySize (0.00s)
    --- PASS: TestCalculateDirectorySize/empty_directory (0.00s)
    --- PASS: TestCalculateDirectorySize/single_file (0.00s)
    --- PASS: TestCalculateDirectorySize/multiple_files_in_nested_directories (0.00s)
    --- PASS: TestCalculateDirectorySize/nonexistent_directory (0.00s)
=== RUN   TestParseDurationString
=== RUN   TestParseDurationString/valid_duration_-_seconds
=== RUN   TestParseDurationString/valid_duration_-_minutes
=== RUN   TestParseDurationString/valid_duration_-_hours
=== RUN   TestParseDurationString/valid_duration_-_complex
=== RUN   TestParseDurationString/invalid_duration
=== RUN   TestParseDurationString/empty_string
=== RUN   TestParseDurationString/zero_duration
--- PASS: TestParseDurationString (0.00s)
    --- PASS: TestParseDurationString/valid_duration_-_seconds (0.00s)
    --- PASS: TestParseDurationString/valid_duration_-_minutes (0.00s)
    --- PASS: TestParseDurationString/valid_duration_-_hours (0.00s)
    --- PASS: TestParseDurationString/valid_duration_-_complex (0.00s)
    --- PASS: TestParseDurationString/invalid_duration (0.00s)
    --- PASS: TestParseDurationString/empty_string (0.00s)
    --- PASS: TestParseDurationString/zero_duration (0.00s)
=== RUN   TestTruncateString
=== RUN   TestTruncateString/string_shorter_than_max_length
=== RUN   TestTruncateString/string_equal_to_max_length
=== RUN   TestTruncateString/string_longer_than_max_length
=== RUN   TestTruncateString/max_length_3_or_less
=== RUN   TestTruncateString/max_length_2
=== RUN   TestTruncateString/max_length_1
=== RUN   TestTruncateString/empty_string
=== RUN   TestTruncateString/unicode_string
--- PASS: TestTruncateString (0.00s)
    --- PASS: TestTruncateString/string_shorter_than_max_length (0.00s)
    --- PASS: TestTruncateString/string_equal_to_max_length (0.00s)
    --- PASS: TestTruncateString/string_longer_than_max_length (0.00s)
    --- PASS: TestTruncateString/max_length_3_or_less (0.00s)
    --- PASS: TestTruncateString/max_length_2 (0.00s)
    --- PASS: TestTruncateString/max_length_1 (0.00s)
    --- PASS: TestTruncateString/empty_string (0.00s)
    --- PASS: TestTruncateString/unicode_string (0.00s)
=== RUN   TestDownloadedFilesInAuditData
--- PASS: TestDownloadedFilesInAuditData (0.00s)
=== RUN   TestConsoleOutputIncludesFileInfo
--- PASS: TestConsoleOutputIncludesFileInfo (0.00s)
=== RUN   TestAuditReportFileListingIntegration
=== RUN   TestAuditReportFileListingIntegration/aw_info.json
=== RUN   TestAuditReportFileListingIntegration/safe_output.jsonl
=== RUN   TestAuditReportFileListingIntegration/firewall.md
=== RUN   TestAuditReportFileListingIntegration/run_summary.json
=== RUN   TestAuditReportFileListingIntegration/custom.json
=== RUN   TestAuditReportFileListingIntegration/notes.txt
--- PASS: TestAuditReportFileListingIntegration (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/aw_info.json (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/safe_output.jsonl (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/firewall.md (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/run_summary.json (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/custom.json (0.00s)
    --- PASS: TestAuditReportFileListingIntegration/notes.txt (0.00s)
=== RUN   TestGenerateFindings
=== RUN   TestGenerateFindings/successful_workflow_with_no_issues
=== RUN   TestGenerateFindings/failed_workflow
=== RUN   TestGenerateFindings/timed_out_workflow
=== RUN   TestGenerateFindings/high_cost_workflow
=== RUN   TestGenerateFindings/moderate_cost_workflow
=== RUN   TestGenerateFindings/high_token_usage
=== RUN   TestGenerateFindings/many_iterations
=== RUN   TestGenerateFindings/multiple_errors
=== RUN   TestGenerateFindings/MCP_server_failures
=== RUN   TestGenerateFindings/missing_tools
=== RUN   TestGenerateFindings/firewall_blocked_requests
--- PASS: TestGenerateFindings (0.00s)
    --- PASS: TestGenerateFindings/successful_workflow_with_no_issues (0.00s)
    --- PASS: TestGenerateFindings/failed_workflow (0.00s)
    --- PASS: TestGenerateFindings/timed_out_workflow (0.00s)
    --- PASS: TestGenerateFindings/high_cost_workflow (0.00s)
    --- PASS: TestGenerateFindings/moderate_cost_workflow (0.00s)
    --- PASS: TestGenerateFindings/high_token_usage (0.00s)
    --- PASS: TestGenerateFindings/many_iterations (0.00s)
    --- PASS: TestGenerateFindings/multiple_errors (0.00s)
    --- PASS: TestGenerateFindings/MCP_server_failures (0.00s)
    --- PASS: TestGenerateFindings/missing_tools (0.00s)
    --- PASS: TestGenerateFindings/firewall_blocked_requests (0.00s)
=== RUN   TestGenerateRecommendations
=== RUN   TestGenerateRecommendations/failed_workflow_generates_review_recommendation
=== RUN   TestGenerateRecommendations/critical_findings_generate_review_recommendation
=== RUN   TestGenerateRecommendations/high_cost_findings_generate_optimization_recommendation
=== RUN   TestGenerateRecommendations/missing_tools_generate_add_tools_recommendation
=== RUN   TestGenerateRecommendations/MCP_failures_generate_fix_recommendation
=== RUN   TestGenerateRecommendations/many_firewall_blocks_generate_network_review_recommendation
=== RUN   TestGenerateRecommendations/successful_workflow_with_no_issues_gets_monitoring_recommendation
--- PASS: TestGenerateRecommendations (0.00s)
    --- PASS: TestGenerateRecommendations/failed_workflow_generates_review_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/critical_findings_generate_review_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/high_cost_findings_generate_optimization_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/missing_tools_generate_add_tools_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/MCP_failures_generate_fix_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/many_firewall_blocks_generate_network_review_recommendation (0.00s)
    --- PASS: TestGenerateRecommendations/successful_workflow_with_no_issues_gets_monitoring_recommendation (0.00s)
=== RUN   TestGenerateFailureAnalysis
=== RUN   TestGenerateFailureAnalysis/basic_failure_analysis
=== RUN   TestGenerateFailureAnalysis/failure_with_failed_jobs
=== RUN   TestGenerateFailureAnalysis/failure_with_single_error
=== RUN   TestGenerateFailureAnalysis/failure_with_multiple_errors
=== RUN   TestGenerateFailureAnalysis/failure_with_MCP_server_failure_root_cause
=== RUN   TestGenerateFailureAnalysis/failure_with_timeout_error_pattern
=== RUN   TestGenerateFailureAnalysis/failure_with_permission_error_pattern
=== RUN   TestGenerateFailureAnalysis/failure_with_not_found_error_pattern
=== RUN   TestGenerateFailureAnalysis/failure_with_authentication_error_pattern
=== RUN   TestGenerateFailureAnalysis/unknown_failure_with_no_errors
--- PASS: TestGenerateFailureAnalysis (0.00s)
    --- PASS: TestGenerateFailureAnalysis/basic_failure_analysis (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_failed_jobs (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_single_error (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_multiple_errors (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_MCP_server_failure_root_cause (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_timeout_error_pattern (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_permission_error_pattern (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_not_found_error_pattern (0.00s)
    --- PASS: TestGenerateFailureAnalysis/failure_with_authentication_error_pattern (0.00s)
    --- PASS: TestGenerateFailureAnalysis/unknown_failure_with_no_errors (0.00s)
=== RUN   TestGeneratePerformanceMetrics
=== RUN   TestGeneratePerformanceMetrics/tokens_per_minute_calculation
=== RUN   TestGeneratePerformanceMetrics/cost_efficiency_-_excellent
=== RUN   TestGeneratePerformanceMetrics/cost_efficiency_-_good
=== RUN   TestGeneratePerformanceMetrics/cost_efficiency_-_moderate
=== RUN   TestGeneratePerformanceMetrics/cost_efficiency_-_poor
=== RUN   TestGeneratePerformanceMetrics/most_used_tool
=== RUN   TestGeneratePerformanceMetrics/average_tool_duration
=== RUN   TestGeneratePerformanceMetrics/network_requests_from_firewall
=== RUN   TestGeneratePerformanceMetrics/zero_duration_doesn't_calculate_tokens_per_minute
--- PASS: TestGeneratePerformanceMetrics (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/tokens_per_minute_calculation (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/cost_efficiency_-_excellent (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/cost_efficiency_-_good (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/cost_efficiency_-_moderate (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/cost_efficiency_-_poor (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/most_used_tool (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/average_tool_duration (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/network_requests_from_firewall (0.00s)
    --- PASS: TestGeneratePerformanceMetrics/zero_duration_doesn't_calculate_tokens_per_minute (0.00s)
=== RUN   TestBuildAuditDataComplete
=== RUN   TestBuildAuditDataComplete/Overview
=== RUN   TestBuildAuditDataComplete/Metrics
=== RUN   TestBuildAuditDataComplete/Jobs
=== RUN   TestBuildAuditDataComplete/ToolUsage
=== RUN   TestBuildAuditDataComplete/Findings
=== RUN   TestBuildAuditDataComplete/Recommendations
=== RUN   TestBuildAuditDataComplete/FailureAnalysis
=== RUN   TestBuildAuditDataComplete/PerformanceMetrics
=== RUN   TestBuildAuditDataComplete/FirewallAnalysis
=== RUN   TestBuildAuditDataComplete/RedactedDomainsAnalysis
=== RUN   TestBuildAuditDataComplete/MCPFailures
=== RUN   TestBuildAuditDataComplete/MissingTools
--- PASS: TestBuildAuditDataComplete (0.00s)
    --- PASS: TestBuildAuditDataComplete/Overview (0.00s)
    --- PASS: TestBuildAuditDataComplete/Metrics (0.00s)
    --- PASS: TestBuildAuditDataComplete/Jobs (0.00s)
    --- PASS: TestBuildAuditDataComplete/ToolUsage (0.00s)
    --- PASS: TestBuildAuditDataComplete/Findings (0.00s)
    --- PASS: TestBuildAuditDataComplete/Recommendations (0.00s)
    --- PASS: TestBuildAuditDataComplete/FailureAnalysis (0.00s)
    --- PASS: TestBuildAuditDataComplete/PerformanceMetrics (0.00s)
    --- PASS: TestBuildAuditDataComplete/FirewallAnalysis (0.00s)
    --- PASS: TestBuildAuditDataComplete/RedactedDomainsAnalysis (0.00s)
    --- PASS: TestBuildAuditDataComplete/MCPFailures (0.00s)
    --- PASS: TestBuildAuditDataComplete/MissingTools (0.00s)
=== RUN   TestBuildAuditDataMinimal
--- PASS: TestBuildAuditDataMinimal (0.00s)
=== RUN   TestRenderJSONComplete
--- PASS: TestRenderJSONComplete (0.00s)
=== RUN   TestToolUsageAggregation
--- PASS: TestToolUsageAggregation (0.00s)
=== RUN   TestExtractDownloadedFilesEmpty
--- PASS: TestExtractDownloadedFilesEmpty (0.00s)
=== RUN   TestFindingSeverityOrdering
--- PASS: TestFindingSeverityOrdering (0.00s)
=== RUN   TestRecommendationPriorityOrdering
--- PASS: TestRecommendationPriorityOrdering (0.00s)
=== RUN   TestDescribeFileAdditionalPatterns
=== RUN   TestDescribeFileAdditionalPatterns/unknown_file
--- PASS: TestDescribeFileAdditionalPatterns (0.00s)
    --- PASS: TestDescribeFileAdditionalPatterns/unknown_file (0.00s)
=== RUN   TestExtractRunID
=== RUN   TestExtractRunID/Numeric_run_ID
=== RUN   TestExtractRunID/Run_URL
=== RUN   TestExtractRunID/Job_URL
=== RUN   TestExtractRunID/Job_URL_with_attempts
=== RUN   TestExtractRunID/Run_URL_with_trailing_slash
=== RUN   TestExtractRunID/Workflow_run_URL_without_/actions/
=== RUN   TestExtractRunID/GitHub_Enterprise_URL
=== RUN   TestExtractRunID/Invalid_format
=== RUN   TestExtractRunID/Invalid_URL_without_run_ID
=== RUN   TestExtractRunID/Empty_string
--- PASS: TestExtractRunID (0.00s)
    --- PASS: TestExtractRunID/Numeric_run_ID (0.00s)
    --- PASS: TestExtractRunID/Run_URL (0.00s)
    --- PASS: TestExtractRunID/Job_URL (0.00s)
    --- PASS: TestExtractRunID/Job_URL_with_attempts (0.00s)
    --- PASS: TestExtractRunID/Run_URL_with_trailing_slash (0.00s)
    --- PASS: TestExtractRunID/Workflow_run_URL_without_/actions/ (0.00s)
    --- PASS: TestExtractRunID/GitHub_Enterprise_URL (0.00s)
    --- PASS: TestExtractRunID/Invalid_format (0.00s)
    --- PASS: TestExtractRunID/Invalid_URL_without_run_ID (0.00s)
    --- PASS: TestExtractRunID/Empty_string (0.00s)
=== RUN   TestParseRunURL
=== RUN   TestParseRunURL/Numeric_run_ID
=== RUN   TestParseRunURL/Run_URL_with_/actions/runs/
=== RUN   TestParseRunURL/Job_URL
=== RUN   TestParseRunURL/Workflow_run_URL_without_/actions/
=== RUN   TestParseRunURL/GitHub_Enterprise_URL
=== RUN   TestParseRunURL/GitHub_Enterprise_URL_without_/actions/
=== RUN   TestParseRunURL/Invalid_URL_format
=== RUN   TestParseRunURL/Invalid_string
--- PASS: TestParseRunURL (0.00s)
    --- PASS: TestParseRunURL/Numeric_run_ID (0.00s)
    --- PASS: TestParseRunURL/Run_URL_with_/actions/runs/ (0.00s)
    --- PASS: TestParseRunURL/Job_URL (0.00s)
    --- PASS: TestParseRunURL/Workflow_run_URL_without_/actions/ (0.00s)
    --- PASS: TestParseRunURL/GitHub_Enterprise_URL (0.00s)
    --- PASS: TestParseRunURL/GitHub_Enterprise_URL_without_/actions/ (0.00s)
    --- PASS: TestParseRunURL/Invalid_URL_format (0.00s)
    --- PASS: TestParseRunURL/Invalid_string (0.00s)
=== RUN   TestIsPermissionError
=== RUN   TestIsPermissionError/Nil_error
=== RUN   TestIsPermissionError/Authentication_required_error
=== RUN   TestIsPermissionError/Exit_status_4_error
=== RUN   TestIsPermissionError/GitHub_CLI_authentication_error
=== RUN   TestIsPermissionError/Permission_denied_error
=== RUN   TestIsPermissionError/GH_TOKEN_error
=== RUN   TestIsPermissionError/Other_error
--- PASS: TestIsPermissionError (0.00s)
    --- PASS: TestIsPermissionError/Nil_error (0.00s)
    --- PASS: TestIsPermissionError/Authentication_required_error (0.00s)
    --- PASS: TestIsPermissionError/Exit_status_4_error (0.00s)
    --- PASS: TestIsPermissionError/GitHub_CLI_authentication_error (0.00s)
    --- PASS: TestIsPermissionError/Permission_denied_error (0.00s)
    --- PASS: TestIsPermissionError/GH_TOKEN_error (0.00s)
    --- PASS: TestIsPermissionError/Other_error (0.00s)
=== RUN   TestGenerateAuditReport
--- PASS: TestGenerateAuditReport (0.00s)
=== RUN   TestGenerateAuditReportMinimal
--- PASS: TestGenerateAuditReportMinimal (0.00s)
=== RUN   TestGenerateAuditReportWithErrors
--- PASS: TestGenerateAuditReportWithErrors (0.00s)
=== RUN   TestGenerateAuditReportArtifacts
--- PASS: TestGenerateAuditReportArtifacts (0.00s)
=== RUN   TestBuildAuditData
--- PASS: TestBuildAuditData (0.00s)
=== RUN   TestDescribeFile
=== RUN   TestDescribeFile/aw_info.json
=== RUN   TestDescribeFile/safe_output.jsonl
=== RUN   TestDescribeFile/agent_output.json
=== RUN   TestDescribeFile/aw.patch
=== RUN   TestDescribeFile/agent-stdio.log
=== RUN   TestDescribeFile/log.md
=== RUN   TestDescribeFile/firewall.md
=== RUN   TestDescribeFile/run_summary.json
=== RUN   TestDescribeFile/prompt.txt
=== RUN   TestDescribeFile/random.log
=== RUN   TestDescribeFile/unknown.txt
=== RUN   TestDescribeFile/data.json
=== RUN   TestDescribeFile/output.jsonl
=== RUN   TestDescribeFile/changes.patch
=== RUN   TestDescribeFile/notes.md
=== RUN   TestDescribeFile/agent_output
=== RUN   TestDescribeFile/firewall-logs
=== RUN   TestDescribeFile/squid-logs
=== RUN   TestDescribeFile/aw-prompts
=== RUN   TestDescribeFile/somedir/
--- PASS: TestDescribeFile (0.00s)
    --- PASS: TestDescribeFile/aw_info.json (0.00s)
    --- PASS: TestDescribeFile/safe_output.jsonl (0.00s)
    --- PASS: TestDescribeFile/agent_output.json (0.00s)
    --- PASS: TestDescribeFile/aw.patch (0.00s)
    --- PASS: TestDescribeFile/agent-stdio.log (0.00s)
    --- PASS: TestDescribeFile/log.md (0.00s)
    --- PASS: TestDescribeFile/firewall.md (0.00s)
    --- PASS: TestDescribeFile/run_summary.json (0.00s)
    --- PASS: TestDescribeFile/prompt.txt (0.00s)
    --- PASS: TestDescribeFile/random.log (0.00s)
    --- PASS: TestDescribeFile/unknown.txt (0.00s)
    --- PASS: TestDescribeFile/data.json (0.00s)
    --- PASS: TestDescribeFile/output.jsonl (0.00s)
    --- PASS: TestDescribeFile/changes.patch (0.00s)
    --- PASS: TestDescribeFile/notes.md (0.00s)
    --- PASS: TestDescribeFile/agent_output (0.00s)
    --- PASS: TestDescribeFile/firewall-logs (0.00s)
    --- PASS: TestDescribeFile/squid-logs (0.00s)
    --- PASS: TestDescribeFile/aw-prompts (0.00s)
    --- PASS: TestDescribeFile/somedir/ (0.00s)
=== RUN   TestRenderJSON
--- PASS: TestRenderJSON (0.00s)
=== RUN   TestAuditCachingBehavior
--- PASS: TestAuditCachingBehavior (0.00s)
=== RUN   TestAuditParseFlagBehavior
    audit_test.go:934: Test skipped - log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestAuditParseFlagBehavior (0.00s)
=== RUN   TestBuildAuditDataWithFirewall
--- PASS: TestBuildAuditDataWithFirewall (0.00s)
=== RUN   TestGenerateAuditReportWithFirewall
--- PASS: TestGenerateAuditReportWithFirewall (0.00s)
=== RUN   TestRenderJSONWithFirewall
--- PASS: TestRenderJSONWithFirewall (0.00s)
=== RUN   TestExtractStepOutput
=== RUN   TestExtractStepOutput/Extract_step_3_(failing_step)
=== RUN   TestExtractStepOutput/Extract_step_1
=== RUN   TestExtractStepOutput/Extract_non-existent_step
--- PASS: TestExtractStepOutput (0.00s)
    --- PASS: TestExtractStepOutput/Extract_step_3_(failing_step) (0.00s)
    --- PASS: TestExtractStepOutput/Extract_step_1 (0.00s)
    --- PASS: TestExtractStepOutput/Extract_non-existent_step (0.00s)
=== RUN   TestFindFirstFailingStep
=== RUN   TestFindFirstFailingStep/Find_failing_step_with_error_marker
=== RUN   TestFindFirstFailingStep/Find_failing_step_with_exit_code
=== RUN   TestFindFirstFailingStep/No_failing_steps
--- PASS: TestFindFirstFailingStep (0.00s)
    --- PASS: TestFindFirstFailingStep/Find_failing_step_with_error_marker (0.00s)
    --- PASS: TestFindFirstFailingStep/Find_failing_step_with_exit_code (0.00s)
    --- PASS: TestFindFirstFailingStep/No_failing_steps (0.00s)
=== RUN   TestAwInfoStepsFieldParsing
=== RUN   TestAwInfoStepsFieldParsing/firewall_enabled_with_squid
    awinfo_steps_test.go:84: âœ“ Should parse steps.firewall as 'squid' when firewall is enabled
=== RUN   TestAwInfoStepsFieldParsing/firewall_disabled_(empty_string)
    awinfo_steps_test.go:84: âœ“ Should parse steps.firewall as empty string when firewall is disabled
=== RUN   TestAwInfoStepsFieldParsing/no_steps_field_(backward_compatibility)
    awinfo_steps_test.go:84: âœ“ Should handle missing steps field (backward compatibility)
--- PASS: TestAwInfoStepsFieldParsing (0.00s)
    --- PASS: TestAwInfoStepsFieldParsing/firewall_enabled_with_squid (0.00s)
    --- PASS: TestAwInfoStepsFieldParsing/firewall_disabled_(empty_string) (0.00s)
    --- PASS: TestAwInfoStepsFieldParsing/no_steps_field_(backward_compatibility) (0.00s)
=== RUN   TestAwInfoStepsMarshaling
    awinfo_steps_test.go:129: âœ“ AwInfo marshals correctly with steps field
--- PASS: TestAwInfoStepsMarshaling (0.00s)
=== RUN   TestIsRunningInCI
=== RUN   TestIsRunningInCI/not_running_in_CI_-_no_env_vars_set
=== RUN   TestIsRunningInCI/running_in_CI_-_CI_env_var_set
=== RUN   TestIsRunningInCI/running_in_CI_-_CONTINUOUS_INTEGRATION_env_var_set
=== RUN   TestIsRunningInCI/running_in_CI_-_GITHUB_ACTIONS_env_var_set
=== RUN   TestIsRunningInCI/running_in_CI_-_multiple_env_vars_set
=== RUN   TestIsRunningInCI/running_in_CI_-_CI_env_var_set_to_empty_string_is_still_truthy
=== RUN   TestIsRunningInCI/running_in_CI_-_other_env_vars_don't_affect_result
--- PASS: TestIsRunningInCI (0.00s)
    --- PASS: TestIsRunningInCI/not_running_in_CI_-_no_env_vars_set (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_CI_env_var_set (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_CONTINUOUS_INTEGRATION_env_var_set (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_GITHUB_ACTIONS_env_var_set (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_multiple_env_vars_set (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_CI_env_var_set_to_empty_string_is_still_truthy (0.00s)
    --- PASS: TestIsRunningInCI/running_in_CI_-_other_env_vars_don't_affect_result (0.00s)
=== RUN   TestGetAgentTaskToAgentSessionCodemod
--- PASS: TestGetAgentTaskToAgentSessionCodemod (0.00s)
=== RUN   TestAgentSessionCodemod_BasicMigration
--- PASS: TestAgentSessionCodemod_BasicMigration (0.00s)
=== RUN   TestAgentSessionCodemod_PreservesIndentation
--- PASS: TestAgentSessionCodemod_PreservesIndentation (0.00s)
=== RUN   TestAgentSessionCodemod_PreservesComment
--- PASS: TestAgentSessionCodemod_PreservesComment (0.00s)
=== RUN   TestAgentSessionCodemod_NoSafeOutputsField
--- PASS: TestAgentSessionCodemod_NoSafeOutputsField (0.00s)
=== RUN   TestAgentSessionCodemod_NoAgentTaskField
--- PASS: TestAgentSessionCodemod_NoAgentTaskField (0.00s)
=== RUN   TestAgentSessionCodemod_PreservesOtherFields
--- PASS: TestAgentSessionCodemod_PreservesOtherFields (0.00s)
=== RUN   TestAgentSessionCodemod_PreservesMarkdown
--- PASS: TestAgentSessionCodemod_PreservesMarkdown (0.00s)
=== RUN   TestAgentSessionCodemod_SkipsWhenSessionAlreadyExists
--- PASS: TestAgentSessionCodemod_SkipsWhenSessionAlreadyExists (0.00s)
=== RUN   TestGetDiscussionFlagRemovalCodemod
--- PASS: TestGetDiscussionFlagRemovalCodemod (0.00s)
=== RUN   TestDiscussionFlagCodemod_RemovesDiscussionFlag
--- PASS: TestDiscussionFlagCodemod_RemovesDiscussionFlag (0.00s)
=== RUN   TestDiscussionFlagCodemod_NoSafeOutputsField
--- PASS: TestDiscussionFlagCodemod_NoSafeOutputsField (0.00s)
=== RUN   TestDiscussionFlagCodemod_NoAddCommentField
--- PASS: TestDiscussionFlagCodemod_NoAddCommentField (0.00s)
=== RUN   TestDiscussionFlagCodemod_NoDiscussionField
--- PASS: TestDiscussionFlagCodemod_NoDiscussionField (0.00s)
=== RUN   TestDiscussionFlagCodemod_PreservesIndentation
--- PASS: TestDiscussionFlagCodemod_PreservesIndentation (0.00s)
=== RUN   TestDiscussionFlagCodemod_PreservesComments
--- PASS: TestDiscussionFlagCodemod_PreservesComments (0.00s)
=== RUN   TestDiscussionFlagCodemod_PreservesMarkdown
--- PASS: TestDiscussionFlagCodemod_PreservesMarkdown (0.00s)
=== RUN   TestDiscussionFlagCodemod_MultipleFields
--- PASS: TestDiscussionFlagCodemod_MultipleFields (0.00s)
=== RUN   TestGetGrepToolRemovalCodemod
--- PASS: TestGetGrepToolRemovalCodemod (0.00s)
=== RUN   TestGrepToolRemovalCodemod_BasicRemoval
--- PASS: TestGrepToolRemovalCodemod_BasicRemoval (0.00s)
=== RUN   TestGrepToolRemovalCodemod_NoToolsBlock
--- PASS: TestGrepToolRemovalCodemod_NoToolsBlock (0.00s)
=== RUN   TestGrepToolRemovalCodemod_NoGrepField
--- PASS: TestGrepToolRemovalCodemod_NoGrepField (0.00s)
=== RUN   TestGrepToolRemovalCodemod_PreservesOtherTools
--- PASS: TestGrepToolRemovalCodemod_PreservesOtherTools (0.00s)
=== RUN   TestGrepToolRemovalCodemod_GrepWithFalseValue
--- PASS: TestGrepToolRemovalCodemod_GrepWithFalseValue (0.00s)
=== RUN   TestGrepToolRemovalCodemod_PreservesMarkdown
--- PASS: TestGrepToolRemovalCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGrepToolRemovalCodemod_ToolsAsInvalidType
--- PASS: TestGrepToolRemovalCodemod_ToolsAsInvalidType (0.00s)
=== RUN   TestMCPModeToTypeCodemod
=== RUN   TestMCPModeToTypeCodemod/renames_mode_to_type_in_custom_MCP_servers
=== RUN   TestMCPModeToTypeCodemod/does_not_modify_workflows_without_mcp-servers
=== RUN   TestMCPModeToTypeCodemod/does_not_modify_GitHub_tool_mode_field
=== RUN   TestMCPModeToTypeCodemod/handles_multiple_MCP_servers_with_mode
=== RUN   TestMCPModeToTypeCodemod/does_not_modify_when_no_mode_field_exists
=== RUN   TestMCPModeToTypeCodemod/preserves_comments_and_formatting
--- PASS: TestMCPModeToTypeCodemod (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/renames_mode_to_type_in_custom_MCP_servers (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/does_not_modify_workflows_without_mcp-servers (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/does_not_modify_GitHub_tool_mode_field (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/handles_multiple_MCP_servers_with_mode (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/does_not_modify_when_no_mode_field_exists (0.00s)
    --- PASS: TestMCPModeToTypeCodemod/preserves_comments_and_formatting (0.00s)
=== RUN   TestGetMCPNetworkMigrationCodemod
--- PASS: TestGetMCPNetworkMigrationCodemod (0.00s)
=== RUN   TestMCPNetworkCodemod_NoMCPServers
--- PASS: TestMCPNetworkCodemod_NoMCPServers (0.00s)
=== RUN   TestMCPNetworkCodemod_MCPServerWithoutNetwork
--- PASS: TestMCPNetworkCodemod_MCPServerWithoutNetwork (0.00s)
=== RUN   TestMCPNetworkCodemod_SingleServerWithNetwork
--- PASS: TestMCPNetworkCodemod_SingleServerWithNetwork (0.00s)
=== RUN   TestMCPNetworkCodemod_MultipleServersWithSameNetwork
--- PASS: TestMCPNetworkCodemod_MultipleServersWithSameNetwork (0.00s)
=== RUN   TestMCPNetworkCodemod_MultipleServersWithDifferentNetworks
--- PASS: TestMCPNetworkCodemod_MultipleServersWithDifferentNetworks (0.00s)
=== RUN   TestMCPNetworkCodemod_MergeWithExistingTopLevelNetwork
--- PASS: TestMCPNetworkCodemod_MergeWithExistingTopLevelNetwork (0.00s)
=== RUN   TestMCPNetworkCodemod_PreservesOtherMCPFields
--- PASS: TestMCPNetworkCodemod_PreservesOtherMCPFields (0.00s)
=== RUN   TestMCPNetworkCodemod_MixedServersWithAndWithoutNetwork
--- PASS: TestMCPNetworkCodemod_MixedServersWithAndWithoutNetwork (0.00s)
=== RUN   TestMCPNetworkCodemod_PreservesMarkdown
--- PASS: TestMCPNetworkCodemod_PreservesMarkdown (0.00s)
=== RUN   TestMCPNetworkCodemod_PreservesComments
--- PASS: TestMCPNetworkCodemod_PreservesComments (0.00s)
=== RUN   TestMCPNetworkCodemod_EmptyNetworkAllowed
--- PASS: TestMCPNetworkCodemod_EmptyNetworkAllowed (0.00s)
=== RUN   TestMCPNetworkCodemod_NetworkWithoutAllowed
--- PASS: TestMCPNetworkCodemod_NetworkWithoutAllowed (0.00s)
=== RUN   TestMCPNetworkCodemod_DeduplicatesAcrossServersAndTopLevel
--- PASS: TestMCPNetworkCodemod_DeduplicatesAcrossServersAndTopLevel (0.00s)
=== RUN   TestGetNetworkFirewallCodemod
--- PASS: TestGetNetworkFirewallCodemod (0.00s)
=== RUN   TestNetworkFirewallCodemod_RemovesFirewallTrue
--- PASS: TestNetworkFirewallCodemod_RemovesFirewallTrue (0.00s)
=== RUN   TestNetworkFirewallCodemod_RemovesFirewallFalse
--- PASS: TestNetworkFirewallCodemod_RemovesFirewallFalse (0.00s)
=== RUN   TestNetworkFirewallCodemod_NoNetworkField
--- PASS: TestNetworkFirewallCodemod_NoNetworkField (0.00s)
=== RUN   TestNetworkFirewallCodemod_NoFirewallField
--- PASS: TestNetworkFirewallCodemod_NoFirewallField (0.00s)
=== RUN   TestNetworkFirewallCodemod_SkipsWhenSandboxExists
--- PASS: TestNetworkFirewallCodemod_SkipsWhenSandboxExists (0.00s)
=== RUN   TestNetworkFirewallCodemod_PreservesOtherNetworkFields
--- PASS: TestNetworkFirewallCodemod_PreservesOtherNetworkFields (0.00s)
=== RUN   TestNetworkFirewallCodemod_PreservesMarkdown
--- PASS: TestNetworkFirewallCodemod_PreservesMarkdown (0.00s)
=== RUN   TestNetworkFirewallCodemod_PreservesComments
--- PASS: TestNetworkFirewallCodemod_PreservesComments (0.00s)
=== RUN   TestNetworkFirewallCodemod_FirewallWithNestedProperties
--- PASS: TestNetworkFirewallCodemod_FirewallWithNestedProperties (0.00s)
=== RUN   TestGetPermissionsReadCodemod
--- PASS: TestGetPermissionsReadCodemod (0.00s)
=== RUN   TestPermissionsReadCodemod_Read
--- PASS: TestPermissionsReadCodemod_Read (0.00s)
=== RUN   TestPermissionsReadCodemod_Write
--- PASS: TestPermissionsReadCodemod_Write (0.00s)
=== RUN   TestPermissionsReadCodemod_NoChange_ReadAll
--- PASS: TestPermissionsReadCodemod_NoChange_ReadAll (0.00s)
=== RUN   TestPermissionsReadCodemod_NoChange_WriteAll
--- PASS: TestPermissionsReadCodemod_NoChange_WriteAll (0.00s)
=== RUN   TestPermissionsReadCodemod_NoChange_MapFormat
--- PASS: TestPermissionsReadCodemod_NoChange_MapFormat (0.00s)
=== RUN   TestPermissionsReadCodemod_NoPermissions
--- PASS: TestPermissionsReadCodemod_NoPermissions (0.00s)
=== RUN   TestPermissionsReadCodemod_PreservesMarkdown
--- PASS: TestPermissionsReadCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGetWritePermissionsCodemod
--- PASS: TestGetWritePermissionsCodemod (0.00s)
=== RUN   TestWritePermissionsCodemod_ShorthandWriteAll
--- PASS: TestWritePermissionsCodemod_ShorthandWriteAll (0.00s)
=== RUN   TestWritePermissionsCodemod_ShorthandWrite
--- PASS: TestWritePermissionsCodemod_ShorthandWrite (0.00s)
=== RUN   TestWritePermissionsCodemod_MapFormat
--- PASS: TestWritePermissionsCodemod_MapFormat (0.00s)
=== RUN   TestWritePermissionsCodemod_MultipleWritePermissions
--- PASS: TestWritePermissionsCodemod_MultipleWritePermissions (0.00s)
=== RUN   TestWritePermissionsCodemod_NoPermissionsField
--- PASS: TestWritePermissionsCodemod_NoPermissionsField (0.00s)
=== RUN   TestWritePermissionsCodemod_OnlyReadPermissions
--- PASS: TestWritePermissionsCodemod_OnlyReadPermissions (0.00s)
=== RUN   TestWritePermissionsCodemod_PreservesIndentation
--- PASS: TestWritePermissionsCodemod_PreservesIndentation (0.00s)
=== RUN   TestWritePermissionsCodemod_PreservesComments
--- PASS: TestWritePermissionsCodemod_PreservesComments (0.00s)
=== RUN   TestWritePermissionsCodemod_PreservesMarkdown
--- PASS: TestWritePermissionsCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGetSafeInputsModeCodemod
--- PASS: TestGetSafeInputsModeCodemod (0.00s)
=== RUN   TestSafeInputsModeCodemod_RemovesMode
--- PASS: TestSafeInputsModeCodemod_RemovesMode (0.00s)
=== RUN   TestSafeInputsModeCodemod_NoSafeInputsField
--- PASS: TestSafeInputsModeCodemod_NoSafeInputsField (0.00s)
=== RUN   TestSafeInputsModeCodemod_NoModeField
--- PASS: TestSafeInputsModeCodemod_NoModeField (0.00s)
=== RUN   TestSafeInputsModeCodemod_PreservesIndentation
--- PASS: TestSafeInputsModeCodemod_PreservesIndentation (0.00s)
=== RUN   TestSafeInputsModeCodemod_PreservesComments
--- PASS: TestSafeInputsModeCodemod_PreservesComments (0.00s)
=== RUN   TestSafeInputsModeCodemod_PreservesMarkdown
--- PASS: TestSafeInputsModeCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGetSandboxAgentFalseRemovalCodemod
--- PASS: TestGetSandboxAgentFalseRemovalCodemod (0.00s)
=== RUN   TestSandboxAgentCodemod_RemovesAgentFalse
--- PASS: TestSandboxAgentCodemod_RemovesAgentFalse (0.00s)
=== RUN   TestSandboxAgentCodemod_PreservesOtherSandboxFields
--- PASS: TestSandboxAgentCodemod_PreservesOtherSandboxFields (0.00s)
=== RUN   TestSandboxAgentCodemod_NoSandboxField
--- PASS: TestSandboxAgentCodemod_NoSandboxField (0.00s)
=== RUN   TestSandboxAgentCodemod_NoAgentField
--- PASS: TestSandboxAgentCodemod_NoAgentField (0.00s)
=== RUN   TestSandboxAgentCodemod_AgentTrue
--- PASS: TestSandboxAgentCodemod_AgentTrue (0.00s)
=== RUN   TestSandboxAgentCodemod_AgentString
--- PASS: TestSandboxAgentCodemod_AgentString (0.00s)
=== RUN   TestSandboxAgentCodemod_RemovesEmptySandboxBlock
--- PASS: TestSandboxAgentCodemod_RemovesEmptySandboxBlock (0.00s)
=== RUN   TestSandboxAgentCodemod_PreservesMarkdown
--- PASS: TestSandboxAgentCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGetScheduleAtToAroundCodemod
--- PASS: TestGetScheduleAtToAroundCodemod (0.00s)
=== RUN   TestScheduleCodemod_DailyAt
--- PASS: TestScheduleCodemod_DailyAt (0.00s)
=== RUN   TestScheduleCodemod_WeeklyOnAt
--- PASS: TestScheduleCodemod_WeeklyOnAt (0.00s)
=== RUN   TestScheduleCodemod_MonthlyOn
--- PASS: TestScheduleCodemod_MonthlyOn (0.00s)
=== RUN   TestScheduleCodemod_MonthlyOnAt
--- PASS: TestScheduleCodemod_MonthlyOnAt (0.00s)
=== RUN   TestScheduleCodemod_DailyAround_NoChange
--- PASS: TestScheduleCodemod_DailyAround_NoChange (0.00s)
=== RUN   TestScheduleCodemod_StandardCron_NoChange
--- PASS: TestScheduleCodemod_StandardCron_NoChange (0.00s)
=== RUN   TestScheduleCodemod_PreservesIndentation
--- PASS: TestScheduleCodemod_PreservesIndentation (0.00s)
=== RUN   TestScheduleCodemod_MultipleSchedules
--- PASS: TestScheduleCodemod_MultipleSchedules (0.00s)
=== RUN   TestScheduleCodemod_ScheduleField
--- PASS: TestScheduleCodemod_ScheduleField (0.00s)
=== RUN   TestScheduleCodemod_PreservesMarkdown
--- PASS: TestScheduleCodemod_PreservesMarkdown (0.00s)
=== RUN   TestGetDeleteSchemaFileCodemod
--- PASS: TestGetDeleteSchemaFileCodemod (0.00s)
=== RUN   TestDeleteSchemaFileCodemod_NoChanges
--- PASS: TestDeleteSchemaFileCodemod_NoChanges (0.00s)
=== RUN   TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged
=== RUN   TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/simple_workflow
=== RUN   TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/complex_workflow
=== RUN   TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/empty_content
--- PASS: TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged (0.00s)
    --- PASS: TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/simple_workflow (0.00s)
    --- PASS: TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/complex_workflow (0.00s)
    --- PASS: TestDeleteSchemaFileCodemod_AlwaysReturnsUnchanged/empty_content (0.00s)
=== RUN   TestGetCommandToSlashCommandCodemod
--- PASS: TestGetCommandToSlashCommandCodemod (0.00s)
=== RUN   TestSlashCommandCodemod_BasicMigration
--- PASS: TestSlashCommandCodemod_BasicMigration (0.00s)
=== RUN   TestSlashCommandCodemod_PreservesIndentation
--- PASS: TestSlashCommandCodemod_PreservesIndentation (0.00s)
=== RUN   TestSlashCommandCodemod_PreservesComment
--- PASS: TestSlashCommandCodemod_PreservesComment (0.00s)
=== RUN   TestSlashCommandCodemod_NoCommandField
--- PASS: TestSlashCommandCodemod_NoCommandField (0.00s)
=== RUN   TestSlashCommandCodemod_NoOnField
--- PASS: TestSlashCommandCodemod_NoOnField (0.00s)
=== RUN   TestSlashCommandCodemod_PreservesMarkdown
--- PASS: TestSlashCommandCodemod_PreservesMarkdown (0.00s)
=== RUN   TestSlashCommandCodemod_MultipleOnTriggers
--- PASS: TestSlashCommandCodemod_MultipleOnTriggers (0.00s)
=== RUN   TestGetTimeoutMinutesCodemod
--- PASS: TestGetTimeoutMinutesCodemod (0.00s)
=== RUN   TestTimeoutMinutesCodemod_BasicMigration
--- PASS: TestTimeoutMinutesCodemod_BasicMigration (0.00s)
=== RUN   TestTimeoutMinutesCodemod_PreservesIndentation
--- PASS: TestTimeoutMinutesCodemod_PreservesIndentation (0.00s)
=== RUN   TestTimeoutMinutesCodemod_PreservesComments
--- PASS: TestTimeoutMinutesCodemod_PreservesComments (0.00s)
=== RUN   TestTimeoutMinutesCodemod_NoFieldPresent
--- PASS: TestTimeoutMinutesCodemod_NoFieldPresent (0.00s)
=== RUN   TestTimeoutMinutesCodemod_PreservesMarkdownBody
--- PASS: TestTimeoutMinutesCodemod_PreservesMarkdownBody (0.00s)
=== RUN   TestTimeoutMinutesCodemod_DifferentValues
=== RUN   TestTimeoutMinutesCodemod_DifferentValues/small_timeout
=== RUN   TestTimeoutMinutesCodemod_DifferentValues/medium_timeout
=== RUN   TestTimeoutMinutesCodemod_DifferentValues/large_timeout
=== RUN   TestTimeoutMinutesCodemod_DifferentValues/very_large_timeout
--- PASS: TestTimeoutMinutesCodemod_DifferentValues (0.00s)
    --- PASS: TestTimeoutMinutesCodemod_DifferentValues/small_timeout (0.00s)
    --- PASS: TestTimeoutMinutesCodemod_DifferentValues/medium_timeout (0.00s)
    --- PASS: TestTimeoutMinutesCodemod_DifferentValues/large_timeout (0.00s)
    --- PASS: TestTimeoutMinutesCodemod_DifferentValues/very_large_timeout (0.00s)
=== RUN   TestTimeoutMinutesCodemod_OnlyReplacesExactMatch
--- PASS: TestTimeoutMinutesCodemod_OnlyReplacesExactMatch (0.00s)
=== RUN   TestGetUploadAssetsCodemod
--- PASS: TestGetUploadAssetsCodemod (0.00s)
=== RUN   TestUploadAssetsCodemod_BasicMigration
--- PASS: TestUploadAssetsCodemod_BasicMigration (0.00s)
=== RUN   TestUploadAssetsCodemod_PreservesIndentation
--- PASS: TestUploadAssetsCodemod_PreservesIndentation (0.00s)
=== RUN   TestUploadAssetsCodemod_PreservesComment
--- PASS: TestUploadAssetsCodemod_PreservesComment (0.00s)
=== RUN   TestUploadAssetsCodemod_NoSafeOutputsField
--- PASS: TestUploadAssetsCodemod_NoSafeOutputsField (0.00s)
=== RUN   TestUploadAssetsCodemod_NoUploadAssetsField
--- PASS: TestUploadAssetsCodemod_NoUploadAssetsField (0.00s)
=== RUN   TestUploadAssetsCodemod_PreservesOtherFields
--- PASS: TestUploadAssetsCodemod_PreservesOtherFields (0.00s)
=== RUN   TestUploadAssetsCodemod_PreservesMarkdown
--- PASS: TestUploadAssetsCodemod_PreservesMarkdown (0.00s)
=== RUN   TestReconstructContent
=== RUN   TestReconstructContent/basic_reconstruction
=== RUN   TestReconstructContent/no_markdown_body
--- PASS: TestReconstructContent (0.00s)
    --- PASS: TestReconstructContent/basic_reconstruction (0.00s)
    --- PASS: TestReconstructContent/no_markdown_body (0.00s)
=== RUN   TestParseFrontmatterLines
=== RUN   TestParseFrontmatterLines/valid_frontmatter
=== RUN   TestParseFrontmatterLines/no_frontmatter
--- PASS: TestParseFrontmatterLines (0.00s)
    --- PASS: TestParseFrontmatterLines/valid_frontmatter (0.00s)
    --- PASS: TestParseFrontmatterLines/no_frontmatter (0.00s)
=== RUN   TestGetIndentation
=== RUN   TestGetIndentation/no_indentation
=== RUN   TestGetIndentation/two_space_indentation
=== RUN   TestGetIndentation/four_space_indentation
=== RUN   TestGetIndentation/tab_indentation
=== RUN   TestGetIndentation/mixed_indentation
--- PASS: TestGetIndentation (0.00s)
    --- PASS: TestGetIndentation/no_indentation (0.00s)
    --- PASS: TestGetIndentation/two_space_indentation (0.00s)
    --- PASS: TestGetIndentation/four_space_indentation (0.00s)
    --- PASS: TestGetIndentation/tab_indentation (0.00s)
    --- PASS: TestGetIndentation/mixed_indentation (0.00s)
=== RUN   TestIsTopLevelKey
=== RUN   TestIsTopLevelKey/top_level_key
=== RUN   TestIsTopLevelKey/indented_key
=== RUN   TestIsTopLevelKey/comment
=== RUN   TestIsTopLevelKey/empty_line
=== RUN   TestIsTopLevelKey/no_colon
--- PASS: TestIsTopLevelKey (0.00s)
    --- PASS: TestIsTopLevelKey/top_level_key (0.00s)
    --- PASS: TestIsTopLevelKey/indented_key (0.00s)
    --- PASS: TestIsTopLevelKey/comment (0.00s)
    --- PASS: TestIsTopLevelKey/empty_line (0.00s)
    --- PASS: TestIsTopLevelKey/no_colon (0.00s)
=== RUN   TestIsNestedUnder
=== RUN   TestIsNestedUnder/nested_under_parent
=== RUN   TestIsNestedUnder/same_level_as_parent
=== RUN   TestIsNestedUnder/less_indentation_than_parent
=== RUN   TestIsNestedUnder/deeply_nested
--- PASS: TestIsNestedUnder (0.00s)
    --- PASS: TestIsNestedUnder/nested_under_parent (0.00s)
    --- PASS: TestIsNestedUnder/same_level_as_parent (0.00s)
    --- PASS: TestIsNestedUnder/less_indentation_than_parent (0.00s)
    --- PASS: TestIsNestedUnder/deeply_nested (0.00s)
=== RUN   TestHasExitedBlock
=== RUN   TestHasExitedBlock/exited_with_top-level_key
=== RUN   TestHasExitedBlock/still_in_block_-_more_indentation
=== RUN   TestHasExitedBlock/exited_with_comment_at_same_level
=== RUN   TestHasExitedBlock/still_in_block_-_nested_comment
=== RUN   TestHasExitedBlock/empty_line
--- PASS: TestHasExitedBlock (0.00s)
    --- PASS: TestHasExitedBlock/exited_with_top-level_key (0.00s)
    --- PASS: TestHasExitedBlock/still_in_block_-_more_indentation (0.00s)
    --- PASS: TestHasExitedBlock/exited_with_comment_at_same_level (0.00s)
    --- PASS: TestHasExitedBlock/still_in_block_-_nested_comment (0.00s)
    --- PASS: TestHasExitedBlock/empty_line (0.00s)
=== RUN   TestFindAndReplaceInLine
=== RUN   TestFindAndReplaceInLine/replace_simple_key
=== RUN   TestFindAndReplaceInLine/preserve_indentation
=== RUN   TestFindAndReplaceInLine/preserve_inline_comment
=== RUN   TestFindAndReplaceInLine/no_match_-_different_key
--- PASS: TestFindAndReplaceInLine (0.00s)
    --- PASS: TestFindAndReplaceInLine/replace_simple_key (0.00s)
    --- PASS: TestFindAndReplaceInLine/preserve_indentation (0.00s)
    --- PASS: TestFindAndReplaceInLine/preserve_inline_comment (0.00s)
    --- PASS: TestFindAndReplaceInLine/no_match_-_different_key (0.00s)
=== RUN   TestRemoveFieldFromBlock
=== RUN   TestRemoveFieldFromBlock/remove_simple_field
=== RUN   TestRemoveFieldFromBlock/remove_field_with_nested_properties
=== RUN   TestRemoveFieldFromBlock/remove_field_with_comments
=== RUN   TestRemoveFieldFromBlock/field_not_present
--- PASS: TestRemoveFieldFromBlock (0.00s)
    --- PASS: TestRemoveFieldFromBlock/remove_simple_field (0.00s)
    --- PASS: TestRemoveFieldFromBlock/remove_field_with_nested_properties (0.00s)
    --- PASS: TestRemoveFieldFromBlock/remove_field_with_comments (0.00s)
    --- PASS: TestRemoveFieldFromBlock/field_not_present (0.00s)
=== RUN   TestRemoveFieldFromBlock_PreservesComments
--- PASS: TestRemoveFieldFromBlock_PreservesComments (0.00s)
=== RUN   TestIsRunningInCodespace
=== RUN   TestIsRunningInCodespace/CODESPACES=true
=== RUN   TestIsRunningInCodespace/CODESPACES=TRUE_(uppercase)
=== RUN   TestIsRunningInCodespace/CODESPACES=True_(mixed_case)
=== RUN   TestIsRunningInCodespace/CODESPACES=false
=== RUN   TestIsRunningInCodespace/CODESPACES_not_set
=== RUN   TestIsRunningInCodespace/CODESPACES=other
--- PASS: TestIsRunningInCodespace (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES=true (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES=TRUE_(uppercase) (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES=True_(mixed_case) (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES=false (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES_not_set (0.00s)
    --- PASS: TestIsRunningInCodespace/CODESPACES=other (0.00s)
=== RUN   TestIs403PermissionError
=== RUN   TestIs403PermissionError/403_status_code
=== RUN   TestIs403PermissionError/forbidden_keyword
=== RUN   TestIs403PermissionError/permission_denied
=== RUN   TestIs403PermissionError/403_in_middle_of_message
=== RUN   TestIs403PermissionError/uppercase_FORBIDDEN
=== RUN   TestIs403PermissionError/mixed_case_Permission_Denied
=== RUN   TestIs403PermissionError/404_error_(not_403)
=== RUN   TestIs403PermissionError/generic_error
=== RUN   TestIs403PermissionError/empty_error
=== RUN   TestIs403PermissionError/permission_but_not_denied
--- PASS: TestIs403PermissionError (0.00s)
    --- PASS: TestIs403PermissionError/403_status_code (0.00s)
    --- PASS: TestIs403PermissionError/forbidden_keyword (0.00s)
    --- PASS: TestIs403PermissionError/permission_denied (0.00s)
    --- PASS: TestIs403PermissionError/403_in_middle_of_message (0.00s)
    --- PASS: TestIs403PermissionError/uppercase_FORBIDDEN (0.00s)
    --- PASS: TestIs403PermissionError/mixed_case_Permission_Denied (0.00s)
    --- PASS: TestIs403PermissionError/404_error_(not_403) (0.00s)
    --- PASS: TestIs403PermissionError/generic_error (0.00s)
    --- PASS: TestIs403PermissionError/empty_error (0.00s)
    --- PASS: TestIs403PermissionError/permission_but_not_denied (0.00s)
=== RUN   TestGetCodespacePermissionErrorMessage
--- PASS: TestGetCodespacePermissionErrorMessage (0.00s)
=== RUN   TestCompileWorkflow
=== RUN   TestCompileWorkflow/successful_compilation_with_valid_workflow
âœ“ .github/workflows/test.md (25.8 KB)
=== RUN   TestCompileWorkflow/successful_compilation_with_verbose_mode
âš  Schema validation available but skipped (use SetSkipValidation(false) to enable)
âœ“ .github/workflows/verbose-test.md (24.7 KB)
=== RUN   TestCompileWorkflow/compilation_with_engine_override
âœ“ .github/workflows/engine-test.md (28.6 KB)
=== RUN   TestCompileWorkflow/compilation_with_invalid_workflow_file
=== RUN   TestCompileWorkflow/compilation_with_nonexistent_file
=== RUN   TestCompileWorkflow/compilation_with_invalid_engine_override
--- PASS: TestCompileWorkflow (2.04s)
    --- PASS: TestCompileWorkflow/successful_compilation_with_valid_workflow (0.63s)
    --- PASS: TestCompileWorkflow/successful_compilation_with_verbose_mode (0.62s)
    --- PASS: TestCompileWorkflow/compilation_with_engine_override (0.77s)
    --- PASS: TestCompileWorkflow/compilation_with_invalid_workflow_file (0.00s)
    --- PASS: TestCompileWorkflow/compilation_with_nonexistent_file (0.00s)
    --- PASS: TestCompileWorkflow/compilation_with_invalid_engine_override (0.01s)
=== RUN   TestStageWorkflowChanges
=== RUN   TestStageWorkflowChanges/successful_staging_in_git_repo_with_workflows
=== RUN   TestStageWorkflowChanges/staging_works_even_without_workflows_directory
=== RUN   TestStageWorkflowChanges/staging_in_non-git_directory_falls_back_gracefully
--- PASS: TestStageWorkflowChanges (0.02s)
    --- PASS: TestStageWorkflowChanges/successful_staging_in_git_repo_with_workflows (0.01s)
    --- PASS: TestStageWorkflowChanges/staging_works_even_without_workflows_directory (0.01s)
    --- PASS: TestStageWorkflowChanges/staging_in_non-git_directory_falls_back_gracefully (0.00s)
=== RUN   TestStageGitAttributesIfChanged
=== RUN   TestStageGitAttributesIfChanged/successful_staging_in_git_repo
=== RUN   TestStageGitAttributesIfChanged/staging_without_.gitattributes_file
=== RUN   TestStageGitAttributesIfChanged/error_in_non-git_directory
--- PASS: TestStageGitAttributesIfChanged (0.01s)
    --- PASS: TestStageGitAttributesIfChanged/successful_staging_in_git_repo (0.01s)
    --- PASS: TestStageGitAttributesIfChanged/staging_without_.gitattributes_file (0.00s)
    --- PASS: TestStageGitAttributesIfChanged/error_in_non-git_directory (0.00s)
=== RUN   TestCompileWorkflowsWithWorkflowID
=== RUN   TestCompileWorkflowsWithWorkflowID/compile_with_workflow_ID_successfully_resolves_to_.md_file
âœ“ .github/workflows/test-workflow.md (25.8 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
=== RUN   TestCompileWorkflowsWithWorkflowID/compile_with_nonexistent_workflow_ID_returns_error
âœ— âœ— workflow 'nonexistent' not found in local .github/workflows

Suggestions:
  â€¢ Run 'gh aw status' to see all available workflows
  â€¢ Create a new workflow with 'gh aw new nonexistent'
  â€¢ Check for typos in the workflow name

âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - nonexistent (1 error)
=== RUN   TestCompileWorkflowsWithWorkflowID/compile_with_full_path_still_works_(backward_compatibility)
âœ“ .github/workflows/test-workflow.md (25.8 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
--- PASS: TestCompileWorkflowsWithWorkflowID (1.60s)
    --- PASS: TestCompileWorkflowsWithWorkflowID/compile_with_workflow_ID_successfully_resolves_to_.md_file (0.68s)
    --- PASS: TestCompileWorkflowsWithWorkflowID/compile_with_nonexistent_workflow_ID_returns_error (0.00s)
    --- PASS: TestCompileWorkflowsWithWorkflowID/compile_with_full_path_still_works_(backward_compatibility) (0.91s)
=== RUN   TestCompilationSummary
=== RUN   TestCompilationSummary/summary_with_successful_compilation
âœ“ .github/workflows/test.md (25.8 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
=== RUN   TestCompilationSummary/summary_with_compilation_errors
âœ— âœ— workflow 'nonexistent.md' not found in local .github/workflows

Suggestions:
  â€¢ Run 'gh aw status' to see all available workflows
  â€¢ Create a new workflow with 'gh aw new nonexistent.md'
  â€¢ Check for typos in the workflow name

âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - nonexistent.md (1 error)
=== RUN   TestCompilationSummary/summary_with_multiple_workflows
âœ“ .github/workflows/test1.md (25.8 KB)
âœ“ .github/workflows/test2.md (25.8 KB)
âœ“ .github/workflows/test3.md (25.8 KB)
âœ“ Compiled 3 workflow(s): 0 error(s), 0 warning(s)
--- PASS: TestCompilationSummary (2.58s)
    --- PASS: TestCompilationSummary/summary_with_successful_compilation (1.36s)
    --- PASS: TestCompilationSummary/summary_with_compilation_errors (0.00s)
    --- PASS: TestCompilationSummary/summary_with_multiple_workflows (1.22s)
=== RUN   TestPrintCompilationSummaryWithFailedWorkflows
=== RUN   TestPrintCompilationSummaryWithFailedWorkflows/summary_with_no_errors_shows_no_failed_workflows
âœ“ Compiled 2 workflow(s): 0 error(s), 0 warning(s)
=== RUN   TestPrintCompilationSummaryWithFailedWorkflows/summary_with_errors_shows_failed_workflows
âœ— Compiled 3 workflow(s): 2 error(s), 0 warning(s)
âœ— Failed workflows:
  - workflow1.md
  - workflow2.md
=== RUN   TestPrintCompilationSummaryWithFailedWorkflows/summary_with_single_failed_workflow
âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - failed-workflow.md
--- PASS: TestPrintCompilationSummaryWithFailedWorkflows (0.00s)
    --- PASS: TestPrintCompilationSummaryWithFailedWorkflows/summary_with_no_errors_shows_no_failed_workflows (0.00s)
    --- PASS: TestPrintCompilationSummaryWithFailedWorkflows/summary_with_errors_shows_failed_workflows (0.00s)
    --- PASS: TestPrintCompilationSummaryWithFailedWorkflows/summary_with_single_failed_workflow (0.00s)
=== RUN   TestWatchAndCompileWorkflows
=== RUN   TestWatchAndCompileWorkflows/watch_function_requires_git_repository
=== RUN   TestWatchAndCompileWorkflows/watch_function_requires_workflows_directory
=== RUN   TestWatchAndCompileWorkflows/watch_function_checks_specific_file_exists
=== RUN   TestWatchAndCompileWorkflows/watch_function_setup_with_valid_directory
â„¹ Dependency graph built: 1 workflows
â„¹ Watching for file changes to /tmp/gh-aw-test-runs/20260129-002143-306608/test-139913498/.github/workflows/test.md...
Press Ctrl+C to stop watching.
Watching for file changes
ðŸ”¨ Initial compilation of /tmp/gh-aw-test-runs/20260129-002143-306608/test-139913498/.github/workflows/test.md...
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-139913498/.github/workflows/test.md
âœ— .github/workflows/test.md:1:1: error: no frontmatter found

âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - test.md
â„¹ Detected change: /tmp/gh-aw-test-runs/20260129-002143-306608/test-139913498/.github/workflows/test.md (REMOVE)
--- PASS: TestWatchAndCompileWorkflows (0.11s)
    --- PASS: TestWatchAndCompileWorkflows/watch_function_requires_git_repository (0.00s)
    --- PASS: TestWatchAndCompileWorkflows/watch_function_requires_workflows_directory (0.00s)
    --- PASS: TestWatchAndCompileWorkflows/watch_function_checks_specific_file_exists (0.00s)
    --- PASS: TestWatchAndCompileWorkflows/watch_function_setup_with_valid_directory (0.10s)
=== RUN   TestCompileAllWorkflowFiles
=== RUN   TestCompileAllWorkflowFiles/compile_all_with_no_markdown_files
â„¹ No markdown files found in /tmp/gh-aw-test-runs/20260129-002143-306608/test-609798936/.github/workflows
=== RUN   TestCompileAllWorkflowFiles/compile_all_with_markdown_files
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test1.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test1.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test1.md (28.4 KB)
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test2.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test2.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test2.md (28.4 KB)
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test3.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test3.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1045176515/.github/workflows/test3.md (28.4 KB)
âœ“ Action cache saved to /home/dsyme/gh-aw/pkg/cli/.github/aw/actions-lock.json
=== RUN   TestCompileAllWorkflowFiles/compile_all_handles_glob_error
=== RUN   TestCompileAllWorkflowFiles/compile_all_with_compilation_errors
âœ— ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1958896625/.github/workflows/invalid.md:1:1: error: failed to extract frontmatter: failed to parse frontmatter:
[91m[1:12] mapping value is not allowed in this context[0m
[1;97m>  1 | [;;22;0m[96mmalformed[0m:[96m yaml[0m:[96m content[0m:
                  ^
[1;97m   2 | [;;22;0m  -[96m missing[0m
[1;97m   3 | [;;22;0m[96m    proper[0m:[92m structure[0m

=== RUN   TestCompileAllWorkflowFiles/compile_all_verbose_mode
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1661924736/.github/workflows/verbose-test.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1661924736/.github/workflows/verbose-test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1661924736/.github/workflows/verbose-test.md (28.5 KB)
âœ“ Action cache saved to /home/dsyme/gh-aw/pkg/cli/.github/aw/actions-lock.json
--- PASS: TestCompileAllWorkflowFiles (1.05s)
    --- PASS: TestCompileAllWorkflowFiles/compile_all_with_no_markdown_files (0.00s)
    --- PASS: TestCompileAllWorkflowFiles/compile_all_with_markdown_files (1.01s)
    --- PASS: TestCompileAllWorkflowFiles/compile_all_handles_glob_error (0.00s)
    --- PASS: TestCompileAllWorkflowFiles/compile_all_with_compilation_errors (0.01s)
    --- PASS: TestCompileAllWorkflowFiles/compile_all_verbose_mode (0.04s)
=== RUN   TestCompileModifiedFiles
=== RUN   TestCompileModifiedFiles/compile_modified_files_basic_functionality
Watching for file changes
ðŸ”¨ Compiling 1 modified file(s)...
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1271987526/.github/workflows/recent.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1271987526/.github/workflows/recent.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1271987526/.github/workflows/recent.md (28.4 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
=== RUN   TestCompileModifiedFiles/compile_modified_files_with_no_files
=== RUN   TestCompileModifiedFiles/compile_modified_files_with_invalid_files
Watching for file changes
=== RUN   TestCompileModifiedFiles/compile_modified_files_verbose_mode
Watching for file changes
ðŸ”¨ Compiling 1 modified file(s)...
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-706693202/.github/workflows/recent.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-706693202/.github/workflows/recent.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-706693202/.github/workflows/recent.md (28.5 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileModifiedFiles (0.04s)
    --- PASS: TestCompileModifiedFiles/compile_modified_files_basic_functionality (0.02s)
    --- PASS: TestCompileModifiedFiles/compile_modified_files_with_no_files (0.00s)
    --- PASS: TestCompileModifiedFiles/compile_modified_files_with_invalid_files (0.00s)
    --- PASS: TestCompileModifiedFiles/compile_modified_files_verbose_mode (0.02s)
=== RUN   TestHandleFileDeleted
=== RUN   TestHandleFileDeleted/handle_deleted_markdown_file
â„¹ Removed corresponding lock file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2038032356/.github/workflows/deleted-workflow.lock.yml
=== RUN   TestHandleFileDeleted/handle_deleted_non-markdown_file
=== RUN   TestHandleFileDeleted/handle_deleted_file_without_corresponding_lock
=== RUN   TestHandleFileDeleted/handle_deleted_file_verbose_mode
â„¹ Removed corresponding lock file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2390534076/.github/workflows/verbose-test.lock.yml
=== RUN   TestHandleFileDeleted/handle_deleted_file_with_permission_error
--- PASS: TestHandleFileDeleted (0.01s)
    --- PASS: TestHandleFileDeleted/handle_deleted_markdown_file (0.00s)
    --- PASS: TestHandleFileDeleted/handle_deleted_non-markdown_file (0.00s)
    --- PASS: TestHandleFileDeleted/handle_deleted_file_without_corresponding_lock (0.00s)
    --- PASS: TestHandleFileDeleted/handle_deleted_file_verbose_mode (0.00s)
    --- PASS: TestHandleFileDeleted/handle_deleted_file_with_permission_error (0.00s)
=== RUN   TestCompileSingleFile
=== RUN   TestCompileSingleFile/compile_single_file_successfully
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1530607371/.github/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1530607371/.github/workflows/test.md (28.4 KB)
=== RUN   TestCompileSingleFile/compile_single_file_with_error
âœ— ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1963904045/.github/workflows/invalid.md:1:1: error: failed to extract frontmatter: failed to parse frontmatter:
[91m[1:12] mapping value is not allowed in this context[0m
[1;97m>  1 | [;;22;0m[96mmalformed[0m:[96m yaml[0m:[96m content[0m:
                  ^
[1;97m   2 | [;;22;0m  -[96m missing[0m
[1;97m   3 | [;;22;0m[96m    proper[0m:[92m structure[0m

=== RUN   TestCompileSingleFile/compile_single_file_with_checkExists_true_and_file_exists
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1523348879/.github/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1523348879/.github/workflows/test.md (28.4 KB)
=== RUN   TestCompileSingleFile/compile_single_file_with_checkExists_true_and_file_does_not_exist
=== RUN   TestCompileSingleFile/compile_single_file_verbose_mode
ðŸ”¨ Compiling: /tmp/gh-aw-test-runs/20260129-002143-306608/test-3365067951/.github/workflows/verbose-test.md
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-3365067951/.github/workflows/verbose-test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-3365067951/.github/workflows/verbose-test.md (28.5 KB)
--- PASS: TestCompileSingleFile (0.06s)
    --- PASS: TestCompileSingleFile/compile_single_file_successfully (0.02s)
    --- PASS: TestCompileSingleFile/compile_single_file_with_error (0.00s)
    --- PASS: TestCompileSingleFile/compile_single_file_with_checkExists_true_and_file_exists (0.02s)
    --- PASS: TestCompileSingleFile/compile_single_file_with_checkExists_true_and_file_does_not_exist (0.00s)
    --- PASS: TestCompileSingleFile/compile_single_file_verbose_mode (0.02s)
=== RUN   TestCompileWorkflows
=== RUN   TestCompileWorkflows/nonexistent_specific_file
âœ— âœ— workflow 'nonexistent.md' not found in local .github/workflows

Suggestions:
  â€¢ Run 'gh aw status' to see all available workflows
  â€¢ Create a new workflow with 'gh aw new nonexistent.md'
  â€¢ Check for typos in the workflow name

âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - nonexistent.md (1 error)
--- PASS: TestCompileWorkflows (0.01s)
    --- PASS: TestCompileWorkflows/nonexistent_specific_file (0.00s)
=== RUN   TestCompileWorkflowsPurgeFlag
=== RUN   TestCompileWorkflowsPurgeFlag/purge_flag_validation_with_specific_files
=== RUN   TestCompileWorkflowsPurgeFlag/purge_flag_acceptance_without_specific_files
--- PASS: TestCompileWorkflowsPurgeFlag (0.01s)
    --- PASS: TestCompileWorkflowsPurgeFlag/purge_flag_validation_with_specific_files (0.00s)
    --- PASS: TestCompileWorkflowsPurgeFlag/purge_flag_acceptance_without_specific_files (0.01s)
=== RUN   TestCompileWorkflowsWithNoEmit
âœ“ .github/workflows/no-emit-test.md (24.8 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
âœ“ .github/workflows/no-emit-test.md
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
--- PASS: TestCompileWorkflowsWithNoEmit (0.64s)
=== RUN   TestRemoveWorkflows
â„¹ No .github/workflows directory found.
--- PASS: TestRemoveWorkflows (0.00s)
=== RUN   TestStatusWorkflows
âœ— no .github/workflows directory found
--- PASS: TestStatusWorkflows (0.00s)
=== RUN   TestEnableWorkflows
--- PASS: TestEnableWorkflows (0.00s)
=== RUN   TestEnableWorkflowsFailureScenarios
=== RUN   TestEnableWorkflowsFailureScenarios/empty_pattern
=== RUN   TestEnableWorkflowsFailureScenarios/nonexistent_pattern
=== RUN   TestEnableWorkflowsFailureScenarios/wildcard_pattern
--- PASS: TestEnableWorkflowsFailureScenarios (0.00s)
    --- PASS: TestEnableWorkflowsFailureScenarios/empty_pattern (0.00s)
    --- PASS: TestEnableWorkflowsFailureScenarios/nonexistent_pattern (0.00s)
    --- PASS: TestEnableWorkflowsFailureScenarios/wildcard_pattern (0.00s)
=== RUN   TestDisableWorkflows
--- PASS: TestDisableWorkflows (0.00s)
=== RUN   TestDisableWorkflowsFailureScenarios
=== RUN   TestDisableWorkflowsFailureScenarios/empty_pattern
=== RUN   TestDisableWorkflowsFailureScenarios/nonexistent_pattern
--- PASS: TestDisableWorkflowsFailureScenarios (0.00s)
    --- PASS: TestDisableWorkflowsFailureScenarios/empty_pattern (0.00s)
    --- PASS: TestDisableWorkflowsFailureScenarios/nonexistent_pattern (0.00s)
=== RUN   TestRunWorkflowOnGitHub
--- PASS: TestRunWorkflowOnGitHub (0.33s)
=== RUN   TestRunWorkflowsOnGitHub
--- PASS: TestRunWorkflowsOnGitHub (0.00s)
=== RUN   TestAllCommandsExist
.github/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test.md
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
â„¹ No workflows found matching pattern: nonexistent
âš  Could not fetch GitHub workflow status: failed to execute gh workflow list command: exit status 1
--- PASS: TestAllCommandsExist (1.01s)
=== RUN   TestInstallPackage
=== RUN   TestInstallPackage/invalid_repo_spec
=== RUN   TestInstallPackage/empty_repo_spec
=== RUN   TestInstallPackage/valid_repo_spec_but_download_will_fail
Installing package: nonexistent/repo
Repository: nonexistent/repo
Version: main (default)
Installing to global packages directory: /home/dsyme/.aw/packages
â„¹ Downloading workflows from nonexistent/repo/workflows...
â„¹ Cloning repository...
=== RUN   TestInstallPackage/valid_repo_spec_with_version_but_download_will_fail
--- PASS: TestInstallPackage (1.79s)
    --- PASS: TestInstallPackage/invalid_repo_spec (0.00s)
    --- PASS: TestInstallPackage/empty_repo_spec (0.00s)
    --- PASS: TestInstallPackage/valid_repo_spec_but_download_will_fail (0.88s)
    --- PASS: TestInstallPackage/valid_repo_spec_with_version_but_download_will_fail (0.91s)
=== RUN   TestNewWorkflow
=== RUN   TestNewWorkflow/create_new_workflow
âœ“ Created new workflow: /tmp/test-new-workflow-4059119768/.github/workflows/test-workflow.md
â„¹ Edit the file to customize your workflow, then run 'gh aw compile' to generate the GitHub Actions workflow
=== RUN   TestNewWorkflow/fail_to_overwrite_existing_workflow_without_force
=== RUN   TestNewWorkflow/overwrite_existing_workflow_with_force
âœ“ Created new workflow: /tmp/test-new-workflow-4059119768/.github/workflows/force-workflow.md
â„¹ Edit the file to customize your workflow, then run 'gh aw compile' to generate the GitHub Actions workflow
=== RUN   TestNewWorkflow/create_workflow_with_.md_extension_(should_normalize)
âœ“ Created new workflow: /tmp/test-new-workflow-4059119768/.github/workflows/test-with-ext.md
â„¹ Edit the file to customize your workflow, then run 'gh aw compile' to generate the GitHub Actions workflow
--- PASS: TestNewWorkflow (0.00s)
    --- PASS: TestNewWorkflow/create_new_workflow (0.00s)
    --- PASS: TestNewWorkflow/fail_to_overwrite_existing_workflow_without_force (0.00s)
    --- PASS: TestNewWorkflow/overwrite_existing_workflow_with_force (0.00s)
    --- PASS: TestNewWorkflow/create_workflow_with_.md_extension_(should_normalize) (0.00s)
=== RUN   TestSetVersionInfo
=== RUN   TestSetVersionInfo/normal_version
=== RUN   TestSetVersionInfo/empty_version
=== RUN   TestSetVersionInfo/version_with_pre-release
=== RUN   TestSetVersionInfo/version_with_build_metadata
--- PASS: TestSetVersionInfo (0.00s)
    --- PASS: TestSetVersionInfo/normal_version (0.00s)
    --- PASS: TestSetVersionInfo/empty_version (0.00s)
    --- PASS: TestSetVersionInfo/version_with_pre-release (0.00s)
    --- PASS: TestSetVersionInfo/version_with_build_metadata (0.00s)
=== RUN   TestCleanupOrphanedIncludes
âœ“ Removed orphaned include: shared/tools.md
--- PASS: TestCleanupOrphanedIncludes (0.00s)
=== RUN   TestPreviewOrphanedIncludes
--- PASS: TestPreviewOrphanedIncludes (0.00s)
=== RUN   TestRemoveWorkflowsWithNoOrphansFlag
--- PASS: TestRemoveWorkflowsWithNoOrphansFlag (0.00s)
=== RUN   TestCalculateTimeRemaining
=== RUN   TestCalculateTimeRemaining/empty_stop_time
=== RUN   TestCalculateTimeRemaining/invalid_format
=== RUN   TestCalculateTimeRemaining/future_time_formatting
=== RUN   TestCalculateTimeRemaining/past_time_-_expired
--- PASS: TestCalculateTimeRemaining (0.00s)
    --- PASS: TestCalculateTimeRemaining/empty_stop_time (0.00s)
    --- PASS: TestCalculateTimeRemaining/invalid_format (0.00s)
    --- PASS: TestCalculateTimeRemaining/future_time_formatting (0.00s)
    --- PASS: TestCalculateTimeRemaining/past_time_-_expired (0.00s)
=== RUN   TestRunWorkflowOnGitHubWithEnable
--- PASS: TestRunWorkflowOnGitHubWithEnable (0.42s)
=== RUN   TestGetWorkflowStatus
âœ“ Fetched 0 public and 49 internal workflows
âœ“ Fetched 0 public and 49 internal workflows
--- PASS: TestGetWorkflowStatus (1.50s)
=== RUN   TestExtractWorkflowNameFromFile
=== RUN   TestExtractWorkflowNameFromFile/file_with_H1_header
=== RUN   TestExtractWorkflowNameFromFile/file_with_H1_header_with_extra_spaces
=== RUN   TestExtractWorkflowNameFromFile/file_without_H1_header_-_generates_from_filename
=== RUN   TestExtractWorkflowNameFromFile/file_with_complex_filename
=== RUN   TestExtractWorkflowNameFromFile/file_with_single_word_filename
=== RUN   TestExtractWorkflowNameFromFile/empty_file_-_generates_from_filename
--- PASS: TestExtractWorkflowNameFromFile (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/file_with_H1_header (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/file_with_H1_header_with_extra_spaces (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/file_without_H1_header_-_generates_from_filename (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/file_with_complex_filename (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/file_with_single_word_filename (0.00s)
    --- PASS: TestExtractWorkflowNameFromFile/empty_file_-_generates_from_filename (0.00s)
=== RUN   TestExtractWorkflowNameFromFile_NonExistentFile
--- PASS: TestExtractWorkflowNameFromFile_NonExistentFile (0.00s)
=== RUN   TestUpdateWorkflowTitle
=== RUN   TestUpdateWorkflowTitle/content_with_H1_header
=== RUN   TestUpdateWorkflowTitle/content_with_H1_header_with_extra_spaces
=== RUN   TestUpdateWorkflowTitle/content_without_H1_header
=== RUN   TestUpdateWorkflowTitle/empty_content
=== RUN   TestUpdateWorkflowTitle/multiple_H1_headers_-_only_first_is_modified
--- PASS: TestUpdateWorkflowTitle (0.00s)
    --- PASS: TestUpdateWorkflowTitle/content_with_H1_header (0.00s)
    --- PASS: TestUpdateWorkflowTitle/content_with_H1_header_with_extra_spaces (0.00s)
    --- PASS: TestUpdateWorkflowTitle/content_without_H1_header (0.00s)
    --- PASS: TestUpdateWorkflowTitle/empty_content (0.00s)
    --- PASS: TestUpdateWorkflowTitle/multiple_H1_headers_-_only_first_is_modified (0.00s)
=== RUN   TestIsGitRepo
--- PASS: TestIsGitRepo (0.00s)
=== RUN   TestExtractWorkflowNameFromPath
=== RUN   TestExtractWorkflowNameFromPath/simple_workflow_file
=== RUN   TestExtractWorkflowNameFromPath/workflow_file_without_lock_suffix
=== RUN   TestExtractWorkflowNameFromPath/nested_path
=== RUN   TestExtractWorkflowNameFromPath/file_without_extension
=== RUN   TestExtractWorkflowNameFromPath/single_file_name
=== RUN   TestExtractWorkflowNameFromPath/file_with_multiple_dots
--- PASS: TestExtractWorkflowNameFromPath (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/simple_workflow_file (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/workflow_file_without_lock_suffix (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/nested_path (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/file_without_extension (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/single_file_name (0.00s)
    --- PASS: TestExtractWorkflowNameFromPath/file_with_multiple_dots (0.00s)
=== RUN   TestFindIncludesInContent
=== RUN   TestFindIncludesInContent/no_includes
=== RUN   TestFindIncludesInContent/single_include
=== RUN   TestFindIncludesInContent/multiple_includes
=== RUN   TestFindIncludesInContent/includes_with_different_whitespace
=== RUN   TestFindIncludesInContent/includes_with_section_references
=== RUN   TestFindIncludesInContent/empty_content
--- PASS: TestFindIncludesInContent (0.00s)
    --- PASS: TestFindIncludesInContent/no_includes (0.00s)
    --- PASS: TestFindIncludesInContent/single_include (0.00s)
    --- PASS: TestFindIncludesInContent/multiple_includes (0.00s)
    --- PASS: TestFindIncludesInContent/includes_with_different_whitespace (0.00s)
    --- PASS: TestFindIncludesInContent/includes_with_section_references (0.00s)
    --- PASS: TestFindIncludesInContent/empty_content (0.00s)
=== RUN   TestCopyMarkdownFiles
=== RUN   TestCopyMarkdownFiles/copy_single_markdown_file
=== RUN   TestCopyMarkdownFiles/copy_multiple_markdown_files
=== RUN   TestCopyMarkdownFiles/copy_markdown_files_in_subdirectories
â„¹ Copying: shared/utils.md -> /tmp/gh-aw-test-runs/20260129-002143-306608/test-1637494843/shared/utils.md
â„¹ Copying: workflows/daily.md -> /tmp/gh-aw-test-runs/20260129-002143-306608/test-1637494843/workflows/daily.md
â„¹ Copying: workflows/weekly.md -> /tmp/gh-aw-test-runs/20260129-002143-306608/test-1637494843/workflows/weekly.md
=== RUN   TestCopyMarkdownFiles/skip_non-markdown_files
=== RUN   TestCopyMarkdownFiles/handle_empty_source_directory
=== RUN   TestCopyMarkdownFiles/copy_nested_markdown_files_with_complex_structure
--- PASS: TestCopyMarkdownFiles (0.02s)
    --- PASS: TestCopyMarkdownFiles/copy_single_markdown_file (0.00s)
    --- PASS: TestCopyMarkdownFiles/copy_multiple_markdown_files (0.00s)
    --- PASS: TestCopyMarkdownFiles/copy_markdown_files_in_subdirectories (0.00s)
    --- PASS: TestCopyMarkdownFiles/skip_non-markdown_files (0.00s)
    --- PASS: TestCopyMarkdownFiles/handle_empty_source_directory (0.01s)
    --- PASS: TestCopyMarkdownFiles/copy_nested_markdown_files_with_complex_structure (0.00s)
=== RUN   TestCopyMarkdownFiles_ErrorScenarios
=== RUN   TestCopyMarkdownFiles_ErrorScenarios/nonexistent_source_directory
=== RUN   TestCopyMarkdownFiles_ErrorScenarios/permission_denied_on_target_directory
--- PASS: TestCopyMarkdownFiles_ErrorScenarios (0.00s)
    --- PASS: TestCopyMarkdownFiles_ErrorScenarios/nonexistent_source_directory (0.00s)
    --- PASS: TestCopyMarkdownFiles_ErrorScenarios/permission_denied_on_target_directory (0.00s)
=== RUN   TestIsRunnable
=== RUN   TestIsRunnable/workflow_with_schedule_trigger
=== RUN   TestIsRunnable/workflow_with_workflow_dispatch_trigger
=== RUN   TestIsRunnable/workflow_with_both_schedule_and_workflow_dispatch
=== RUN   TestIsRunnable/workflow_with_only_push_trigger_(not_runnable)
=== RUN   TestIsRunnable/workflow_with_no_'on'_section_(defaults_to_runnable)
=== RUN   TestIsRunnable/workflow_with_cron_trigger_(alternative_schedule_format)
=== RUN   TestIsRunnable/case_insensitive_schedule_detection
=== RUN   TestIsRunnable/case_insensitive_workflow_dispatch_detection
=== RUN   TestIsRunnable/complex_on_section_with_schedule_buried_in_text
=== RUN   TestIsRunnable/empty_on_section_(not_runnable)
=== RUN   TestIsRunnable/malformed_frontmatter
=== RUN   TestIsRunnable/no_frontmatter_at_all_(defaults_to_runnable)
--- PASS: TestIsRunnable (0.01s)
    --- PASS: TestIsRunnable/workflow_with_schedule_trigger (0.00s)
    --- PASS: TestIsRunnable/workflow_with_workflow_dispatch_trigger (0.00s)
    --- PASS: TestIsRunnable/workflow_with_both_schedule_and_workflow_dispatch (0.00s)
    --- PASS: TestIsRunnable/workflow_with_only_push_trigger_(not_runnable) (0.00s)
    --- PASS: TestIsRunnable/workflow_with_no_'on'_section_(defaults_to_runnable) (0.00s)
    --- PASS: TestIsRunnable/workflow_with_cron_trigger_(alternative_schedule_format) (0.00s)
    --- PASS: TestIsRunnable/case_insensitive_schedule_detection (0.00s)
    --- PASS: TestIsRunnable/case_insensitive_workflow_dispatch_detection (0.00s)
    --- PASS: TestIsRunnable/complex_on_section_with_schedule_buried_in_text (0.00s)
    --- PASS: TestIsRunnable/empty_on_section_(not_runnable) (0.00s)
    --- PASS: TestIsRunnable/malformed_frontmatter (0.00s)
    --- PASS: TestIsRunnable/no_frontmatter_at_all_(defaults_to_runnable) (0.00s)
=== RUN   TestIsRunnable_FileErrors
=== RUN   TestIsRunnable_FileErrors/nonexistent_file
=== RUN   TestIsRunnable_FileErrors/empty_file_path
--- PASS: TestIsRunnable_FileErrors (0.00s)
    --- PASS: TestIsRunnable_FileErrors/nonexistent_file (0.00s)
    --- PASS: TestIsRunnable_FileErrors/empty_file_path (0.00s)
=== RUN   TestGenerateAndCompileCampaignOrchestrator
âœ“ ../../../../../tmp/TestGenerateAndCompileCampaignOrchestrator482564965/001/test-campaign.campaign.g.md (91.7 KB)
--- PASS: TestGenerateAndCompileCampaignOrchestrator (0.71s)
=== RUN   TestCampaignSourceCommentStability
âœ“ .github/workflows/test-campaign.campaign.g.md (72.7 KB)
âœ“ ../../.github/workflows/test-campaign.campaign.g.md (72.7 KB)
--- PASS: TestCampaignSourceCommentStability (0.72s)
=== RUN   TestValidateCampaignsUsesCorrectDirectory
--- PASS: TestValidateCampaignsUsesCorrectDirectory (0.01s)
=== RUN   TestCompileDependabotIntegration
â„¹ Scanning for markdown files in /tmp/gh-aw-test-runs/20260129-002143-306608/test-2696042276/.github/workflows
â„¹ Found 1 markdown files to compile
âš  Schema validation available but skipped (use SetSkipValidation(false) to enable)
âœ“ .github/workflows/test-workflow.md (26.0 KB)
âœ“ Successfully compiled 1 out of 1 workflow files
âœ“ Updated .gitattributes to mark .lock.yml files as generated
â„¹ Found 1 npm dependencies in workflows
âœ“ Generated package.json with 1 dependencies
â„¹ Running npm install --package-lock-only...
âœ“ Generated package-lock.json
âœ“ Updated .github/dependabot.yml
âœ“ Successfully generated Dependabot manifests
âœ“ Action cache saved to /tmp/gh-aw-test-runs/20260129-002143-306608/test-2696042276/.github/aw/actions-lock.json
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileDependabotIntegration (2.86s)
=== RUN   TestCompileDependabotNoDependencies
â„¹ Scanning for markdown files in /tmp/gh-aw-test-runs/20260129-002143-306608/test-246795233/.github/workflows
â„¹ Found 1 markdown files to compile
âš  Schema validation available but skipped (use SetSkipValidation(false) to enable)
âœ“ .github/workflows/test-workflow.md (25.8 KB)
âœ“ Successfully compiled 1 out of 1 workflow files
âœ“ Updated .gitattributes to mark .lock.yml files as generated
â„¹ No dependencies detected in workflows, skipping Dependabot manifest generation
âœ“ Action cache saved to /tmp/gh-aw-test-runs/20260129-002143-306608/test-246795233/.github/aw/actions-lock.json
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileDependabotNoDependencies (0.90s)
=== RUN   TestCompileDependabotPreserveExisting
â„¹ Scanning for markdown files in /tmp/gh-aw-test-runs/20260129-002143-306608/test-4012391380/.github/workflows
â„¹ Found 1 markdown files to compile
âš  Schema validation available but skipped (use SetSkipValidation(false) to enable)
âœ“ .github/workflows/test-workflow.md (26.0 KB)
âœ“ Successfully compiled 1 out of 1 workflow files
âœ“ Updated .gitattributes to mark .lock.yml files as generated
â„¹ Found 1 npm dependencies in workflows
âœ“ Generated package.json with 1 dependencies
â„¹ Running npm install --package-lock-only...
âœ“ Generated package-lock.json
âœ“ Updated .github/dependabot.yml
âœ“ Successfully generated Dependabot manifests
âœ“ Action cache saved to /tmp/gh-aw-test-runs/20260129-002143-306608/test-4012391380/.github/aw/actions-lock.json
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileDependabotPreserveExisting (2.28s)
=== RUN   TestCompileDependabotMergeExistingNpm
â„¹ Scanning for markdown files in /tmp/gh-aw-test-runs/20260129-002143-306608/test-517146620/.github/workflows
â„¹ Found 1 markdown files to compile
âš  Schema validation available but skipped (use SetSkipValidation(false) to enable)
âœ“ .github/workflows/test-workflow.md (26.0 KB)
âœ“ Successfully compiled 1 out of 1 workflow files
âœ“ Updated .gitattributes to mark .lock.yml files as generated
â„¹ Found 1 npm dependencies in workflows
âœ“ Generated package.json with 1 dependencies
â„¹ Running npm install --package-lock-only...
âœ“ Generated package-lock.json
âœ“ Updated .github/dependabot.yml
âœ“ Successfully generated Dependabot manifests
âœ“ Action cache saved to /tmp/gh-aw-test-runs/20260129-002143-306608/test-517146620/.github/aw/actions-lock.json
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileDependabotMergeExistingNpm (2.23s)
=== RUN   TestCompileDependabotValidation
=== RUN   TestCompileDependabotValidation/dependabot_with_specific_workflow_files
=== RUN   TestCompileDependabotValidation/dependabot_with_custom_--dir
=== RUN   TestCompileDependabotValidation/dependabot_with_default_workflows_dir_is_ok
=== RUN   TestCompileDependabotValidation/dependabot_with_empty_workflows_dir_is_ok
--- PASS: TestCompileDependabotValidation (0.00s)
    --- PASS: TestCompileDependabotValidation/dependabot_with_specific_workflow_files (0.00s)
    --- PASS: TestCompileDependabotValidation/dependabot_with_custom_--dir (0.00s)
    --- PASS: TestCompileDependabotValidation/dependabot_with_default_workflows_dir_is_ok (0.00s)
    --- PASS: TestCompileDependabotValidation/dependabot_with_empty_workflows_dir_is_ok (0.00s)
=== RUN   TestCompileWithDirFlag
my-workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ my-workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileWithDirFlag (0.85s)
=== RUN   TestCompileDirFlagValidation
=== RUN   TestCompileDirFlagValidation/relative_path_is_valid
custom/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ custom/workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
=== RUN   TestCompileDirFlagValidation/absolute_path_is_invalid
=== RUN   TestCompileDirFlagValidation/empty_string_defaults_to_.github/workflows
.github/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileDirFlagValidation (1.69s)
    --- PASS: TestCompileDirFlagValidation/relative_path_is_valid (0.88s)
    --- PASS: TestCompileDirFlagValidation/absolute_path_is_invalid (0.01s)
    --- PASS: TestCompileDirFlagValidation/empty_string_defaults_to_.github/workflows (0.81s)
=== RUN   TestForceRefreshActionPins_ClearCache
--- PASS: TestForceRefreshActionPins_ClearCache (0.00s)
=== RUN   TestForceRefreshActionPins_ResetFile
--- PASS: TestForceRefreshActionPins_ResetFile (0.00s)
=== RUN   TestForceRefreshActionPins_NoFileExists
--- PASS: TestForceRefreshActionPins_NoFileExists (0.00s)
=== RUN   TestForceRefreshActionPins_EnablesValidation
--- PASS: TestForceRefreshActionPins_EnablesValidation (0.00s)
=== RUN   TestCompileDoesNotWriteInstructions
âœ“ .github/workflows/test-workflow.md (28.6 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
--- PASS: TestCompileDoesNotWriteInstructions (1.23s)
=== RUN   TestCompileDoesNotWriteInstructionsWhenCompilingAll
âœ“ .github/workflows/test-workflow.md (28.6 KB)
âœ“ Compiled 1 workflow(s): 0 error(s), 0 warning(s)
--- PASS: TestCompileDoesNotWriteInstructionsWhenCompilingAll (0.81s)
=== RUN   TestCompileJSONOutput
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-717319089/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-717319089/test-workflow.md (25.8 KB)
--- PASS: TestCompileJSONOutput (1.01s)
=== RUN   TestCompileJSONOutputWithError
--- PASS: TestCompileJSONOutputWithError (0.01s)
=== RUN   TestCompileJSONOutputMultipleWorkflows
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1027186385/valid.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1027186385/valid.md (25.7 KB)
--- PASS: TestCompileJSONOutputMultipleWorkflows (0.02s)
=== RUN   TestCompileSpecificFiles_GeneratesMaintenanceWorkflow
.github/workflows/test-expires.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test-expires.md (54.4 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileSpecificFiles_GeneratesMaintenanceWorkflow (0.77s)
=== RUN   TestCompileSpecificFiles_DeletesMaintenanceWorkflow
.github/workflows/test-no-expires.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test-no-expires.md (54.4 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileSpecificFiles_DeletesMaintenanceWorkflow (0.89s)
=== RUN   TestCompileWithCustomDir_SkipsMaintenanceWorkflow
custom/workflows/test-expires.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ custom/workflows/test-expires.md (54.4 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileWithCustomDir_SkipsMaintenanceWorkflow (0.98s)
=== RUN   TestGetRepositoryRelativePath
=== RUN   TestGetRepositoryRelativePath/workflow_in_.github/workflows
=== RUN   TestGetRepositoryRelativePath/existing_workflow_file
=== RUN   TestGetRepositoryRelativePath/existing_root_file
--- PASS: TestGetRepositoryRelativePath (0.01s)
    --- PASS: TestGetRepositoryRelativePath/workflow_in_.github/workflows (0.00s)
    --- PASS: TestGetRepositoryRelativePath/existing_workflow_file (0.00s)
    --- PASS: TestGetRepositoryRelativePath/existing_root_file (0.00s)
=== RUN   TestGetRepositoryRelativePathConsistency
--- PASS: TestGetRepositoryRelativePathConsistency (0.01s)
=== RUN   TestGetRepositoryRelativePathCrossPlatform
--- PASS: TestGetRepositoryRelativePathCrossPlatform (0.00s)
=== RUN   TestDisplayStatsTable_Empty
--- PASS: TestDisplayStatsTable_Empty (0.00s)
=== RUN   TestDisplayStatsTable_LessThan10
--- PASS: TestDisplayStatsTable_LessThan10 (0.00s)
=== RUN   TestDisplayStatsTable_Exactly10
--- PASS: TestDisplayStatsTable_Exactly10 (0.00s)
=== RUN   TestDisplayStatsTable_MoreThan10
--- PASS: TestDisplayStatsTable_MoreThan10 (0.00s)
=== RUN   TestDisplayStatsTable_SortsBySize
--- PASS: TestDisplayStatsTable_SortsBySize (0.00s)
=== RUN   TestCollectWorkflowStats
--- PASS: TestCollectWorkflowStats (0.00s)
=== RUN   TestCollectWorkflowStats_NonExistentFile
--- PASS: TestCollectWorkflowStats_NonExistentFile (0.00s)
=== RUN   TestCollectWorkflowStats_InvalidYAML
--- PASS: TestCollectWorkflowStats_InvalidYAML (0.00s)
=== RUN   TestNewCompletionCommand
--- PASS: TestNewCompletionCommand (0.00s)
=== RUN   TestCompletionCommand_Bash
# bash completion for gh                                   -*- shell-script -*-

__gh_debug()
{
    if [[ -n ${BASH_COMP_DEBUG_FILE:-} ]]; then
        echo "$*" >> "${BASH_COMP_DEBUG_FILE}"
    fi
}

# Homebrew on Macs have version 1.3 of bash-completion which doesn't include
# _init_completion. This is a very minimal version of that function.
__gh_init_completion()
{
    COMPREPLY=()
    _get_comp_words_by_ref "$@" cur prev words cword
}

__gh_index_of_word()
{
    local w word=$1
    shift
    index=0
    for w in "$@"; do
        [[ $w = "$word" ]] && return
        index=$((index+1))
    done
    index=-1
}

__gh_contains_word()
{
    local w word=$1; shift
    for w in "$@"; do
        [[ $w = "$word" ]] && return
    done
    return 1
}

__gh_handle_go_custom_completion()
{
    __gh_debug "${FUNCNAME[0]}: cur is ${cur}, words[*] is ${words[*]}, #words[@] is ${#words[@]}"

    local shellCompDirectiveError=1
    local shellCompDirectiveNoSpace=2
    local shellCompDirectiveNoFileComp=4
    local shellCompDirectiveFilterFileExt=8
    local shellCompDirectiveFilterDirs=16

    local out requestComp lastParam lastChar comp directive args

    # Prepare the command to request completions for the program.
    # Calling ${words[0]} instead of directly gh allows handling aliases
    args=("${words[@]:1}")
    # Disable ActiveHelp which is not supported for bash completion v1
    requestComp="GH_ACTIVE_HELP=0 ${words[0]} __completeNoDesc ${args[*]}"

    lastParam=${words[$((${#words[@]}-1))]}
    lastChar=${lastParam:$((${#lastParam}-1)):1}
    __gh_debug "${FUNCNAME[0]}: lastParam ${lastParam}, lastChar ${lastChar}"

    if [ -z "${cur}" ] && [ "${lastChar}" != "=" ]; then
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go method.
        __gh_debug "${FUNCNAME[0]}: Adding extra empty parameter"
        requestComp="${requestComp} \"\""
    fi

    __gh_debug "${FUNCNAME[0]}: calling ${requestComp}"
    # Use eval to handle any environment variables and such
    out=$(eval "${requestComp}" 2>/dev/null)

    # Extract the directive integer at the very end of the output following a colon (:)
    directive=${out##*:}
    # Remove the directive
    out=${out%:*}
    if [ "${directive}" = "${out}" ]; then
        # There is not directive specified
        directive=0
    fi
    __gh_debug "${FUNCNAME[0]}: the completion directive is: ${directive}"
    __gh_debug "${FUNCNAME[0]}: the completions are: ${out}"

    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then
        # Error code.  No completion.
        __gh_debug "${FUNCNAME[0]}: received error from custom completion go code"
        return
    else
        if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then
            if [[ $(type -t compopt) = "builtin" ]]; then
                __gh_debug "${FUNCNAME[0]}: activating no space"
                compopt -o nospace
            fi
        fi
        if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then
            if [[ $(type -t compopt) = "builtin" ]]; then
                __gh_debug "${FUNCNAME[0]}: activating no file completion"
                compopt +o default
            fi
        fi
    fi

    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then
        # File extension filtering
        local fullFilter filter filteringCmd
        # Do not use quotes around the $out variable or else newline
        # characters will be kept.
        for filter in ${out}; do
            fullFilter+="$filter|"
        done

        filteringCmd="_filedir $fullFilter"
        __gh_debug "File filtering command: $filteringCmd"
        $filteringCmd
    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then
        # File completion for directories only
        local subdir
        # Use printf to strip any trailing newline
        subdir=$(printf "%s" "${out}")
        if [ -n "$subdir" ]; then
            __gh_debug "Listing directories in $subdir"
            __gh_handle_subdirs_in_dir_flag "$subdir"
        else
            __gh_debug "Listing directories in ."
            _filedir -d
        fi
    else
        while IFS='' read -r comp; do
            COMPREPLY+=("$comp")
        done < <(compgen -W "${out}" -- "$cur")
    fi
}

__gh_handle_reply()
{
    __gh_debug "${FUNCNAME[0]}"
    local comp
    case $cur in
        -*)
            if [[ $(type -t compopt) = "builtin" ]]; then
                compopt -o nospace
            fi
            local allflags
            if [ ${#must_have_one_flag[@]} -ne 0 ]; then
                allflags=("${must_have_one_flag[@]}")
            else
                allflags=("${flags[*]} ${two_word_flags[*]}")
            fi
            while IFS='' read -r comp; do
                COMPREPLY+=("$comp")
            done < <(compgen -W "${allflags[*]}" -- "$cur")
            if [[ $(type -t compopt) = "builtin" ]]; then
                [[ "${COMPREPLY[0]}" == *= ]] || compopt +o nospace
            fi

            # complete after --flag=abc
            if [[ $cur == *=* ]]; then
                if [[ $(type -t compopt) = "builtin" ]]; then
                    compopt +o nospace
                fi

                local index flag
                flag="${cur%=*}"
                __gh_index_of_word "${flag}" "${flags_with_completion[@]}"
                COMPREPLY=()
                if [[ ${index} -ge 0 ]]; then
                    PREFIX=""
                    cur="${cur#*=}"
                    ${flags_completion[${index}]}
                    if [ -n "${ZSH_VERSION:-}" ]; then
                        # zsh completion needs --flag= prefix
                        eval "COMPREPLY=( \"\${COMPREPLY[@]/#/${flag}=}\" )"
                    fi
                fi
            fi

            if [[ -z "${flag_parsing_disabled}" ]]; then
                # If flag parsing is enabled, we have completed the flags and can return.
                # If flag parsing is disabled, we may not know all (or any) of the flags, so we fallthrough
                # to possibly call handle_go_custom_completion.
                return 0;
            fi
            ;;
    esac

    # check if we are handling a flag with special work handling
    local index
    __gh_index_of_word "${prev}" "${flags_with_completion[@]}"
    if [[ ${index} -ge 0 ]]; then
        ${flags_completion[${index}]}
        return
    fi

    # we are parsing a flag and don't have a special handler, no completion
    if [[ ${cur} != "${words[cword]}" ]]; then
        return
    fi

    local completions
    completions=("${commands[@]}")
    if [[ ${#must_have_one_noun[@]} -ne 0 ]]; then
        completions+=("${must_have_one_noun[@]}")
    elif [[ -n "${has_completion_function}" ]]; then
        # if a go completion function is provided, defer to that function
        __gh_handle_go_custom_completion
    fi
    if [[ ${#must_have_one_flag[@]} -ne 0 ]]; then
        completions+=("${must_have_one_flag[@]}")
    fi
    while IFS='' read -r comp; do
        COMPREPLY+=("$comp")
    done < <(compgen -W "${completions[*]}" -- "$cur")

    if [[ ${#COMPREPLY[@]} -eq 0 && ${#noun_aliases[@]} -gt 0 && ${#must_have_one_noun[@]} -ne 0 ]]; then
        while IFS='' read -r comp; do
            COMPREPLY+=("$comp")
        done < <(compgen -W "${noun_aliases[*]}" -- "$cur")
    fi

    if [[ ${#COMPREPLY[@]} -eq 0 ]]; then
        if declare -F __gh_custom_func >/dev/null; then
            # try command name qualified custom func
            __gh_custom_func
        else
            # otherwise fall back to unqualified for compatibility
            declare -F __custom_func >/dev/null && __custom_func
        fi
    fi

    # available in bash-completion >= 2, not always present on macOS
    if declare -F __ltrim_colon_completions >/dev/null; then
        __ltrim_colon_completions "$cur"
    fi

    # If there is only 1 completion and it is a flag with an = it will be completed
    # but we don't want a space after the =
    if [[ "${#COMPREPLY[@]}" -eq "1" ]] && [[ $(type -t compopt) = "builtin" ]] && [[ "${COMPREPLY[0]}" == --*= ]]; then
       compopt -o nospace
    fi
}

# The arguments should be in the form "ext1|ext2|extn"
__gh_handle_filename_extension_flag()
{
    local ext="$1"
    _filedir "@(${ext})"
}

__gh_handle_subdirs_in_dir_flag()
{
    local dir="$1"
    pushd "${dir}" >/dev/null 2>&1 && _filedir -d && popd >/dev/null 2>&1 || return
}

__gh_handle_flag()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    # if a command required a flag, and we found it, unset must_have_one_flag()
    local flagname=${words[c]}
    local flagvalue=""
    # if the word contained an =
    if [[ ${words[c]} == *"="* ]]; then
        flagvalue=${flagname#*=} # take in as flagvalue after the =
        flagname=${flagname%=*} # strip everything after the =
        flagname="${flagname}=" # but put the = back
    fi
    __gh_debug "${FUNCNAME[0]}: looking for ${flagname}"
    if __gh_contains_word "${flagname}" "${must_have_one_flag[@]}"; then
        must_have_one_flag=()
    fi

    # if you set a flag which only applies to this command, don't show subcommands
    if __gh_contains_word "${flagname}" "${local_nonpersistent_flags[@]}"; then
      commands=()
    fi

    # keep flag value with flagname as flaghash
    # flaghash variable is an associative array which is only supported in bash > 3.
    if [[ -z "${BASH_VERSION:-}" || "${BASH_VERSINFO[0]:-}" -gt 3 ]]; then
        if [ -n "${flagvalue}" ] ; then
            flaghash[${flagname}]=${flagvalue}
        elif [ -n "${words[ $((c+1)) ]}" ] ; then
            flaghash[${flagname}]=${words[ $((c+1)) ]}
        else
            flaghash[${flagname}]="true" # pad "true" for bool flag
        fi
    fi

    # skip the argument to a two word flag
    if [[ ${words[c]} != *"="* ]] && __gh_contains_word "${words[c]}" "${two_word_flags[@]}"; then
        __gh_debug "${FUNCNAME[0]}: found a flag ${words[c]}, skip the next argument"
        c=$((c+1))
        # if we are looking for a flags value, don't show commands
        if [[ $c -eq $cword ]]; then
            commands=()
        fi
    fi

    c=$((c+1))

}

__gh_handle_noun()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    if __gh_contains_word "${words[c]}" "${must_have_one_noun[@]}"; then
        must_have_one_noun=()
    elif __gh_contains_word "${words[c]}" "${noun_aliases[@]}"; then
        must_have_one_noun=()
    fi

    nouns+=("${words[c]}")
    c=$((c+1))
}

__gh_handle_command()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    local next_command
    if [[ -n ${last_command} ]]; then
        next_command="_${last_command}_${words[c]//:/__}"
    else
        if [[ $c -eq 0 ]]; then
            next_command="_gh_root_command"
        else
            next_command="_${words[c]//:/__}"
        fi
    fi
    c=$((c+1))
    __gh_debug "${FUNCNAME[0]}: looking for ${next_command}"
    declare -F "$next_command" >/dev/null && $next_command
}

__gh_handle_word()
{
    if [[ $c -ge $cword ]]; then
        __gh_handle_reply
        return
    fi
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"
    if [[ "${words[c]}" == -* ]]; then
        __gh_handle_flag
    elif __gh_contains_word "${words[c]}" "${commands[@]}"; then
        __gh_handle_command
    elif [[ $c -eq 0 ]]; then
        __gh_handle_command
    elif __gh_contains_word "${words[c]}" "${command_aliases[@]}"; then
        # aliashash variable is an associative array which is only supported in bash > 3.
        if [[ -z "${BASH_VERSION:-}" || "${BASH_VERSINFO[0]:-}" -gt 3 ]]; then
            words[c]=${aliashash[${words[c]}]}
            __gh_handle_command
        else
            __gh_handle_noun
        fi
    else
        __gh_handle_noun
    fi
    __gh_handle_word
}

_gh_completion_install()
{
    last_command="gh_completion_install"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

_gh_completion_uninstall()
{
    last_command="gh_completion_uninstall"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

_gh_completion()
{
    last_command="gh_completion"

    command_aliases=()

    commands=()
    commands+=("install")
    commands+=("uninstall")

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()

    flags+=("--help")
    flags+=("-h")
    local_nonpersistent_flags+=("--help")
    local_nonpersistent_flags+=("-h")

    must_have_one_flag=()
    must_have_one_noun=()
    must_have_one_noun+=("bash")
    must_have_one_noun+=("fish")
    must_have_one_noun+=("powershell")
    must_have_one_noun+=("zsh")
    noun_aliases=()
}

_gh_help()
{
    last_command="gh_help"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    has_completion_function=1
    noun_aliases=()
}

_gh_root_command()
{
    last_command="gh"

    command_aliases=()

    commands=()
    commands+=("completion")
    commands+=("help")

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

__start_gh()
{
    local cur prev words cword split
    declare -A flaghash 2>/dev/null || :
    declare -A aliashash 2>/dev/null || :
    if declare -F _init_completion >/dev/null 2>&1; then
        _init_completion -s || return
    else
        __gh_init_completion -n "=" || return
    fi

    local c=0
    local flag_parsing_disabled=
    local flags=()
    local two_word_flags=()
    local local_nonpersistent_flags=()
    local flags_with_completion=()
    local flags_completion=()
    local commands=("gh")
    local command_aliases=()
    local must_have_one_flag=()
    local must_have_one_noun=()
    local has_completion_function=""
    local last_command=""
    local nouns=()
    local noun_aliases=()

    __gh_handle_word
}

if [[ $(type -t compopt) = "builtin" ]]; then
    complete -o default -F __start_gh gh
else
    complete -o default -o nospace -F __start_gh gh
fi

# ex: ts=4 sw=4 et filetype=sh
--- PASS: TestCompletionCommand_Bash (0.00s)
=== RUN   TestCompletionCommand_Zsh
#compdef gh
compdef _gh gh

# zsh completion for gh                                   -*- shell-script -*-

__gh_debug()
{
    local file="$BASH_COMP_DEBUG_FILE"
    if [[ -n ${file} ]]; then
        echo "$*" >> "${file}"
    fi
}

_gh()
{
    local shellCompDirectiveError=1
    local shellCompDirectiveNoSpace=2
    local shellCompDirectiveNoFileComp=4
    local shellCompDirectiveFilterFileExt=8
    local shellCompDirectiveFilterDirs=16
    local shellCompDirectiveKeepOrder=32

    local lastParam lastChar flagPrefix requestComp out directive comp lastComp noSpace keepOrder
    local -a completions

    __gh_debug "\n========= starting completion logic =========="
    __gh_debug "CURRENT: ${CURRENT}, words[*]: ${words[*]}"

    # The user could have moved the cursor backwards on the command-line.
    # We need to trigger completion from the $CURRENT location, so we need
    # to truncate the command-line ($words) up to the $CURRENT location.
    # (We cannot use $CURSOR as its value does not work when a command is an alias.)
    words=("${=words[1,CURRENT]}")
    __gh_debug "Truncated words[*]: ${words[*]},"

    lastParam=${words[-1]}
    lastChar=${lastParam[-1]}
    __gh_debug "lastParam: ${lastParam}, lastChar: ${lastChar}"

    # For zsh, when completing a flag with an = (e.g., gh -n=<TAB>)
    # completions must be prefixed with the flag
    setopt local_options BASH_REMATCH
    if [[ "${lastParam}" =~ '-.*=' ]]; then
        # We are dealing with a flag with an =
        flagPrefix="-P ${BASH_REMATCH}"
    fi

    # Prepare the command to obtain completions
    requestComp="${words[1]} __complete ${words[2,-1]}"
    if [ "${lastChar}" = "" ]; then
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go completion code.
        __gh_debug "Adding extra empty parameter"
        requestComp="${requestComp} \"\""
    fi

    __gh_debug "About to call: eval ${requestComp}"

    # Use eval to handle any environment variables and such
    out=$(eval ${requestComp} 2>/dev/null)
    __gh_debug "completion output: ${out}"

    # Extract the directive integer following a : from the last line
    local lastLine
    while IFS='\n' read -r line; do
        lastLine=${line}
    done < <(printf "%s\n" "${out[@]}")
    __gh_debug "last line: ${lastLine}"

    if [ "${lastLine[1]}" = : ]; then
        directive=${lastLine[2,-1]}
        # Remove the directive including the : and the newline
        local suffix
        (( suffix=${#lastLine}+2))
        out=${out[1,-$suffix]}
    else
        # There is no directive specified.  Leave $out as is.
        __gh_debug "No directive found.  Setting do default"
        directive=0
    fi

    __gh_debug "directive: ${directive}"
    __gh_debug "completions: ${out}"
    __gh_debug "flagPrefix: ${flagPrefix}"

    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then
        __gh_debug "Completion received error. Ignoring completions."
        return
    fi

    local activeHelpMarker="_activeHelp_ "
    local endIndex=${#activeHelpMarker}
    local startIndex=$((${#activeHelpMarker}+1))
    local hasActiveHelp=0
    while IFS='\n' read -r comp; do
        # Check if this is an activeHelp statement (i.e., prefixed with $activeHelpMarker)
        if [ "${comp[1,$endIndex]}" = "$activeHelpMarker" ];then
            __gh_debug "ActiveHelp found: $comp"
            comp="${comp[$startIndex,-1]}"
            if [ -n "$comp" ]; then
                compadd -x "${comp}"
                __gh_debug "ActiveHelp will need delimiter"
                hasActiveHelp=1
            fi

            continue
        fi

        if [ -n "$comp" ]; then
            # If requested, completions are returned with a description.
            # The description is preceded by a TAB character.
            # For zsh's _describe, we need to use a : instead of a TAB.
            # We first need to escape any : as part of the completion itself.
            comp=${comp//:/\\:}

            local tab="$(printf '\t')"
            comp=${comp//$tab/:}

            __gh_debug "Adding completion: ${comp}"
            completions+=${comp}
            lastComp=$comp
        fi
    done < <(printf "%s\n" "${out[@]}")

    # Add a delimiter after the activeHelp statements, but only if:
    # - there are completions following the activeHelp statements, or
    # - file completion will be performed (so there will be choices after the activeHelp)
    if [ $hasActiveHelp -eq 1 ]; then
        if [ ${#completions} -ne 0 ] || [ $((directive & shellCompDirectiveNoFileComp)) -eq 0 ]; then
            __gh_debug "Adding activeHelp delimiter"
            compadd -x "--"
            hasActiveHelp=0
        fi
    fi

    if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then
        __gh_debug "Activating nospace."
        noSpace="-S ''"
    fi

    if [ $((directive & shellCompDirectiveKeepOrder)) -ne 0 ]; then
        __gh_debug "Activating keep order."
        keepOrder="-V"
    fi

    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then
        # File extension filtering
        local filteringCmd
        filteringCmd='_files'
        for filter in ${completions[@]}; do
            if [ ${filter[1]} != '*' ]; then
                # zsh requires a glob pattern to do file filtering
                filter="\*.$filter"
            fi
            filteringCmd+=" -g $filter"
        done
        filteringCmd+=" ${flagPrefix}"

        __gh_debug "File filtering command: $filteringCmd"
        _arguments '*:filename:'"$filteringCmd"
    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then
        # File completion for directories only
        local subdir
        subdir="${completions[1]}"
        if [ -n "$subdir" ]; then
            __gh_debug "Listing directories in $subdir"
            pushd "${subdir}" >/dev/null 2>&1
        else
            __gh_debug "Listing directories in ."
        fi

        local result
        _arguments '*:dirname:_files -/'" ${flagPrefix}"
        result=$?
        if [ -n "$subdir" ]; then
            popd >/dev/null 2>&1
        fi
        return $result
    else
        __gh_debug "Calling _describe"
        if eval _describe $keepOrder "completions" completions $flagPrefix $noSpace; then
            __gh_debug "_describe found some completions"

            # Return the success of having called _describe
            return 0
        else
            __gh_debug "_describe did not find completions."
            __gh_debug "Checking if we should do file completion."
            if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then
                __gh_debug "deactivating file completion"

                # We must return an error code here to let zsh know that there were no
                # completions found by _describe; this is what will trigger other
                # matching algorithms to attempt to find completions.
                # For example zsh can match letters in the middle of words.
                return 1
            else
                # Perform file completion
                __gh_debug "Activating file completion"

                # We must return the result of this command, so it must be the
                # last command, or else we must store its result to return it.
                _arguments '*:filename:_files'" ${flagPrefix}"
            fi
        fi
    fi
}

# don't run the completion function when being source-ed or eval-ed
if [ "$funcstack[1]" = "_gh" ]; then
    _gh
fi
--- PASS: TestCompletionCommand_Zsh (0.00s)
=== RUN   TestCompletionCommand_Fish
# fish completion for gh                                   -*- shell-script -*-

function __gh_debug
    set -l file "$BASH_COMP_DEBUG_FILE"
    if test -n "$file"
        echo "$argv" >> $file
    end
end

function __gh_perform_completion
    __gh_debug "Starting __gh_perform_completion"

    # Extract all args except the last one
    set -l args (commandline -opc)
    # Extract the last arg and escape it in case it is a space
    set -l lastArg (string escape -- (commandline -ct))

    __gh_debug "args: $args"
    __gh_debug "last arg: $lastArg"

    # Disable ActiveHelp which is not supported for fish shell
    set -l requestComp "GH_ACTIVE_HELP=0 $args[1] __complete $args[2..-1] $lastArg"

    __gh_debug "Calling $requestComp"
    set -l results (eval $requestComp 2> /dev/null)

    # Some programs may output extra empty lines after the directive.
    # Let's ignore them or else it will break completion.
    # Ref: https://github.com/spf13/cobra/issues/1279
    for line in $results[-1..1]
        if test (string trim -- $line) = ""
            # Found an empty line, remove it
            set results $results[1..-2]
        else
            # Found non-empty line, we have our proper output
            break
        end
    end

    set -l comps $results[1..-2]
    set -l directiveLine $results[-1]

    # For Fish, when completing a flag with an = (e.g., <program> -n=<TAB>)
    # completions must be prefixed with the flag
    set -l flagPrefix (string match -r -- '-.*=' "$lastArg")

    __gh_debug "Comps: $comps"
    __gh_debug "DirectiveLine: $directiveLine"
    __gh_debug "flagPrefix: $flagPrefix"

    for comp in $comps
        printf "%s%s\n" "$flagPrefix" "$comp"
    end

    printf "%s\n" "$directiveLine"
end

# this function limits calls to __gh_perform_completion, by caching the result behind $__gh_perform_completion_once_result
function __gh_perform_completion_once
    __gh_debug "Starting __gh_perform_completion_once"

    if test -n "$__gh_perform_completion_once_result"
        __gh_debug "Seems like a valid result already exists, skipping __gh_perform_completion"
        return 0
    end

    set --global __gh_perform_completion_once_result (__gh_perform_completion)
    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "No completions, probably due to a failure"
        return 1
    end

    __gh_debug "Performed completions and set __gh_perform_completion_once_result"
    return 0
end

# this function is used to clear the $__gh_perform_completion_once_result variable after completions are run
function __gh_clear_perform_completion_once_result
    __gh_debug ""
    __gh_debug "========= clearing previously set __gh_perform_completion_once_result variable =========="
    set --erase __gh_perform_completion_once_result
    __gh_debug "Successfully erased the variable __gh_perform_completion_once_result"
end

function __gh_requires_order_preservation
    __gh_debug ""
    __gh_debug "========= checking if order preservation is required =========="

    __gh_perform_completion_once
    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "Error determining if order preservation is required"
        return 1
    end

    set -l directive (string sub --start 2 $__gh_perform_completion_once_result[-1])
    __gh_debug "Directive is: $directive"

    set -l shellCompDirectiveKeepOrder 32
    set -l keeporder (math (math --scale 0 $directive / $shellCompDirectiveKeepOrder) % 2)
    __gh_debug "Keeporder is: $keeporder"

    if test $keeporder -ne 0
        __gh_debug "This does require order preservation"
        return 0
    end

    __gh_debug "This doesn't require order preservation"
    return 1
end


# This function does two things:
# - Obtain the completions and store them in the global __gh_comp_results
# - Return false if file completion should be performed
function __gh_prepare_completions
    __gh_debug ""
    __gh_debug "========= starting completion logic =========="

    # Start fresh
    set --erase __gh_comp_results

    __gh_perform_completion_once
    __gh_debug "Completion results: $__gh_perform_completion_once_result"

    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "No completion, probably due to a failure"
        # Might as well do file completion, in case it helps
        return 1
    end

    set -l directive (string sub --start 2 $__gh_perform_completion_once_result[-1])
    set --global __gh_comp_results $__gh_perform_completion_once_result[1..-2]

    __gh_debug "Completions are: $__gh_comp_results"
    __gh_debug "Directive is: $directive"

    set -l shellCompDirectiveError 1
    set -l shellCompDirectiveNoSpace 2
    set -l shellCompDirectiveNoFileComp 4
    set -l shellCompDirectiveFilterFileExt 8
    set -l shellCompDirectiveFilterDirs 16

    if test -z "$directive"
        set directive 0
    end

    set -l compErr (math (math --scale 0 $directive / $shellCompDirectiveError) % 2)
    if test $compErr -eq 1
        __gh_debug "Received error directive: aborting."
        # Might as well do file completion, in case it helps
        return 1
    end

    set -l filefilter (math (math --scale 0 $directive / $shellCompDirectiveFilterFileExt) % 2)
    set -l dirfilter (math (math --scale 0 $directive / $shellCompDirectiveFilterDirs) % 2)
    if test $filefilter -eq 1; or test $dirfilter -eq 1
        __gh_debug "File extension filtering or directory filtering not supported"
        # Do full file completion instead
        return 1
    end

    set -l nospace (math (math --scale 0 $directive / $shellCompDirectiveNoSpace) % 2)
    set -l nofiles (math (math --scale 0 $directive / $shellCompDirectiveNoFileComp) % 2)

    __gh_debug "nospace: $nospace, nofiles: $nofiles"

    # If we want to prevent a space, or if file completion is NOT disabled,
    # we need to count the number of valid completions.
    # To do so, we will filter on prefix as the completions we have received
    # may not already be filtered so as to allow fish to match on different
    # criteria than the prefix.
    if test $nospace -ne 0; or test $nofiles -eq 0
        set -l prefix (commandline -t | string escape --style=regex)
        __gh_debug "prefix: $prefix"

        set -l completions (string match -r -- "^$prefix.*" $__gh_comp_results)
        set --global __gh_comp_results $completions
        __gh_debug "Filtered completions are: $__gh_comp_results"

        # Important not to quote the variable for count to work
        set -l numComps (count $__gh_comp_results)
        __gh_debug "numComps: $numComps"

        if test $numComps -eq 1; and test $nospace -ne 0
            # We must first split on \t to get rid of the descriptions to be
            # able to check what the actual completion will be.
            # We don't need descriptions anyway since there is only a single
            # real completion which the shell will expand immediately.
            set -l split (string split --max 1 \t $__gh_comp_results[1])

            # Fish won't add a space if the completion ends with any
            # of the following characters: @=/:.,
            set -l lastChar (string sub -s -1 -- $split)
            if not string match -r -q "[@=/:.,]" -- "$lastChar"
                # In other cases, to support the "nospace" directive we trick the shell
                # by outputting an extra, longer completion.
                __gh_debug "Adding second completion to perform nospace directive"
                set --global __gh_comp_results $split[1] $split[1].
                __gh_debug "Completions are now: $__gh_comp_results"
            end
        end

        if test $numComps -eq 0; and test $nofiles -eq 0
            # To be consistent with bash and zsh, we only trigger file
            # completion when there are no other completions
            __gh_debug "Requesting file completion"
            return 1
        end
    end

    return 0
end

# Since Fish completions are only loaded once the user triggers them, we trigger them ourselves
# so we can properly delete any completions provided by another script.
# Only do this if the program can be found, or else fish may print some errors; besides,
# the existing completions will only be loaded if the program can be found.
if type -q "gh"
    # The space after the program name is essential to trigger completion for the program
    # and not completion of the program name itself.
    # Also, we use '> /dev/null 2>&1' since '&>' is not supported in older versions of fish.
    complete --do-complete "gh " > /dev/null 2>&1
end

# Remove any pre-existing completions for the program since we will be handling all of them.
complete -c gh -e

# this will get called after the two calls below and clear the $__gh_perform_completion_once_result global
complete -c gh -n '__gh_clear_perform_completion_once_result'
# The call to __gh_prepare_completions will setup __gh_comp_results
# which provides the program's completion choices.
# If this doesn't require order preservation, we don't use the -k flag
complete -c gh -n 'not __gh_requires_order_preservation && __gh_prepare_completions' -f -a '$__gh_comp_results'
# otherwise we use the -k flag
complete -k -c gh -n '__gh_requires_order_preservation && __gh_prepare_completions' -f -a '$__gh_comp_results'
--- PASS: TestCompletionCommand_Fish (0.00s)
=== RUN   TestCompletionCommand_PowerShell
# powershell completion for gh                                   -*- shell-script -*-

function __gh_debug {
    if ($env:BASH_COMP_DEBUG_FILE) {
        "$args" | Out-File -Append -FilePath "$env:BASH_COMP_DEBUG_FILE"
    }
}

filter __gh_escapeStringWithSpecialChars {
    $_ -replace '\s|#|@|\$|;|,|''|\{|\}|\(|\)|"|`|\||<|>|&','`$&'
}

[scriptblock]${__ghCompleterBlock} = {
    param(
            $WordToComplete,
            $CommandAst,
            $CursorPosition
        )

    # Get the current command line and convert into a string
    $Command = $CommandAst.CommandElements
    $Command = "$Command"

    __gh_debug ""
    __gh_debug "========= starting completion logic =========="
    __gh_debug "WordToComplete: $WordToComplete Command: $Command CursorPosition: $CursorPosition"

    # The user could have moved the cursor backwards on the command-line.
    # We need to trigger completion from the $CursorPosition location, so we need
    # to truncate the command-line ($Command) up to the $CursorPosition location.
    # Make sure the $Command is longer then the $CursorPosition before we truncate.
    # This happens because the $Command does not include the last space.
    if ($Command.Length -gt $CursorPosition) {
        $Command=$Command.Substring(0,$CursorPosition)
    }
    __gh_debug "Truncated command: $Command"

    $ShellCompDirectiveError=1
    $ShellCompDirectiveNoSpace=2
    $ShellCompDirectiveNoFileComp=4
    $ShellCompDirectiveFilterFileExt=8
    $ShellCompDirectiveFilterDirs=16
    $ShellCompDirectiveKeepOrder=32

    # Prepare the command to request completions for the program.
    # Split the command at the first space to separate the program and arguments.
    $Program,$Arguments = $Command.Split(" ",2)

    $RequestComp="$Program __completeNoDesc $Arguments"
    __gh_debug "RequestComp: $RequestComp"

    # we cannot use $WordToComplete because it
    # has the wrong values if the cursor was moved
    # so use the last argument
    if ($WordToComplete -ne "" ) {
        $WordToComplete = $Arguments.Split(" ")[-1]
    }
    __gh_debug "New WordToComplete: $WordToComplete"


    # Check for flag with equal sign
    $IsEqualFlag = ($WordToComplete -Like "--*=*" )
    if ( $IsEqualFlag ) {
        __gh_debug "Completing equal sign flag"
        # Remove the flag part
        $Flag,$WordToComplete = $WordToComplete.Split("=",2)
    }

    if ( $WordToComplete -eq "" -And ( -Not $IsEqualFlag )) {
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go method.
        __gh_debug "Adding extra empty parameter"
        # PowerShell 7.2+ changed the way how the arguments are passed to executables,
        # so for pre-7.2 or when Legacy argument passing is enabled we need to use
        # `"`" to pass an empty argument, a "" or '' does not work!!!
        if ($PSVersionTable.PsVersion -lt [version]'7.2.0' -or
            ($PSVersionTable.PsVersion -lt [version]'7.3.0' -and -not [ExperimentalFeature]::IsEnabled("PSNativeCommandArgumentPassing")) -or
            (($PSVersionTable.PsVersion -ge [version]'7.3.0' -or [ExperimentalFeature]::IsEnabled("PSNativeCommandArgumentPassing")) -and
              $PSNativeCommandArgumentPassing -eq 'Legacy')) {
             $RequestComp="$RequestComp" + ' `"`"'
        } else {
             $RequestComp="$RequestComp" + ' ""'
        }
    }

    __gh_debug "Calling $RequestComp"
    # First disable ActiveHelp which is not supported for Powershell
    ${env:GH_ACTIVE_HELP}=0

    #call the command store the output in $out and redirect stderr and stdout to null
    # $Out is an array contains each line per element
    Invoke-Expression -OutVariable out "$RequestComp" 2>&1 | Out-Null

    # get directive from last line
    [int]$Directive = $Out[-1].TrimStart(':')
    if ($Directive -eq "") {
        # There is no directive specified
        $Directive = 0
    }
    __gh_debug "The completion directive is: $Directive"

    # remove directive (last element) from out
    $Out = $Out | Where-Object { $_ -ne $Out[-1] }
    __gh_debug "The completions are: $Out"

    if (($Directive -band $ShellCompDirectiveError) -ne 0 ) {
        # Error code.  No completion.
        __gh_debug "Received error from custom completion go code"
        return
    }

    $Longest = 0
    [Array]$Values = $Out | ForEach-Object {
        #Split the output in name and description
        $Name, $Description = $_.Split("`t",2)
        __gh_debug "Name: $Name Description: $Description"

        # Look for the longest completion so that we can format things nicely
        if ($Longest -lt $Name.Length) {
            $Longest = $Name.Length
        }

        # Set the description to a one space string if there is none set.
        # This is needed because the CompletionResult does not accept an empty string as argument
        if (-Not $Description) {
            $Description = " "
        }
        New-Object -TypeName PSCustomObject -Property @{
            Name = "$Name"
            Description = "$Description"
        }
    }


    $Space = " "
    if (($Directive -band $ShellCompDirectiveNoSpace) -ne 0 ) {
        # remove the space here
        __gh_debug "ShellCompDirectiveNoSpace is called"
        $Space = ""
    }

    if ((($Directive -band $ShellCompDirectiveFilterFileExt) -ne 0 ) -or
       (($Directive -band $ShellCompDirectiveFilterDirs) -ne 0 ))  {
        __gh_debug "ShellCompDirectiveFilterFileExt ShellCompDirectiveFilterDirs are not supported"

        # return here to prevent the completion of the extensions
        return
    }

    $Values = $Values | Where-Object {
        # filter the result
        $_.Name -like "$WordToComplete*"

        # Join the flag back if we have an equal sign flag
        if ( $IsEqualFlag ) {
            __gh_debug "Join the equal sign flag back to the completion value"
            $_.Name = $Flag + "=" + $_.Name
        }
    }

    # we sort the values in ascending order by name if keep order isn't passed
    if (($Directive -band $ShellCompDirectiveKeepOrder) -eq 0 ) {
        $Values = $Values | Sort-Object -Property Name
    }

    if (($Directive -band $ShellCompDirectiveNoFileComp) -ne 0 ) {
        __gh_debug "ShellCompDirectiveNoFileComp is called"

        if ($Values.Length -eq 0) {
            # Just print an empty string here so the
            # shell does not start to complete paths.
            # We cannot use CompletionResult here because
            # it does not accept an empty string as argument.
            ""
            return
        }
    }

    # Get the current mode
    $Mode = (Get-PSReadLineKeyHandler | Where-Object {$_.Key -eq "Tab" }).Function
    __gh_debug "Mode: $Mode"

    $Values | ForEach-Object {

        # store temporary because switch will overwrite $_
        $comp = $_

        # PowerShell supports three different completion modes
        # - TabCompleteNext (default windows style - on each key press the next option is displayed)
        # - Complete (works like bash)
        # - MenuComplete (works like zsh)
        # You set the mode with Set-PSReadLineKeyHandler -Key Tab -Function <mode>

        # CompletionResult Arguments:
        # 1) CompletionText text to be used as the auto completion result
        # 2) ListItemText   text to be displayed in the suggestion list
        # 3) ResultType     type of completion result
        # 4) ToolTip        text for the tooltip with details about the object

        switch ($Mode) {

            # bash like
            "Complete" {

                if ($Values.Length -eq 1) {
                    __gh_debug "Only one completion left"

                    # insert space after value
                    $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars) + $Space
                    if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                        [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                    } else {
                        $CompletionText
                    }

                } else {
                    # Add the proper number of spaces to align the descriptions
                    while($comp.Name.Length -lt $Longest) {
                        $comp.Name = $comp.Name + " "
                    }

                    # Check for empty description and only add parentheses if needed
                    if ($($comp.Description) -eq " " ) {
                        $Description = ""
                    } else {
                        $Description = "  ($($comp.Description))"
                    }

                    $CompletionText = "$($comp.Name)$Description"
                    if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                        [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)$Description", 'ParameterValue', "$($comp.Description)")
                    } else {
                        $CompletionText
                    }
                }
             }

            # zsh like
            "MenuComplete" {
                # insert space after value
                # MenuComplete will automatically show the ToolTip of
                # the highlighted value at the bottom of the suggestions.

                $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars) + $Space
                if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                    [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                } else {
                    $CompletionText
                }
            }

            # TabCompleteNext and in case we get something unknown
            Default {
                # Like MenuComplete but we don't want to add a space here because
                # the user need to press space anyway to get the completion.
                # Description will not be shown because that's not possible with TabCompleteNext

                $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars)
                if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                    [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                } else {
                    $CompletionText
                }
            }
        }

    }
}

Register-ArgumentCompleter -CommandName 'gh' -ScriptBlock ${__ghCompleterBlock}
--- PASS: TestCompletionCommand_PowerShell (0.00s)
=== RUN   TestCompletionCommand_InvalidShell
Error: invalid argument "invalid" for "gh completion"
Usage:
  gh completion [shell] [flags]
  gh completion [command]

Available Commands:
  install     Install shell completion for the detected shell
  uninstall   Uninstall shell completion for the detected shell

Flags:
  -h, --help   help for completion

Use "gh completion [command] --help" for more information about a command.

--- PASS: TestCompletionCommand_InvalidShell (0.00s)
=== RUN   TestCompletionCommand_NoArgs
Error: accepts 1 arg(s), received 0
Usage:
  gh completion [shell] [flags]
  gh completion [command]

Available Commands:
  install     Install shell completion for the detected shell
  uninstall   Uninstall shell completion for the detected shell

Flags:
  -h, --help   help for completion

Use "gh completion [command] --help" for more information about a command.

--- PASS: TestCompletionCommand_NoArgs (0.00s)
=== RUN   TestCompletionCommand_InstallSubcommand
--- PASS: TestCompletionCommand_InstallSubcommand (0.00s)
=== RUN   TestCompletionCommand_UninstallSubcommand
--- PASS: TestCompletionCommand_UninstallSubcommand (0.00s)
=== RUN   TestCompletionCommand_LongHelp
--- PASS: TestCompletionCommand_LongHelp (0.00s)
=== RUN   TestCompletionCommand_Examples
--- PASS: TestCompletionCommand_Examples (0.00s)
=== RUN   TestCompletionCommand_ValidArgs
--- PASS: TestCompletionCommand_ValidArgs (0.00s)
=== RUN   TestCompletionCommand_BashScriptFormat
# bash completion for gh                                   -*- shell-script -*-

__gh_debug()
{
    if [[ -n ${BASH_COMP_DEBUG_FILE:-} ]]; then
        echo "$*" >> "${BASH_COMP_DEBUG_FILE}"
    fi
}

# Homebrew on Macs have version 1.3 of bash-completion which doesn't include
# _init_completion. This is a very minimal version of that function.
__gh_init_completion()
{
    COMPREPLY=()
    _get_comp_words_by_ref "$@" cur prev words cword
}

__gh_index_of_word()
{
    local w word=$1
    shift
    index=0
    for w in "$@"; do
        [[ $w = "$word" ]] && return
        index=$((index+1))
    done
    index=-1
}

__gh_contains_word()
{
    local w word=$1; shift
    for w in "$@"; do
        [[ $w = "$word" ]] && return
    done
    return 1
}

__gh_handle_go_custom_completion()
{
    __gh_debug "${FUNCNAME[0]}: cur is ${cur}, words[*] is ${words[*]}, #words[@] is ${#words[@]}"

    local shellCompDirectiveError=1
    local shellCompDirectiveNoSpace=2
    local shellCompDirectiveNoFileComp=4
    local shellCompDirectiveFilterFileExt=8
    local shellCompDirectiveFilterDirs=16

    local out requestComp lastParam lastChar comp directive args

    # Prepare the command to request completions for the program.
    # Calling ${words[0]} instead of directly gh allows handling aliases
    args=("${words[@]:1}")
    # Disable ActiveHelp which is not supported for bash completion v1
    requestComp="GH_ACTIVE_HELP=0 ${words[0]} __completeNoDesc ${args[*]}"

    lastParam=${words[$((${#words[@]}-1))]}
    lastChar=${lastParam:$((${#lastParam}-1)):1}
    __gh_debug "${FUNCNAME[0]}: lastParam ${lastParam}, lastChar ${lastChar}"

    if [ -z "${cur}" ] && [ "${lastChar}" != "=" ]; then
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go method.
        __gh_debug "${FUNCNAME[0]}: Adding extra empty parameter"
        requestComp="${requestComp} \"\""
    fi

    __gh_debug "${FUNCNAME[0]}: calling ${requestComp}"
    # Use eval to handle any environment variables and such
    out=$(eval "${requestComp}" 2>/dev/null)

    # Extract the directive integer at the very end of the output following a colon (:)
    directive=${out##*:}
    # Remove the directive
    out=${out%:*}
    if [ "${directive}" = "${out}" ]; then
        # There is not directive specified
        directive=0
    fi
    __gh_debug "${FUNCNAME[0]}: the completion directive is: ${directive}"
    __gh_debug "${FUNCNAME[0]}: the completions are: ${out}"

    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then
        # Error code.  No completion.
        __gh_debug "${FUNCNAME[0]}: received error from custom completion go code"
        return
    else
        if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then
            if [[ $(type -t compopt) = "builtin" ]]; then
                __gh_debug "${FUNCNAME[0]}: activating no space"
                compopt -o nospace
            fi
        fi
        if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then
            if [[ $(type -t compopt) = "builtin" ]]; then
                __gh_debug "${FUNCNAME[0]}: activating no file completion"
                compopt +o default
            fi
        fi
    fi

    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then
        # File extension filtering
        local fullFilter filter filteringCmd
        # Do not use quotes around the $out variable or else newline
        # characters will be kept.
        for filter in ${out}; do
            fullFilter+="$filter|"
        done

        filteringCmd="_filedir $fullFilter"
        __gh_debug "File filtering command: $filteringCmd"
        $filteringCmd
    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then
        # File completion for directories only
        local subdir
        # Use printf to strip any trailing newline
        subdir=$(printf "%s" "${out}")
        if [ -n "$subdir" ]; then
            __gh_debug "Listing directories in $subdir"
            __gh_handle_subdirs_in_dir_flag "$subdir"
        else
            __gh_debug "Listing directories in ."
            _filedir -d
        fi
    else
        while IFS='' read -r comp; do
            COMPREPLY+=("$comp")
        done < <(compgen -W "${out}" -- "$cur")
    fi
}

__gh_handle_reply()
{
    __gh_debug "${FUNCNAME[0]}"
    local comp
    case $cur in
        -*)
            if [[ $(type -t compopt) = "builtin" ]]; then
                compopt -o nospace
            fi
            local allflags
            if [ ${#must_have_one_flag[@]} -ne 0 ]; then
                allflags=("${must_have_one_flag[@]}")
            else
                allflags=("${flags[*]} ${two_word_flags[*]}")
            fi
            while IFS='' read -r comp; do
                COMPREPLY+=("$comp")
            done < <(compgen -W "${allflags[*]}" -- "$cur")
            if [[ $(type -t compopt) = "builtin" ]]; then
                [[ "${COMPREPLY[0]}" == *= ]] || compopt +o nospace
            fi

            # complete after --flag=abc
            if [[ $cur == *=* ]]; then
                if [[ $(type -t compopt) = "builtin" ]]; then
                    compopt +o nospace
                fi

                local index flag
                flag="${cur%=*}"
                __gh_index_of_word "${flag}" "${flags_with_completion[@]}"
                COMPREPLY=()
                if [[ ${index} -ge 0 ]]; then
                    PREFIX=""
                    cur="${cur#*=}"
                    ${flags_completion[${index}]}
                    if [ -n "${ZSH_VERSION:-}" ]; then
                        # zsh completion needs --flag= prefix
                        eval "COMPREPLY=( \"\${COMPREPLY[@]/#/${flag}=}\" )"
                    fi
                fi
            fi

            if [[ -z "${flag_parsing_disabled}" ]]; then
                # If flag parsing is enabled, we have completed the flags and can return.
                # If flag parsing is disabled, we may not know all (or any) of the flags, so we fallthrough
                # to possibly call handle_go_custom_completion.
                return 0;
            fi
            ;;
    esac

    # check if we are handling a flag with special work handling
    local index
    __gh_index_of_word "${prev}" "${flags_with_completion[@]}"
    if [[ ${index} -ge 0 ]]; then
        ${flags_completion[${index}]}
        return
    fi

    # we are parsing a flag and don't have a special handler, no completion
    if [[ ${cur} != "${words[cword]}" ]]; then
        return
    fi

    local completions
    completions=("${commands[@]}")
    if [[ ${#must_have_one_noun[@]} -ne 0 ]]; then
        completions+=("${must_have_one_noun[@]}")
    elif [[ -n "${has_completion_function}" ]]; then
        # if a go completion function is provided, defer to that function
        __gh_handle_go_custom_completion
    fi
    if [[ ${#must_have_one_flag[@]} -ne 0 ]]; then
        completions+=("${must_have_one_flag[@]}")
    fi
    while IFS='' read -r comp; do
        COMPREPLY+=("$comp")
    done < <(compgen -W "${completions[*]}" -- "$cur")

    if [[ ${#COMPREPLY[@]} -eq 0 && ${#noun_aliases[@]} -gt 0 && ${#must_have_one_noun[@]} -ne 0 ]]; then
        while IFS='' read -r comp; do
            COMPREPLY+=("$comp")
        done < <(compgen -W "${noun_aliases[*]}" -- "$cur")
    fi

    if [[ ${#COMPREPLY[@]} -eq 0 ]]; then
        if declare -F __gh_custom_func >/dev/null; then
            # try command name qualified custom func
            __gh_custom_func
        else
            # otherwise fall back to unqualified for compatibility
            declare -F __custom_func >/dev/null && __custom_func
        fi
    fi

    # available in bash-completion >= 2, not always present on macOS
    if declare -F __ltrim_colon_completions >/dev/null; then
        __ltrim_colon_completions "$cur"
    fi

    # If there is only 1 completion and it is a flag with an = it will be completed
    # but we don't want a space after the =
    if [[ "${#COMPREPLY[@]}" -eq "1" ]] && [[ $(type -t compopt) = "builtin" ]] && [[ "${COMPREPLY[0]}" == --*= ]]; then
       compopt -o nospace
    fi
}

# The arguments should be in the form "ext1|ext2|extn"
__gh_handle_filename_extension_flag()
{
    local ext="$1"
    _filedir "@(${ext})"
}

__gh_handle_subdirs_in_dir_flag()
{
    local dir="$1"
    pushd "${dir}" >/dev/null 2>&1 && _filedir -d && popd >/dev/null 2>&1 || return
}

__gh_handle_flag()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    # if a command required a flag, and we found it, unset must_have_one_flag()
    local flagname=${words[c]}
    local flagvalue=""
    # if the word contained an =
    if [[ ${words[c]} == *"="* ]]; then
        flagvalue=${flagname#*=} # take in as flagvalue after the =
        flagname=${flagname%=*} # strip everything after the =
        flagname="${flagname}=" # but put the = back
    fi
    __gh_debug "${FUNCNAME[0]}: looking for ${flagname}"
    if __gh_contains_word "${flagname}" "${must_have_one_flag[@]}"; then
        must_have_one_flag=()
    fi

    # if you set a flag which only applies to this command, don't show subcommands
    if __gh_contains_word "${flagname}" "${local_nonpersistent_flags[@]}"; then
      commands=()
    fi

    # keep flag value with flagname as flaghash
    # flaghash variable is an associative array which is only supported in bash > 3.
    if [[ -z "${BASH_VERSION:-}" || "${BASH_VERSINFO[0]:-}" -gt 3 ]]; then
        if [ -n "${flagvalue}" ] ; then
            flaghash[${flagname}]=${flagvalue}
        elif [ -n "${words[ $((c+1)) ]}" ] ; then
            flaghash[${flagname}]=${words[ $((c+1)) ]}
        else
            flaghash[${flagname}]="true" # pad "true" for bool flag
        fi
    fi

    # skip the argument to a two word flag
    if [[ ${words[c]} != *"="* ]] && __gh_contains_word "${words[c]}" "${two_word_flags[@]}"; then
        __gh_debug "${FUNCNAME[0]}: found a flag ${words[c]}, skip the next argument"
        c=$((c+1))
        # if we are looking for a flags value, don't show commands
        if [[ $c -eq $cword ]]; then
            commands=()
        fi
    fi

    c=$((c+1))

}

__gh_handle_noun()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    if __gh_contains_word "${words[c]}" "${must_have_one_noun[@]}"; then
        must_have_one_noun=()
    elif __gh_contains_word "${words[c]}" "${noun_aliases[@]}"; then
        must_have_one_noun=()
    fi

    nouns+=("${words[c]}")
    c=$((c+1))
}

__gh_handle_command()
{
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"

    local next_command
    if [[ -n ${last_command} ]]; then
        next_command="_${last_command}_${words[c]//:/__}"
    else
        if [[ $c -eq 0 ]]; then
            next_command="_gh_root_command"
        else
            next_command="_${words[c]//:/__}"
        fi
    fi
    c=$((c+1))
    __gh_debug "${FUNCNAME[0]}: looking for ${next_command}"
    declare -F "$next_command" >/dev/null && $next_command
}

__gh_handle_word()
{
    if [[ $c -ge $cword ]]; then
        __gh_handle_reply
        return
    fi
    __gh_debug "${FUNCNAME[0]}: c is $c words[c] is ${words[c]}"
    if [[ "${words[c]}" == -* ]]; then
        __gh_handle_flag
    elif __gh_contains_word "${words[c]}" "${commands[@]}"; then
        __gh_handle_command
    elif [[ $c -eq 0 ]]; then
        __gh_handle_command
    elif __gh_contains_word "${words[c]}" "${command_aliases[@]}"; then
        # aliashash variable is an associative array which is only supported in bash > 3.
        if [[ -z "${BASH_VERSION:-}" || "${BASH_VERSINFO[0]:-}" -gt 3 ]]; then
            words[c]=${aliashash[${words[c]}]}
            __gh_handle_command
        else
            __gh_handle_noun
        fi
    else
        __gh_handle_noun
    fi
    __gh_handle_word
}

_gh_completion_install()
{
    last_command="gh_completion_install"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

_gh_completion_uninstall()
{
    last_command="gh_completion_uninstall"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

_gh_completion()
{
    last_command="gh_completion"

    command_aliases=()

    commands=()
    commands+=("install")
    commands+=("uninstall")

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()

    flags+=("--help")
    flags+=("-h")
    local_nonpersistent_flags+=("--help")
    local_nonpersistent_flags+=("-h")

    must_have_one_flag=()
    must_have_one_noun=()
    must_have_one_noun+=("bash")
    must_have_one_noun+=("fish")
    must_have_one_noun+=("powershell")
    must_have_one_noun+=("zsh")
    noun_aliases=()
}

_gh_help()
{
    last_command="gh_help"

    command_aliases=()

    commands=()

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    has_completion_function=1
    noun_aliases=()
}

_gh_root_command()
{
    last_command="gh"

    command_aliases=()

    commands=()
    commands+=("completion")
    commands+=("help")

    flags=()
    two_word_flags=()
    local_nonpersistent_flags=()
    flags_with_completion=()
    flags_completion=()


    must_have_one_flag=()
    must_have_one_noun=()
    noun_aliases=()
}

__start_gh()
{
    local cur prev words cword split
    declare -A flaghash 2>/dev/null || :
    declare -A aliashash 2>/dev/null || :
    if declare -F _init_completion >/dev/null 2>&1; then
        _init_completion -s || return
    else
        __gh_init_completion -n "=" || return
    fi

    local c=0
    local flag_parsing_disabled=
    local flags=()
    local two_word_flags=()
    local local_nonpersistent_flags=()
    local flags_with_completion=()
    local flags_completion=()
    local commands=("gh")
    local command_aliases=()
    local must_have_one_flag=()
    local must_have_one_noun=()
    local has_completion_function=""
    local last_command=""
    local nouns=()
    local noun_aliases=()

    __gh_handle_word
}

if [[ $(type -t compopt) = "builtin" ]]; then
    complete -o default -F __start_gh gh
else
    complete -o default -o nospace -F __start_gh gh
fi

# ex: ts=4 sw=4 et filetype=sh
--- PASS: TestCompletionCommand_BashScriptFormat (0.00s)
=== RUN   TestCompletionCommand_ZshScriptFormat
#compdef gh
compdef _gh gh

# zsh completion for gh                                   -*- shell-script -*-

__gh_debug()
{
    local file="$BASH_COMP_DEBUG_FILE"
    if [[ -n ${file} ]]; then
        echo "$*" >> "${file}"
    fi
}

_gh()
{
    local shellCompDirectiveError=1
    local shellCompDirectiveNoSpace=2
    local shellCompDirectiveNoFileComp=4
    local shellCompDirectiveFilterFileExt=8
    local shellCompDirectiveFilterDirs=16
    local shellCompDirectiveKeepOrder=32

    local lastParam lastChar flagPrefix requestComp out directive comp lastComp noSpace keepOrder
    local -a completions

    __gh_debug "\n========= starting completion logic =========="
    __gh_debug "CURRENT: ${CURRENT}, words[*]: ${words[*]}"

    # The user could have moved the cursor backwards on the command-line.
    # We need to trigger completion from the $CURRENT location, so we need
    # to truncate the command-line ($words) up to the $CURRENT location.
    # (We cannot use $CURSOR as its value does not work when a command is an alias.)
    words=("${=words[1,CURRENT]}")
    __gh_debug "Truncated words[*]: ${words[*]},"

    lastParam=${words[-1]}
    lastChar=${lastParam[-1]}
    __gh_debug "lastParam: ${lastParam}, lastChar: ${lastChar}"

    # For zsh, when completing a flag with an = (e.g., gh -n=<TAB>)
    # completions must be prefixed with the flag
    setopt local_options BASH_REMATCH
    if [[ "${lastParam}" =~ '-.*=' ]]; then
        # We are dealing with a flag with an =
        flagPrefix="-P ${BASH_REMATCH}"
    fi

    # Prepare the command to obtain completions
    requestComp="${words[1]} __complete ${words[2,-1]}"
    if [ "${lastChar}" = "" ]; then
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go completion code.
        __gh_debug "Adding extra empty parameter"
        requestComp="${requestComp} \"\""
    fi

    __gh_debug "About to call: eval ${requestComp}"

    # Use eval to handle any environment variables and such
    out=$(eval ${requestComp} 2>/dev/null)
    __gh_debug "completion output: ${out}"

    # Extract the directive integer following a : from the last line
    local lastLine
    while IFS='\n' read -r line; do
        lastLine=${line}
    done < <(printf "%s\n" "${out[@]}")
    __gh_debug "last line: ${lastLine}"

    if [ "${lastLine[1]}" = : ]; then
        directive=${lastLine[2,-1]}
        # Remove the directive including the : and the newline
        local suffix
        (( suffix=${#lastLine}+2))
        out=${out[1,-$suffix]}
    else
        # There is no directive specified.  Leave $out as is.
        __gh_debug "No directive found.  Setting do default"
        directive=0
    fi

    __gh_debug "directive: ${directive}"
    __gh_debug "completions: ${out}"
    __gh_debug "flagPrefix: ${flagPrefix}"

    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then
        __gh_debug "Completion received error. Ignoring completions."
        return
    fi

    local activeHelpMarker="_activeHelp_ "
    local endIndex=${#activeHelpMarker}
    local startIndex=$((${#activeHelpMarker}+1))
    local hasActiveHelp=0
    while IFS='\n' read -r comp; do
        # Check if this is an activeHelp statement (i.e., prefixed with $activeHelpMarker)
        if [ "${comp[1,$endIndex]}" = "$activeHelpMarker" ];then
            __gh_debug "ActiveHelp found: $comp"
            comp="${comp[$startIndex,-1]}"
            if [ -n "$comp" ]; then
                compadd -x "${comp}"
                __gh_debug "ActiveHelp will need delimiter"
                hasActiveHelp=1
            fi

            continue
        fi

        if [ -n "$comp" ]; then
            # If requested, completions are returned with a description.
            # The description is preceded by a TAB character.
            # For zsh's _describe, we need to use a : instead of a TAB.
            # We first need to escape any : as part of the completion itself.
            comp=${comp//:/\\:}

            local tab="$(printf '\t')"
            comp=${comp//$tab/:}

            __gh_debug "Adding completion: ${comp}"
            completions+=${comp}
            lastComp=$comp
        fi
    done < <(printf "%s\n" "${out[@]}")

    # Add a delimiter after the activeHelp statements, but only if:
    # - there are completions following the activeHelp statements, or
    # - file completion will be performed (so there will be choices after the activeHelp)
    if [ $hasActiveHelp -eq 1 ]; then
        if [ ${#completions} -ne 0 ] || [ $((directive & shellCompDirectiveNoFileComp)) -eq 0 ]; then
            __gh_debug "Adding activeHelp delimiter"
            compadd -x "--"
            hasActiveHelp=0
        fi
    fi

    if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then
        __gh_debug "Activating nospace."
        noSpace="-S ''"
    fi

    if [ $((directive & shellCompDirectiveKeepOrder)) -ne 0 ]; then
        __gh_debug "Activating keep order."
        keepOrder="-V"
    fi

    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then
        # File extension filtering
        local filteringCmd
        filteringCmd='_files'
        for filter in ${completions[@]}; do
            if [ ${filter[1]} != '*' ]; then
                # zsh requires a glob pattern to do file filtering
                filter="\*.$filter"
            fi
            filteringCmd+=" -g $filter"
        done
        filteringCmd+=" ${flagPrefix}"

        __gh_debug "File filtering command: $filteringCmd"
        _arguments '*:filename:'"$filteringCmd"
    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then
        # File completion for directories only
        local subdir
        subdir="${completions[1]}"
        if [ -n "$subdir" ]; then
            __gh_debug "Listing directories in $subdir"
            pushd "${subdir}" >/dev/null 2>&1
        else
            __gh_debug "Listing directories in ."
        fi

        local result
        _arguments '*:dirname:_files -/'" ${flagPrefix}"
        result=$?
        if [ -n "$subdir" ]; then
            popd >/dev/null 2>&1
        fi
        return $result
    else
        __gh_debug "Calling _describe"
        if eval _describe $keepOrder "completions" completions $flagPrefix $noSpace; then
            __gh_debug "_describe found some completions"

            # Return the success of having called _describe
            return 0
        else
            __gh_debug "_describe did not find completions."
            __gh_debug "Checking if we should do file completion."
            if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then
                __gh_debug "deactivating file completion"

                # We must return an error code here to let zsh know that there were no
                # completions found by _describe; this is what will trigger other
                # matching algorithms to attempt to find completions.
                # For example zsh can match letters in the middle of words.
                return 1
            else
                # Perform file completion
                __gh_debug "Activating file completion"

                # We must return the result of this command, so it must be the
                # last command, or else we must store its result to return it.
                _arguments '*:filename:_files'" ${flagPrefix}"
            fi
        fi
    fi
}

# don't run the completion function when being source-ed or eval-ed
if [ "$funcstack[1]" = "_gh" ]; then
    _gh
fi
--- PASS: TestCompletionCommand_ZshScriptFormat (0.00s)
=== RUN   TestCompletionCommand_FishScriptFormat
# fish completion for gh                                   -*- shell-script -*-

function __gh_debug
    set -l file "$BASH_COMP_DEBUG_FILE"
    if test -n "$file"
        echo "$argv" >> $file
    end
end

function __gh_perform_completion
    __gh_debug "Starting __gh_perform_completion"

    # Extract all args except the last one
    set -l args (commandline -opc)
    # Extract the last arg and escape it in case it is a space
    set -l lastArg (string escape -- (commandline -ct))

    __gh_debug "args: $args"
    __gh_debug "last arg: $lastArg"

    # Disable ActiveHelp which is not supported for fish shell
    set -l requestComp "GH_ACTIVE_HELP=0 $args[1] __complete $args[2..-1] $lastArg"

    __gh_debug "Calling $requestComp"
    set -l results (eval $requestComp 2> /dev/null)

    # Some programs may output extra empty lines after the directive.
    # Let's ignore them or else it will break completion.
    # Ref: https://github.com/spf13/cobra/issues/1279
    for line in $results[-1..1]
        if test (string trim -- $line) = ""
            # Found an empty line, remove it
            set results $results[1..-2]
        else
            # Found non-empty line, we have our proper output
            break
        end
    end

    set -l comps $results[1..-2]
    set -l directiveLine $results[-1]

    # For Fish, when completing a flag with an = (e.g., <program> -n=<TAB>)
    # completions must be prefixed with the flag
    set -l flagPrefix (string match -r -- '-.*=' "$lastArg")

    __gh_debug "Comps: $comps"
    __gh_debug "DirectiveLine: $directiveLine"
    __gh_debug "flagPrefix: $flagPrefix"

    for comp in $comps
        printf "%s%s\n" "$flagPrefix" "$comp"
    end

    printf "%s\n" "$directiveLine"
end

# this function limits calls to __gh_perform_completion, by caching the result behind $__gh_perform_completion_once_result
function __gh_perform_completion_once
    __gh_debug "Starting __gh_perform_completion_once"

    if test -n "$__gh_perform_completion_once_result"
        __gh_debug "Seems like a valid result already exists, skipping __gh_perform_completion"
        return 0
    end

    set --global __gh_perform_completion_once_result (__gh_perform_completion)
    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "No completions, probably due to a failure"
        return 1
    end

    __gh_debug "Performed completions and set __gh_perform_completion_once_result"
    return 0
end

# this function is used to clear the $__gh_perform_completion_once_result variable after completions are run
function __gh_clear_perform_completion_once_result
    __gh_debug ""
    __gh_debug "========= clearing previously set __gh_perform_completion_once_result variable =========="
    set --erase __gh_perform_completion_once_result
    __gh_debug "Successfully erased the variable __gh_perform_completion_once_result"
end

function __gh_requires_order_preservation
    __gh_debug ""
    __gh_debug "========= checking if order preservation is required =========="

    __gh_perform_completion_once
    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "Error determining if order preservation is required"
        return 1
    end

    set -l directive (string sub --start 2 $__gh_perform_completion_once_result[-1])
    __gh_debug "Directive is: $directive"

    set -l shellCompDirectiveKeepOrder 32
    set -l keeporder (math (math --scale 0 $directive / $shellCompDirectiveKeepOrder) % 2)
    __gh_debug "Keeporder is: $keeporder"

    if test $keeporder -ne 0
        __gh_debug "This does require order preservation"
        return 0
    end

    __gh_debug "This doesn't require order preservation"
    return 1
end


# This function does two things:
# - Obtain the completions and store them in the global __gh_comp_results
# - Return false if file completion should be performed
function __gh_prepare_completions
    __gh_debug ""
    __gh_debug "========= starting completion logic =========="

    # Start fresh
    set --erase __gh_comp_results

    __gh_perform_completion_once
    __gh_debug "Completion results: $__gh_perform_completion_once_result"

    if test -z "$__gh_perform_completion_once_result"
        __gh_debug "No completion, probably due to a failure"
        # Might as well do file completion, in case it helps
        return 1
    end

    set -l directive (string sub --start 2 $__gh_perform_completion_once_result[-1])
    set --global __gh_comp_results $__gh_perform_completion_once_result[1..-2]

    __gh_debug "Completions are: $__gh_comp_results"
    __gh_debug "Directive is: $directive"

    set -l shellCompDirectiveError 1
    set -l shellCompDirectiveNoSpace 2
    set -l shellCompDirectiveNoFileComp 4
    set -l shellCompDirectiveFilterFileExt 8
    set -l shellCompDirectiveFilterDirs 16

    if test -z "$directive"
        set directive 0
    end

    set -l compErr (math (math --scale 0 $directive / $shellCompDirectiveError) % 2)
    if test $compErr -eq 1
        __gh_debug "Received error directive: aborting."
        # Might as well do file completion, in case it helps
        return 1
    end

    set -l filefilter (math (math --scale 0 $directive / $shellCompDirectiveFilterFileExt) % 2)
    set -l dirfilter (math (math --scale 0 $directive / $shellCompDirectiveFilterDirs) % 2)
    if test $filefilter -eq 1; or test $dirfilter -eq 1
        __gh_debug "File extension filtering or directory filtering not supported"
        # Do full file completion instead
        return 1
    end

    set -l nospace (math (math --scale 0 $directive / $shellCompDirectiveNoSpace) % 2)
    set -l nofiles (math (math --scale 0 $directive / $shellCompDirectiveNoFileComp) % 2)

    __gh_debug "nospace: $nospace, nofiles: $nofiles"

    # If we want to prevent a space, or if file completion is NOT disabled,
    # we need to count the number of valid completions.
    # To do so, we will filter on prefix as the completions we have received
    # may not already be filtered so as to allow fish to match on different
    # criteria than the prefix.
    if test $nospace -ne 0; or test $nofiles -eq 0
        set -l prefix (commandline -t | string escape --style=regex)
        __gh_debug "prefix: $prefix"

        set -l completions (string match -r -- "^$prefix.*" $__gh_comp_results)
        set --global __gh_comp_results $completions
        __gh_debug "Filtered completions are: $__gh_comp_results"

        # Important not to quote the variable for count to work
        set -l numComps (count $__gh_comp_results)
        __gh_debug "numComps: $numComps"

        if test $numComps -eq 1; and test $nospace -ne 0
            # We must first split on \t to get rid of the descriptions to be
            # able to check what the actual completion will be.
            # We don't need descriptions anyway since there is only a single
            # real completion which the shell will expand immediately.
            set -l split (string split --max 1 \t $__gh_comp_results[1])

            # Fish won't add a space if the completion ends with any
            # of the following characters: @=/:.,
            set -l lastChar (string sub -s -1 -- $split)
            if not string match -r -q "[@=/:.,]" -- "$lastChar"
                # In other cases, to support the "nospace" directive we trick the shell
                # by outputting an extra, longer completion.
                __gh_debug "Adding second completion to perform nospace directive"
                set --global __gh_comp_results $split[1] $split[1].
                __gh_debug "Completions are now: $__gh_comp_results"
            end
        end

        if test $numComps -eq 0; and test $nofiles -eq 0
            # To be consistent with bash and zsh, we only trigger file
            # completion when there are no other completions
            __gh_debug "Requesting file completion"
            return 1
        end
    end

    return 0
end

# Since Fish completions are only loaded once the user triggers them, we trigger them ourselves
# so we can properly delete any completions provided by another script.
# Only do this if the program can be found, or else fish may print some errors; besides,
# the existing completions will only be loaded if the program can be found.
if type -q "gh"
    # The space after the program name is essential to trigger completion for the program
    # and not completion of the program name itself.
    # Also, we use '> /dev/null 2>&1' since '&>' is not supported in older versions of fish.
    complete --do-complete "gh " > /dev/null 2>&1
end

# Remove any pre-existing completions for the program since we will be handling all of them.
complete -c gh -e

# this will get called after the two calls below and clear the $__gh_perform_completion_once_result global
complete -c gh -n '__gh_clear_perform_completion_once_result'
# The call to __gh_prepare_completions will setup __gh_comp_results
# which provides the program's completion choices.
# If this doesn't require order preservation, we don't use the -k flag
complete -c gh -n 'not __gh_requires_order_preservation && __gh_prepare_completions' -f -a '$__gh_comp_results'
# otherwise we use the -k flag
complete -k -c gh -n '__gh_requires_order_preservation && __gh_prepare_completions' -f -a '$__gh_comp_results'
--- PASS: TestCompletionCommand_FishScriptFormat (0.00s)
=== RUN   TestCompletionCommand_PowerShellScriptFormat
# powershell completion for gh                                   -*- shell-script -*-

function __gh_debug {
    if ($env:BASH_COMP_DEBUG_FILE) {
        "$args" | Out-File -Append -FilePath "$env:BASH_COMP_DEBUG_FILE"
    }
}

filter __gh_escapeStringWithSpecialChars {
    $_ -replace '\s|#|@|\$|;|,|''|\{|\}|\(|\)|"|`|\||<|>|&','`$&'
}

[scriptblock]${__ghCompleterBlock} = {
    param(
            $WordToComplete,
            $CommandAst,
            $CursorPosition
        )

    # Get the current command line and convert into a string
    $Command = $CommandAst.CommandElements
    $Command = "$Command"

    __gh_debug ""
    __gh_debug "========= starting completion logic =========="
    __gh_debug "WordToComplete: $WordToComplete Command: $Command CursorPosition: $CursorPosition"

    # The user could have moved the cursor backwards on the command-line.
    # We need to trigger completion from the $CursorPosition location, so we need
    # to truncate the command-line ($Command) up to the $CursorPosition location.
    # Make sure the $Command is longer then the $CursorPosition before we truncate.
    # This happens because the $Command does not include the last space.
    if ($Command.Length -gt $CursorPosition) {
        $Command=$Command.Substring(0,$CursorPosition)
    }
    __gh_debug "Truncated command: $Command"

    $ShellCompDirectiveError=1
    $ShellCompDirectiveNoSpace=2
    $ShellCompDirectiveNoFileComp=4
    $ShellCompDirectiveFilterFileExt=8
    $ShellCompDirectiveFilterDirs=16
    $ShellCompDirectiveKeepOrder=32

    # Prepare the command to request completions for the program.
    # Split the command at the first space to separate the program and arguments.
    $Program,$Arguments = $Command.Split(" ",2)

    $RequestComp="$Program __completeNoDesc $Arguments"
    __gh_debug "RequestComp: $RequestComp"

    # we cannot use $WordToComplete because it
    # has the wrong values if the cursor was moved
    # so use the last argument
    if ($WordToComplete -ne "" ) {
        $WordToComplete = $Arguments.Split(" ")[-1]
    }
    __gh_debug "New WordToComplete: $WordToComplete"


    # Check for flag with equal sign
    $IsEqualFlag = ($WordToComplete -Like "--*=*" )
    if ( $IsEqualFlag ) {
        __gh_debug "Completing equal sign flag"
        # Remove the flag part
        $Flag,$WordToComplete = $WordToComplete.Split("=",2)
    }

    if ( $WordToComplete -eq "" -And ( -Not $IsEqualFlag )) {
        # If the last parameter is complete (there is a space following it)
        # We add an extra empty parameter so we can indicate this to the go method.
        __gh_debug "Adding extra empty parameter"
        # PowerShell 7.2+ changed the way how the arguments are passed to executables,
        # so for pre-7.2 or when Legacy argument passing is enabled we need to use
        # `"`" to pass an empty argument, a "" or '' does not work!!!
        if ($PSVersionTable.PsVersion -lt [version]'7.2.0' -or
            ($PSVersionTable.PsVersion -lt [version]'7.3.0' -and -not [ExperimentalFeature]::IsEnabled("PSNativeCommandArgumentPassing")) -or
            (($PSVersionTable.PsVersion -ge [version]'7.3.0' -or [ExperimentalFeature]::IsEnabled("PSNativeCommandArgumentPassing")) -and
              $PSNativeCommandArgumentPassing -eq 'Legacy')) {
             $RequestComp="$RequestComp" + ' `"`"'
        } else {
             $RequestComp="$RequestComp" + ' ""'
        }
    }

    __gh_debug "Calling $RequestComp"
    # First disable ActiveHelp which is not supported for Powershell
    ${env:GH_ACTIVE_HELP}=0

    #call the command store the output in $out and redirect stderr and stdout to null
    # $Out is an array contains each line per element
    Invoke-Expression -OutVariable out "$RequestComp" 2>&1 | Out-Null

    # get directive from last line
    [int]$Directive = $Out[-1].TrimStart(':')
    if ($Directive -eq "") {
        # There is no directive specified
        $Directive = 0
    }
    __gh_debug "The completion directive is: $Directive"

    # remove directive (last element) from out
    $Out = $Out | Where-Object { $_ -ne $Out[-1] }
    __gh_debug "The completions are: $Out"

    if (($Directive -band $ShellCompDirectiveError) -ne 0 ) {
        # Error code.  No completion.
        __gh_debug "Received error from custom completion go code"
        return
    }

    $Longest = 0
    [Array]$Values = $Out | ForEach-Object {
        #Split the output in name and description
        $Name, $Description = $_.Split("`t",2)
        __gh_debug "Name: $Name Description: $Description"

        # Look for the longest completion so that we can format things nicely
        if ($Longest -lt $Name.Length) {
            $Longest = $Name.Length
        }

        # Set the description to a one space string if there is none set.
        # This is needed because the CompletionResult does not accept an empty string as argument
        if (-Not $Description) {
            $Description = " "
        }
        New-Object -TypeName PSCustomObject -Property @{
            Name = "$Name"
            Description = "$Description"
        }
    }


    $Space = " "
    if (($Directive -band $ShellCompDirectiveNoSpace) -ne 0 ) {
        # remove the space here
        __gh_debug "ShellCompDirectiveNoSpace is called"
        $Space = ""
    }

    if ((($Directive -band $ShellCompDirectiveFilterFileExt) -ne 0 ) -or
       (($Directive -band $ShellCompDirectiveFilterDirs) -ne 0 ))  {
        __gh_debug "ShellCompDirectiveFilterFileExt ShellCompDirectiveFilterDirs are not supported"

        # return here to prevent the completion of the extensions
        return
    }

    $Values = $Values | Where-Object {
        # filter the result
        $_.Name -like "$WordToComplete*"

        # Join the flag back if we have an equal sign flag
        if ( $IsEqualFlag ) {
            __gh_debug "Join the equal sign flag back to the completion value"
            $_.Name = $Flag + "=" + $_.Name
        }
    }

    # we sort the values in ascending order by name if keep order isn't passed
    if (($Directive -band $ShellCompDirectiveKeepOrder) -eq 0 ) {
        $Values = $Values | Sort-Object -Property Name
    }

    if (($Directive -band $ShellCompDirectiveNoFileComp) -ne 0 ) {
        __gh_debug "ShellCompDirectiveNoFileComp is called"

        if ($Values.Length -eq 0) {
            # Just print an empty string here so the
            # shell does not start to complete paths.
            # We cannot use CompletionResult here because
            # it does not accept an empty string as argument.
            ""
            return
        }
    }

    # Get the current mode
    $Mode = (Get-PSReadLineKeyHandler | Where-Object {$_.Key -eq "Tab" }).Function
    __gh_debug "Mode: $Mode"

    $Values | ForEach-Object {

        # store temporary because switch will overwrite $_
        $comp = $_

        # PowerShell supports three different completion modes
        # - TabCompleteNext (default windows style - on each key press the next option is displayed)
        # - Complete (works like bash)
        # - MenuComplete (works like zsh)
        # You set the mode with Set-PSReadLineKeyHandler -Key Tab -Function <mode>

        # CompletionResult Arguments:
        # 1) CompletionText text to be used as the auto completion result
        # 2) ListItemText   text to be displayed in the suggestion list
        # 3) ResultType     type of completion result
        # 4) ToolTip        text for the tooltip with details about the object

        switch ($Mode) {

            # bash like
            "Complete" {

                if ($Values.Length -eq 1) {
                    __gh_debug "Only one completion left"

                    # insert space after value
                    $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars) + $Space
                    if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                        [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                    } else {
                        $CompletionText
                    }

                } else {
                    # Add the proper number of spaces to align the descriptions
                    while($comp.Name.Length -lt $Longest) {
                        $comp.Name = $comp.Name + " "
                    }

                    # Check for empty description and only add parentheses if needed
                    if ($($comp.Description) -eq " " ) {
                        $Description = ""
                    } else {
                        $Description = "  ($($comp.Description))"
                    }

                    $CompletionText = "$($comp.Name)$Description"
                    if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                        [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)$Description", 'ParameterValue', "$($comp.Description)")
                    } else {
                        $CompletionText
                    }
                }
             }

            # zsh like
            "MenuComplete" {
                # insert space after value
                # MenuComplete will automatically show the ToolTip of
                # the highlighted value at the bottom of the suggestions.

                $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars) + $Space
                if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                    [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                } else {
                    $CompletionText
                }
            }

            # TabCompleteNext and in case we get something unknown
            Default {
                # Like MenuComplete but we don't want to add a space here because
                # the user need to press space anyway to get the completion.
                # Description will not be shown because that's not possible with TabCompleteNext

                $CompletionText = $($comp.Name | __gh_escapeStringWithSpecialChars)
                if ($ExecutionContext.SessionState.LanguageMode -eq "FullLanguage"){
                    [System.Management.Automation.CompletionResult]::new($CompletionText, "$($comp.Name)", 'ParameterValue', "$($comp.Description)")
                } else {
                    $CompletionText
                }
            }
        }

    }
}

Register-ArgumentCompleter -CommandName 'gh' -ScriptBlock ${__ghCompleterBlock}
--- PASS: TestCompletionCommand_PowerShellScriptFormat (0.00s)
=== RUN   TestGetWorkflowDescription
=== RUN   TestGetWorkflowDescription/workflow_with_description
=== RUN   TestGetWorkflowDescription/workflow_with_long_description
=== RUN   TestGetWorkflowDescription/workflow_with_name_but_no_description
=== RUN   TestGetWorkflowDescription/workflow_with_neither_description_nor_name
=== RUN   TestGetWorkflowDescription/workflow_without_frontmatter
--- PASS: TestGetWorkflowDescription (0.00s)
    --- PASS: TestGetWorkflowDescription/workflow_with_description (0.00s)
    --- PASS: TestGetWorkflowDescription/workflow_with_long_description (0.00s)
    --- PASS: TestGetWorkflowDescription/workflow_with_name_but_no_description (0.00s)
    --- PASS: TestGetWorkflowDescription/workflow_with_neither_description_nor_name (0.00s)
    --- PASS: TestGetWorkflowDescription/workflow_without_frontmatter (0.00s)
=== RUN   TestCompleteWorkflowNamesWithDescriptions
=== RUN   TestCompleteWorkflowNamesWithDescriptions/empty_prefix_returns_all_workflows_with_descriptions
=== RUN   TestCompleteWorkflowNamesWithDescriptions/c_prefix_returns_ci-doctor
=== RUN   TestCompleteWorkflowNamesWithDescriptions/test_prefix_returns_test-workflow
=== RUN   TestCompleteWorkflowNamesWithDescriptions/x_prefix_returns_nothing
--- PASS: TestCompleteWorkflowNamesWithDescriptions (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithDescriptions/empty_prefix_returns_all_workflows_with_descriptions (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithDescriptions/c_prefix_returns_ci-doctor (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithDescriptions/test_prefix_returns_test-workflow (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithDescriptions/x_prefix_returns_nothing (0.00s)
=== RUN   TestValidEngineNames
--- PASS: TestValidEngineNames (0.00s)
=== RUN   TestCompleteEngineNames
=== RUN   TestCompleteEngineNames/empty_prefix_returns_all_engines
=== RUN   TestCompleteEngineNames/c_prefix_returns_claude,_codex,_copilot,_custom
=== RUN   TestCompleteEngineNames/co_prefix_returns_copilot,_codex
=== RUN   TestCompleteEngineNames/cop_prefix_returns_copilot
=== RUN   TestCompleteEngineNames/x_prefix_returns_nothing
--- PASS: TestCompleteEngineNames (0.00s)
    --- PASS: TestCompleteEngineNames/empty_prefix_returns_all_engines (0.00s)
    --- PASS: TestCompleteEngineNames/c_prefix_returns_claude,_codex,_copilot,_custom (0.00s)
    --- PASS: TestCompleteEngineNames/co_prefix_returns_copilot,_codex (0.00s)
    --- PASS: TestCompleteEngineNames/cop_prefix_returns_copilot (0.00s)
    --- PASS: TestCompleteEngineNames/x_prefix_returns_nothing (0.00s)
=== RUN   TestCompleteWorkflowNames
=== RUN   TestCompleteWorkflowNames/empty_prefix_returns_all_workflows
=== RUN   TestCompleteWorkflowNames/c_prefix_returns_ci-doctor
=== RUN   TestCompleteWorkflowNames/test_prefix_returns_test-workflow
=== RUN   TestCompleteWorkflowNames/x_prefix_returns_nothing
--- PASS: TestCompleteWorkflowNames (0.00s)
    --- PASS: TestCompleteWorkflowNames/empty_prefix_returns_all_workflows (0.00s)
    --- PASS: TestCompleteWorkflowNames/c_prefix_returns_ci-doctor (0.00s)
    --- PASS: TestCompleteWorkflowNames/test_prefix_returns_test-workflow (0.00s)
    --- PASS: TestCompleteWorkflowNames/x_prefix_returns_nothing (0.00s)
=== RUN   TestCompleteWorkflowNamesNoWorkflowsDir
--- PASS: TestCompleteWorkflowNamesNoWorkflowsDir (0.00s)
=== RUN   TestCompleteDirectories
--- PASS: TestCompleteDirectories (0.00s)
=== RUN   TestRegisterEngineFlagCompletion
--- PASS: TestRegisterEngineFlagCompletion (0.00s)
=== RUN   TestRegisterDirFlagCompletion
--- PASS: TestRegisterDirFlagCompletion (0.00s)
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters/all_workflows_with_empty_prefix
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test_prefix
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test-_prefix
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test__prefix
=== RUN   TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_my-_prefix
--- PASS: TestCompleteWorkflowNamesWithSpecialCharacters (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithSpecialCharacters/all_workflows_with_empty_prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test_prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test-_prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_test__prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesWithSpecialCharacters/workflows_with_my-_prefix (0.00s)
=== RUN   TestCompleteWorkflowNamesWithInvalidFiles
--- PASS: TestCompleteWorkflowNamesWithInvalidFiles (0.00s)
=== RUN   TestCompleteWorkflowNamesCaseSensitivity
=== RUN   TestCompleteWorkflowNamesCaseSensitivity/lowercase_test_prefix
=== RUN   TestCompleteWorkflowNamesCaseSensitivity/capitalized_Test_prefix
=== RUN   TestCompleteWorkflowNamesCaseSensitivity/uppercase_TEST_prefix
--- PASS: TestCompleteWorkflowNamesCaseSensitivity (0.00s)
    --- PASS: TestCompleteWorkflowNamesCaseSensitivity/lowercase_test_prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesCaseSensitivity/capitalized_Test_prefix (0.00s)
    --- PASS: TestCompleteWorkflowNamesCaseSensitivity/uppercase_TEST_prefix (0.00s)
=== RUN   TestCompleteWorkflowNamesExactMatch
--- PASS: TestCompleteWorkflowNamesExactMatch (0.00s)
=== RUN   TestCompleteWorkflowNamesLongNames
--- PASS: TestCompleteWorkflowNamesLongNames (0.00s)
=== RUN   TestCompleteEngineNamesExactMatch
--- PASS: TestCompleteEngineNamesExactMatch (0.00s)
=== RUN   TestCompleteEngineNamesCaseSensitivity
=== RUN   TestCompleteEngineNamesCaseSensitivity/lowercase_copilot
=== RUN   TestCompleteEngineNamesCaseSensitivity/uppercase_COPILOT_should_not_match
=== RUN   TestCompleteEngineNamesCaseSensitivity/mixed_case_Copilot_should_not_match
--- PASS: TestCompleteEngineNamesCaseSensitivity (0.00s)
    --- PASS: TestCompleteEngineNamesCaseSensitivity/lowercase_copilot (0.00s)
    --- PASS: TestCompleteEngineNamesCaseSensitivity/uppercase_COPILOT_should_not_match (0.00s)
    --- PASS: TestCompleteEngineNamesCaseSensitivity/mixed_case_Copilot_should_not_match (0.00s)
=== RUN   TestValidEngineNamesConsistency
--- PASS: TestValidEngineNamesConsistency (0.00s)
=== RUN   TestRunWorkflowOnGitHubWithCancellation
âš  Operation cancelled
--- PASS: TestRunWorkflowOnGitHubWithCancellation (0.00s)
=== RUN   TestRunWorkflowsOnGitHubWithCancellation
âš  Operation cancelled
--- PASS: TestRunWorkflowsOnGitHubWithCancellation (0.00s)
=== RUN   TestCompileWorkflowsWithCancellation
âš  Operation cancelled
--- PASS: TestCompileWorkflowsWithCancellation (0.00s)
=== RUN   TestDownloadWorkflowLogsWithCancellation
âš  Operation cancelled
--- PASS: TestDownloadWorkflowLogsWithCancellation (0.00s)
=== RUN   TestAuditWorkflowRunWithCancellation
âš  Operation cancelled
--- PASS: TestAuditWorkflowRunWithCancellation (0.00s)
=== RUN   TestRunWorkflowsOnGitHubCancellationDuringExecution
--- PASS: TestRunWorkflowsOnGitHubCancellationDuringExecution (0.00s)
=== RUN   TestDownloadWorkflowLogsTimeoutRespected
--- PASS: TestDownloadWorkflowLogsTimeoutRespected (1.08s)
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_from_workflow_path_copilot-swe-agent.yml
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_from_workflow_path_copilot-swe-agent.yaml
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/does_not_detect_from_different_workflow_path
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/aw_info.json_present_means_agentic_workflow,_not_copilot_agent
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/aw_info.json_present_with_any_workflow_name_means_agentic_workflow
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_agent_pattern_in_log_file_without_aw_info.json
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_copilot-swe-agent_in_log_without_aw_info.json
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_agent_artifact_without_aw_info.json
=== RUN   TestCopilotAgentDetector_IsGitHubCopilotAgent/no_indicators_-_returns_false
--- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent (0.01s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_from_workflow_path_copilot-swe-agent.yml (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_from_workflow_path_copilot-swe-agent.yaml (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/does_not_detect_from_different_workflow_path (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/aw_info.json_present_means_agentic_workflow,_not_copilot_agent (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/aw_info.json_present_with_any_workflow_name_means_agentic_workflow (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_agent_pattern_in_log_file_without_aw_info.json (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_copilot-swe-agent_in_log_without_aw_info.json (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/detects_agent_artifact_without_aw_info.json (0.00s)
    --- PASS: TestCopilotAgentDetector_IsGitHubCopilotAgent/no_indicators_-_returns_false (0.00s)
=== RUN   TestParseCopilotAgentLogMetrics
=== RUN   TestParseCopilotAgentLogMetrics/parses_agent_turns
=== RUN   TestParseCopilotAgentLogMetrics/parses_errors_and_warnings
=== RUN   TestParseCopilotAgentLogMetrics/parses_tool_calls
=== RUN   TestParseCopilotAgentLogMetrics/extracts_token_usage_from_JSON
=== RUN   TestParseCopilotAgentLogMetrics/handles_empty_log
--- PASS: TestParseCopilotAgentLogMetrics (0.00s)
    --- PASS: TestParseCopilotAgentLogMetrics/parses_agent_turns (0.00s)
    --- PASS: TestParseCopilotAgentLogMetrics/parses_errors_and_warnings (0.00s)
    --- PASS: TestParseCopilotAgentLogMetrics/parses_tool_calls (0.00s)
    --- PASS: TestParseCopilotAgentLogMetrics/extracts_token_usage_from_JSON (0.00s)
    --- PASS: TestParseCopilotAgentLogMetrics/handles_empty_log (0.00s)
=== RUN   TestExtractToolName
=== RUN   TestExtractToolName/extracts_from_'tool:'_pattern
=== RUN   TestExtractToolName/extracts_from_'calling'_pattern
=== RUN   TestExtractToolName/extracts_from_'executing'_pattern
=== RUN   TestExtractToolName/extracts_from_'using_tool'_pattern
=== RUN   TestExtractToolName/returns_empty_for_no_match
--- PASS: TestExtractToolName (0.00s)
    --- PASS: TestExtractToolName/extracts_from_'tool:'_pattern (0.00s)
    --- PASS: TestExtractToolName/extracts_from_'calling'_pattern (0.00s)
    --- PASS: TestExtractToolName/extracts_from_'executing'_pattern (0.00s)
    --- PASS: TestExtractToolName/extracts_from_'using_tool'_pattern (0.00s)
    --- PASS: TestExtractToolName/returns_empty_for_no_match (0.00s)
=== RUN   TestExtractErrorMessage
=== RUN   TestExtractErrorMessage/removes_ISO_timestamp
=== RUN   TestExtractErrorMessage/removes_bracketed_timestamp
=== RUN   TestExtractErrorMessage/removes_log_level_prefix
=== RUN   TestExtractErrorMessage/handles_warning_prefix
=== RUN   TestExtractErrorMessage/handles_plain_message
--- PASS: TestExtractErrorMessage (0.00s)
    --- PASS: TestExtractErrorMessage/removes_ISO_timestamp (0.00s)
    --- PASS: TestExtractErrorMessage/removes_bracketed_timestamp (0.00s)
    --- PASS: TestExtractErrorMessage/removes_log_level_prefix (0.00s)
    --- PASS: TestExtractErrorMessage/handles_warning_prefix (0.00s)
    --- PASS: TestExtractErrorMessage/handles_plain_message (0.00s)
=== RUN   TestIntegration_CopilotAgentWithAudit
    copilot_agent_test.go:338: Note: Token usage was not extracted from JSON in log (this is acceptable)
--- PASS: TestIntegration_CopilotAgentWithAudit (0.00s)
=== RUN   TestReadLogHeader
--- PASS: TestReadLogHeader (0.00s)
=== RUN   TestWorkflowLogMetricsConversion
--- PASS: TestWorkflowLogMetricsConversion (0.00s)
=== RUN   TestEnsureFileMatchesTemplate
=== RUN   TestEnsureFileMatchesTemplate/creates_new_file
=== RUN   TestEnsureFileMatchesTemplate/does_not_modify_existing_correct_file
=== RUN   TestEnsureFileMatchesTemplate/updates_modified_file
=== RUN   TestEnsureFileMatchesTemplate/skips_when_skipInstructions_is_true
--- PASS: TestEnsureFileMatchesTemplate (0.03s)
    --- PASS: TestEnsureFileMatchesTemplate/creates_new_file (0.01s)
    --- PASS: TestEnsureFileMatchesTemplate/does_not_modify_existing_correct_file (0.01s)
    --- PASS: TestEnsureFileMatchesTemplate/updates_modified_file (0.01s)
    --- PASS: TestEnsureFileMatchesTemplate/skips_when_skipInstructions_is_true (0.00s)
=== RUN   TestEnsureFileMatchesTemplate_VerboseOutput
=== RUN   TestEnsureFileMatchesTemplate_VerboseOutput/logs_creation
âœ“ Created test file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-377057209/.github/test/test.md
=== RUN   TestEnsureFileMatchesTemplate_VerboseOutput/logs_update
âœ“ Updated test file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-3385667696/.github/test/test.md
=== RUN   TestEnsureFileMatchesTemplate_VerboseOutput/logs_up-to-date
â„¹ test file is up-to-date: /tmp/gh-aw-test-runs/20260129-002143-306608/test-4267854441/.github/test/test.md
--- PASS: TestEnsureFileMatchesTemplate_VerboseOutput (0.02s)
    --- PASS: TestEnsureFileMatchesTemplate_VerboseOutput/logs_creation (0.01s)
    --- PASS: TestEnsureFileMatchesTemplate_VerboseOutput/logs_update (0.01s)
    --- PASS: TestEnsureFileMatchesTemplate_VerboseOutput/logs_up-to-date (0.01s)
=== RUN   TestDeleteOldAgentFiles
=== RUN   TestDeleteOldAgentFiles/deletes_old_agent_files_from_.github/agents
=== RUN   TestDeleteOldAgentFiles/deletes_singular_upgrade-agentic-workflow.md_from_.github/aw
=== RUN   TestDeleteOldAgentFiles/deletes_both_agent_and_aw_files
=== RUN   TestDeleteOldAgentFiles/deletes_old_non-.agent.md_files_from_.github/agents
=== RUN   TestDeleteOldAgentFiles/deletes_all_old_agent_files_together
=== RUN   TestDeleteOldAgentFiles/handles_no_files_to_delete
--- PASS: TestDeleteOldAgentFiles (0.04s)
    --- PASS: TestDeleteOldAgentFiles/deletes_old_agent_files_from_.github/agents (0.01s)
    --- PASS: TestDeleteOldAgentFiles/deletes_singular_upgrade-agentic-workflow.md_from_.github/aw (0.01s)
    --- PASS: TestDeleteOldAgentFiles/deletes_both_agent_and_aw_files (0.01s)
    --- PASS: TestDeleteOldAgentFiles/deletes_old_non-.agent.md_files_from_.github/agents (0.01s)
    --- PASS: TestDeleteOldAgentFiles/deletes_all_old_agent_files_together (0.01s)
    --- PASS: TestDeleteOldAgentFiles/handles_no_files_to_delete (0.01s)
=== RUN   TestEnsureCopilotInstructions
=== RUN   TestEnsureCopilotInstructions/creates_new_copilot_instructions_file
=== RUN   TestEnsureCopilotInstructions/does_not_modify_existing_correct_file
=== RUN   TestEnsureCopilotInstructions/updates_modified_file
--- PASS: TestEnsureCopilotInstructions (0.02s)
    --- PASS: TestEnsureCopilotInstructions/creates_new_copilot_instructions_file (0.01s)
    --- PASS: TestEnsureCopilotInstructions/does_not_modify_existing_correct_file (0.01s)
    --- PASS: TestEnsureCopilotInstructions/updates_modified_file (0.01s)
=== RUN   TestEnsureCopilotInstructions_WithSkipInstructionsTrue
--- PASS: TestEnsureCopilotInstructions_WithSkipInstructionsTrue (0.01s)
=== RUN   TestEnsureCopilotInstructions_CleansUpOldFile
--- PASS: TestEnsureCopilotInstructions_CleansUpOldFile (0.01s)
=== RUN   TestEnsureCopilotSetupSteps
=== RUN   TestEnsureCopilotSetupSteps/creates_new_copilot-setup-steps.yml
=== RUN   TestEnsureCopilotSetupSteps/skips_update_when_extension_install_already_exists
Skipping .github/workflows/copilot-setup-steps.yml (already has gh-aw extension install step)
=== RUN   TestEnsureCopilotSetupSteps/injects_extension_install_into_existing_workflow
--- PASS: TestEnsureCopilotSetupSteps (0.00s)
    --- PASS: TestEnsureCopilotSetupSteps/creates_new_copilot-setup-steps.yml (0.00s)
    --- PASS: TestEnsureCopilotSetupSteps/skips_update_when_extension_install_already_exists (0.00s)
    --- PASS: TestEnsureCopilotSetupSteps/injects_extension_install_into_existing_workflow (0.00s)
=== RUN   TestInjectExtensionInstallStep
=== PAUSE TestInjectExtensionInstallStep
=== RUN   TestWorkflowStructMarshaling
=== PAUSE TestWorkflowStructMarshaling
=== RUN   TestCopilotSetupStepsYAMLConstant
=== PAUSE TestCopilotSetupStepsYAMLConstant
=== RUN   TestEnsureCopilotSetupStepsFilePermissions
--- PASS: TestEnsureCopilotSetupStepsFilePermissions (0.00s)
=== RUN   TestCopilotWorkflowStepStructure
=== PAUSE TestCopilotWorkflowStepStructure
=== RUN   TestEnsureCopilotSetupStepsDirectoryCreation
--- PASS: TestEnsureCopilotSetupStepsDirectoryCreation (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_ReleaseMode
--- PASS: TestEnsureCopilotSetupSteps_ReleaseMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_DevMode
--- PASS: TestEnsureCopilotSetupSteps_DevMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_CreateWithReleaseMode
--- PASS: TestEnsureCopilotSetupSteps_CreateWithReleaseMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_CreateWithDevMode
--- PASS: TestEnsureCopilotSetupSteps_CreateWithDevMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_UpdateExistingWithReleaseMode
--- PASS: TestEnsureCopilotSetupSteps_UpdateExistingWithReleaseMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_UpdateExistingWithDevMode
--- PASS: TestEnsureCopilotSetupSteps_UpdateExistingWithDevMode (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_SkipsUpdateWhenActionExists
--- PASS: TestEnsureCopilotSetupSteps_SkipsUpdateWhenActionExists (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_SkipsUpdateWhenCurlExists
--- PASS: TestEnsureCopilotSetupSteps_SkipsUpdateWhenCurlExists (0.00s)
=== RUN   TestInjectExtensionInstallStep_ReleaseMode
--- PASS: TestInjectExtensionInstallStep_ReleaseMode (0.00s)
=== RUN   TestInjectExtensionInstallStep_DevMode
--- PASS: TestInjectExtensionInstallStep_DevMode (0.00s)
=== RUN   TestUpgradeCopilotSetupSteps
--- PASS: TestUpgradeCopilotSetupSteps (0.00s)
=== RUN   TestUpgradeCopilotSetupSteps_NoFile
--- PASS: TestUpgradeCopilotSetupSteps_NoFile (0.00s)
=== RUN   TestUpgradeCopilotSetupSteps_DevMode
--- PASS: TestUpgradeCopilotSetupSteps_DevMode (0.00s)
=== RUN   TestUpgradeSetupCliVersion
=== RUN   TestUpgradeSetupCliVersion/upgrades_release_mode_version
=== RUN   TestUpgradeSetupCliVersion/no_upgrade_when_no_setup-cli_action
=== RUN   TestUpgradeSetupCliVersion/error_when_job_not_found
--- PASS: TestUpgradeSetupCliVersion (0.00s)
    --- PASS: TestUpgradeSetupCliVersion/upgrades_release_mode_version (0.00s)
    --- PASS: TestUpgradeSetupCliVersion/no_upgrade_when_no_setup-cli_action (0.00s)
    --- PASS: TestUpgradeSetupCliVersion/error_when_job_not_found (0.00s)
=== RUN   TestCopilotTokenExtractionFromLogs
--- PASS: TestCopilotTokenExtractionFromLogs (0.00s)
=== RUN   TestCopilotTokenExtractionWithSingleResponse
--- PASS: TestCopilotTokenExtractionWithSingleResponse (0.00s)
=== RUN   TestCopilotTokenExtractionWithNoUsageData
--- PASS: TestCopilotTokenExtractionWithNoUsageData (0.00s)
=== RUN   TestCopilotTokenExtractionWithRealLogData
    copilot_token_extraction_test.go:177: Real log file from run 20696085597 not available
--- SKIP: TestCopilotTokenExtractionWithRealLogData (0.00s)
=== RUN   TestDependencyGraph_IsTopLevelWorkflow
=== RUN   TestDependencyGraph_IsTopLevelWorkflow/top-level_workflow
=== RUN   TestDependencyGraph_IsTopLevelWorkflow/shared_workflow_in_subdirectory
=== RUN   TestDependencyGraph_IsTopLevelWorkflow/nested_shared_workflow
--- PASS: TestDependencyGraph_IsTopLevelWorkflow (0.00s)
    --- PASS: TestDependencyGraph_IsTopLevelWorkflow/top-level_workflow (0.00s)
    --- PASS: TestDependencyGraph_IsTopLevelWorkflow/shared_workflow_in_subdirectory (0.00s)
    --- PASS: TestDependencyGraph_IsTopLevelWorkflow/nested_shared_workflow (0.00s)
=== RUN   TestDependencyGraph_BuildGraphAndGetAffectedWorkflows
=== RUN   TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/shared_workflow_modification_affects_importers
=== RUN   TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/top-level_workflow_modification_affects_only_itself
=== RUN   TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/standalone_workflow_modification_affects_only_itself
--- PASS: TestDependencyGraph_BuildGraphAndGetAffectedWorkflows (0.00s)
    --- PASS: TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/shared_workflow_modification_affects_importers (0.00s)
    --- PASS: TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/top-level_workflow_modification_affects_only_itself (0.00s)
    --- PASS: TestDependencyGraph_BuildGraphAndGetAffectedWorkflows/standalone_workflow_modification_affects_only_itself (0.00s)
=== RUN   TestDependencyGraph_UpdateAndRemoveWorkflow
=== RUN   TestDependencyGraph_UpdateAndRemoveWorkflow/update_workflow_removes_old_dependencies
=== RUN   TestDependencyGraph_UpdateAndRemoveWorkflow/remove_workflow_cleans_up_dependencies
--- PASS: TestDependencyGraph_UpdateAndRemoveWorkflow (0.00s)
    --- PASS: TestDependencyGraph_UpdateAndRemoveWorkflow/update_workflow_removes_old_dependencies (0.00s)
    --- PASS: TestDependencyGraph_UpdateAndRemoveWorkflow/remove_workflow_cleans_up_dependencies (0.00s)
=== RUN   TestDependencyGraph_NestedImports
=== RUN   TestDependencyGraph_NestedImports/nested_import_modification_affects_top-level_workflow
--- PASS: TestDependencyGraph_NestedImports (0.00s)
    --- PASS: TestDependencyGraph_NestedImports/nested_import_modification_affects_top-level_workflow (0.00s)
=== RUN   TestDependencyGraph_MultipleTopLevelImporters
--- PASS: TestDependencyGraph_MultipleTopLevelImporters (0.00s)
=== RUN   TestDependencyGraph_CircularImportDetection
--- PASS: TestDependencyGraph_CircularImportDetection (0.00s)
=== RUN   TestDependencyGraph_NewFileAddition
=== RUN   TestDependencyGraph_NewFileAddition/new_top-level_workflow_affects_only_itself
=== RUN   TestDependencyGraph_NewFileAddition/new_shared_workflow_returns_all_top-level_workflows
--- PASS: TestDependencyGraph_NewFileAddition (0.00s)
    --- PASS: TestDependencyGraph_NewFileAddition/new_top-level_workflow_affects_only_itself (0.00s)
    --- PASS: TestDependencyGraph_NewFileAddition/new_shared_workflow_returns_all_top-level_workflows (0.00s)
=== RUN   TestDependencyGraph_EmptyGraph
=== RUN   TestDependencyGraph_EmptyGraph/empty_graph_returns_empty_for_any_file
=== RUN   TestDependencyGraph_EmptyGraph/add_first_workflow_to_empty_graph
--- PASS: TestDependencyGraph_EmptyGraph (0.00s)
    --- PASS: TestDependencyGraph_EmptyGraph/empty_graph_returns_empty_for_any_file (0.00s)
    --- PASS: TestDependencyGraph_EmptyGraph/add_first_workflow_to_empty_graph (0.00s)
=== RUN   TestDependencyGraph_ComplexDependencyChain
=== RUN   TestDependencyGraph_ComplexDependencyChain/modifying_deepest_workflow_affects_all_importers
=== RUN   TestDependencyGraph_ComplexDependencyChain/modifying_intermediate_workflow_affects_correct_importers
=== RUN   TestDependencyGraph_ComplexDependencyChain/modifying_upper_workflow_affects_only_direct_importers
--- PASS: TestDependencyGraph_ComplexDependencyChain (0.00s)
    --- PASS: TestDependencyGraph_ComplexDependencyChain/modifying_deepest_workflow_affects_all_importers (0.00s)
    --- PASS: TestDependencyGraph_ComplexDependencyChain/modifying_intermediate_workflow_affects_correct_importers (0.00s)
    --- PASS: TestDependencyGraph_ComplexDependencyChain/modifying_upper_workflow_affects_only_direct_importers (0.00s)
=== RUN   TestDependencyGraph_ImportsWithInputs
=== RUN   TestDependencyGraph_ImportsWithInputs/imports_with_inputs_are_tracked_correctly
--- PASS: TestDependencyGraph_ImportsWithInputs (0.00s)
    --- PASS: TestDependencyGraph_ImportsWithInputs/imports_with_inputs_are_tracked_correctly (0.00s)
=== RUN   TestFormatAge
=== RUN   TestFormatAge/zero_days
=== RUN   TestFormatAge/one_day
=== RUN   TestFormatAge/multiple_days
=== RUN   TestFormatAge/one_month
=== RUN   TestFormatAge/multiple_months
=== RUN   TestFormatAge/one_year
=== RUN   TestFormatAge/multiple_years
--- PASS: TestFormatAge (0.00s)
    --- PASS: TestFormatAge/zero_days (0.00s)
    --- PASS: TestFormatAge/one_day (0.00s)
    --- PASS: TestFormatAge/multiple_days (0.00s)
    --- PASS: TestFormatAge/one_month (0.00s)
    --- PASS: TestFormatAge/multiple_months (0.00s)
    --- PASS: TestFormatAge/one_year (0.00s)
    --- PASS: TestFormatAge/multiple_years (0.00s)
=== RUN   TestGetUpdateStatus
=== RUN   TestGetUpdateStatus/non-v0_dependency
=== RUN   TestGetUpdateStatus/v0.x_dependency
--- PASS: TestGetUpdateStatus (0.00s)
    --- PASS: TestGetUpdateStatus/non-v0_dependency (0.00s)
    --- PASS: TestGetUpdateStatus/v0.x_dependency (0.00s)
=== RUN   TestTruncate
=== RUN   TestTruncate/shorter_than_max
=== RUN   TestTruncate/equal_to_max
=== RUN   TestTruncate/longer_than_max
=== RUN   TestTruncate/empty_string
--- PASS: TestTruncate (0.00s)
    --- PASS: TestTruncate/shorter_than_max (0.00s)
    --- PASS: TestTruncate/equal_to_max (0.00s)
    --- PASS: TestTruncate/longer_than_max (0.00s)
    --- PASS: TestTruncate/empty_string (0.00s)
=== RUN   TestParseGoMod
--- PASS: TestParseGoMod (0.00s)
=== RUN   TestParseGoModWithIndirect
--- PASS: TestParseGoModWithIndirect (0.00s)
=== RUN   TestGetSeverityIcon
=== RUN   TestGetSeverityIcon/critical
=== RUN   TestGetSeverityIcon/high
=== RUN   TestGetSeverityIcon/medium
=== RUN   TestGetSeverityIcon/low
=== RUN   TestGetSeverityIcon/unknown
--- PASS: TestGetSeverityIcon (0.00s)
    --- PASS: TestGetSeverityIcon/critical (0.00s)
    --- PASS: TestGetSeverityIcon/high (0.00s)
    --- PASS: TestGetSeverityIcon/medium (0.00s)
    --- PASS: TestGetSeverityIcon/low (0.00s)
    --- PASS: TestGetSeverityIcon/unknown (0.00s)
=== RUN   TestSeverityWeight
--- PASS: TestSeverityWeight (0.00s)
=== RUN   TestPluralize
=== RUN   TestPluralize/advisory
=== RUN   TestPluralize/advisory#01
=== RUN   TestPluralize/dependency
=== RUN   TestPluralize/dependency#01
--- PASS: TestPluralize (0.00s)
    --- PASS: TestPluralize/advisory (0.00s)
    --- PASS: TestPluralize/advisory#01 (0.00s)
    --- PASS: TestPluralize/dependency (0.00s)
    --- PASS: TestPluralize/dependency#01 (0.00s)
=== RUN   TestEnsureDevcontainerConfig
--- PASS: TestEnsureDevcontainerConfig (0.01s)
=== RUN   TestEnsureDevcontainerConfigWithAdditionalRepos
--- PASS: TestEnsureDevcontainerConfigWithAdditionalRepos (0.01s)
=== RUN   TestEnsureDevcontainerConfigWithCurrentRepo
--- PASS: TestEnsureDevcontainerConfigWithCurrentRepo (0.01s)
=== RUN   TestEnsureDevcontainerConfigWithOwnerValidation
--- PASS: TestEnsureDevcontainerConfigWithOwnerValidation (0.01s)
=== RUN   TestEnsureDevcontainerConfigUpdatesOldVersion
--- PASS: TestEnsureDevcontainerConfigUpdatesOldVersion (0.01s)
=== RUN   TestEnsureDevcontainerConfigMergesWithExisting
--- PASS: TestEnsureDevcontainerConfigMergesWithExisting (0.01s)
=== RUN   TestEnsureDevcontainerConfigWithBuildField
--- PASS: TestEnsureDevcontainerConfigWithBuildField (0.01s)
=== RUN   TestGetCurrentRepoName
--- PASS: TestGetCurrentRepoName (0.01s)
=== RUN   TestCheckAndPrepareDockerImages_NoToolsRequested
--- PASS: TestCheckAndPrepareDockerImages_NoToolsRequested (0.00s)
=== RUN   TestCheckAndPrepareDockerImages_ImageAlreadyDownloading
--- PASS: TestCheckAndPrepareDockerImages_ImageAlreadyDownloading (0.00s)
=== RUN   TestDockerImageDownloadState
--- PASS: TestDockerImageDownloadState (0.00s)
=== RUN   TestResetDockerPullState
--- PASS: TestResetDockerPullState (0.00s)
=== RUN   TestDockerImageConstants
--- PASS: TestDockerImageConstants (0.00s)
=== RUN   TestCheckAndPrepareDockerImages_MultipleImages
--- PASS: TestCheckAndPrepareDockerImages_MultipleImages (0.00s)
=== RUN   TestCheckAndPrepareDockerImages_RetryMessageFormat
--- PASS: TestCheckAndPrepareDockerImages_RetryMessageFormat (0.00s)
=== RUN   TestCheckAndPrepareDockerImages_StartedDownloadingMessage
--- PASS: TestCheckAndPrepareDockerImages_StartedDownloadingMessage (0.00s)
=== RUN   TestCheckAndPrepareDockerImages_ImageAlreadyAvailable
--- PASS: TestCheckAndPrepareDockerImages_ImageAlreadyAvailable (0.00s)
=== RUN   TestIsDockerImageAvailable_WithMockedState
--- PASS: TestIsDockerImageAvailable_WithMockedState (0.00s)
=== RUN   TestMockImageAvailability
--- PASS: TestMockImageAvailability (0.00s)
=== RUN   TestStartDockerImageDownload_ConcurrentCalls
--- PASS: TestStartDockerImageDownload_ConcurrentCalls (0.00s)
=== RUN   TestStartDockerImageDownload_ConcurrentCallsWithAvailableImage
--- PASS: TestStartDockerImageDownload_ConcurrentCallsWithAvailableImage (0.00s)
=== RUN   TestStartDockerImageDownload_RaceWithExternalDownload
--- PASS: TestStartDockerImageDownload_RaceWithExternalDownload (0.00s)
=== RUN   TestStartDockerImageDownload_ContextCancellation
--- PASS: TestStartDockerImageDownload_ContextCancellation (0.10s)
=== RUN   TestDomainBucketsAccessors
--- PASS: TestDomainBucketsAccessors (0.00s)
=== RUN   TestDomainBucketsWithEmbedding
--- PASS: TestDomainBucketsWithEmbedding (0.00s)
=== RUN   TestCompileErrorFormatting
--- PASS: TestCompileErrorFormatting (0.00s)
=== RUN   TestResolveWorkflowErrorFormatting
--- PASS: TestResolveWorkflowErrorFormatting (0.00s)
=== RUN   TestConsoleFormatErrorMessageUsage
=== RUN   TestConsoleFormatErrorMessageUsage/simple_error_message
=== RUN   TestConsoleFormatErrorMessageUsage/error_with_details
--- PASS: TestConsoleFormatErrorMessageUsage (0.00s)
    --- PASS: TestConsoleFormatErrorMessageUsage/simple_error_message (0.00s)
    --- PASS: TestConsoleFormatErrorMessageUsage/error_with_details (0.00s)
=== RUN   TestConsoleFormatWarningMessageUsage
=== RUN   TestConsoleFormatWarningMessageUsage/simple_warning
=== RUN   TestConsoleFormatWarningMessageUsage/warning_with_details
--- PASS: TestConsoleFormatWarningMessageUsage (0.00s)
    --- PASS: TestConsoleFormatWarningMessageUsage/simple_warning (0.00s)
    --- PASS: TestConsoleFormatWarningMessageUsage/warning_with_details (0.00s)
=== RUN   TestErrorMessagePatterns
=== RUN   TestErrorMessagePatterns/wrapped_error_maintains_context
=== RUN   TestErrorMessagePatterns/error_with_format_specifiers
--- PASS: TestErrorMessagePatterns (0.00s)
    --- PASS: TestErrorMessagePatterns/wrapped_error_maintains_context (0.00s)
    --- PASS: TestErrorMessagePatterns/error_with_format_specifiers (0.00s)
=== RUN   TestNoPlainErrorOutput
=== RUN   TestNoPlainErrorOutput/Compilation_errors_should_use_console.FormatErrorMessage
=== RUN   TestNoPlainErrorOutput/Warning_messages_should_use_console.FormatWarningMessage
--- PASS: TestNoPlainErrorOutput (0.00s)
    --- PASS: TestNoPlainErrorOutput/Compilation_errors_should_use_console.FormatErrorMessage (0.00s)
    --- PASS: TestNoPlainErrorOutput/Warning_messages_should_use_console.FormatWarningMessage (0.00s)
=== RUN   TestErrorFormattingConsistency
--- PASS: TestErrorFormattingConsistency (0.00s)
=== RUN   TestErrorFormattingDoesNotMangle
=== RUN   TestErrorFormattingDoesNotMangle/message_with_special_characters
=== RUN   TestErrorFormattingDoesNotMangle/message_with_multiple_sentences
=== RUN   TestErrorFormattingDoesNotMangle/message_with_newlines
=== RUN   TestErrorFormattingDoesNotMangle/message_with_path
--- PASS: TestErrorFormattingDoesNotMangle (0.00s)
    --- PASS: TestErrorFormattingDoesNotMangle/message_with_special_characters (0.00s)
    --- PASS: TestErrorFormattingDoesNotMangle/message_with_multiple_sentences (0.00s)
    --- PASS: TestErrorFormattingDoesNotMangle/message_with_newlines (0.00s)
    --- PASS: TestErrorFormattingDoesNotMangle/message_with_path (0.00s)
=== RUN   TestGhExecOrFallback
=== RUN   TestGhExecOrFallback/uses_git_when_GH_TOKEN_not_set
=== RUN   TestGhExecOrFallback/uses_fallback_with_custom_env
=== RUN   TestGhExecOrFallback/fallback_command_failure
--- PASS: TestGhExecOrFallback (0.00s)
    --- PASS: TestGhExecOrFallback/uses_git_when_GH_TOKEN_not_set (0.00s)
    --- PASS: TestGhExecOrFallback/uses_fallback_with_custom_env (0.00s)
    --- PASS: TestGhExecOrFallback/fallback_command_failure (0.00s)
=== RUN   TestGhExecOrFallbackWithGHToken
--- PASS: TestGhExecOrFallbackWithGHToken (0.31s)
=== RUN   TestGhExecOrFallbackIntegration
--- PASS: TestGhExecOrFallbackIntegration (0.00s)
=== RUN   TestExtractRepoSlug
=== RUN   TestExtractRepoSlug/standard_GitHub_URL
=== RUN   TestExtractRepoSlug/GitHub_URL_with_.git_suffix
=== RUN   TestExtractRepoSlug/enterprise_GitHub_URL
=== RUN   TestExtractRepoSlug/enterprise_GitHub_URL_with_.git
--- PASS: TestExtractRepoSlug (0.00s)
    --- PASS: TestExtractRepoSlug/standard_GitHub_URL (0.00s)
    --- PASS: TestExtractRepoSlug/GitHub_URL_with_.git_suffix (0.00s)
    --- PASS: TestExtractRepoSlug/enterprise_GitHub_URL (0.00s)
    --- PASS: TestExtractRepoSlug/enterprise_GitHub_URL_with_.git (0.00s)
=== RUN   TestInferGhArgs
=== RUN   TestInferGhArgs/git_clone_simple
=== RUN   TestInferGhArgs/git_clone_with_depth
=== RUN   TestInferGhArgs/git_clone_with_branch
=== RUN   TestInferGhArgs/git_checkout
=== RUN   TestInferGhArgs/non-git_command
--- PASS: TestInferGhArgs (0.00s)
    --- PASS: TestInferGhArgs/git_clone_simple (0.00s)
    --- PASS: TestInferGhArgs/git_clone_with_depth (0.00s)
    --- PASS: TestInferGhArgs/git_clone_with_branch (0.00s)
    --- PASS: TestInferGhArgs/git_checkout (0.00s)
    --- PASS: TestInferGhArgs/non-git_command (0.00s)
=== RUN   TestFileTracker_CreationAndTracking
--- PASS: TestFileTracker_CreationAndTracking (0.01s)
=== RUN   TestFileTracker_ModifiedFiles
--- PASS: TestFileTracker_ModifiedFiles (0.01s)
=== RUN   TestFileTracker_RollbackAllFiles
--- PASS: TestFileTracker_RollbackAllFiles (0.01s)
=== RUN   TestCompileWorkflowWithTracking_SharedActions
test-workflow-with-reaction.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ test-workflow-with-reaction.md (27.8 KB)
test-workflow-without-reaction.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ test-workflow-without-reaction.md (25.8 KB)
--- PASS: TestCompileWorkflowWithTracking_SharedActions (1.69s)
=== RUN   TestFirewallLogIntegration
â„¹ Found firewall logs directory: firewall-logs
â„¹ Analyzing 1 log files from /tmp/gh-aw-test-runs/20260129-002143-306608/test-3768761249/run-12345/firewall-logs
â„¹ Parsing firewall-access.log
--- PASS: TestFirewallLogIntegration (0.00s)
=== RUN   TestFirewallLogSummaryBuilding
--- PASS: TestFirewallLogSummaryBuilding (0.00s)
=== RUN   TestParseFirewallLogLine
=== RUN   TestParseFirewallLogLine/valid_log_line_with_all_fields
=== RUN   TestParseFirewallLogLine/log_line_with_placeholder_values
=== RUN   TestParseFirewallLogLine/empty_line
=== RUN   TestParseFirewallLogLine/comment_line
=== RUN   TestParseFirewallLogLine/invalid_timestamp_(non-numeric)
=== RUN   TestParseFirewallLogLine/non-standard_client_IP:port_format_is_accepted
=== RUN   TestParseFirewallLogLine/non-standard_domain_format_is_accepted
=== RUN   TestParseFirewallLogLine/non-standard_dest_IP:port_format_is_accepted
=== RUN   TestParseFirewallLogLine/non-numeric_status_code_is_accepted
=== RUN   TestParseFirewallLogLine/decision_format_without_colon_is_accepted
=== RUN   TestParseFirewallLogLine/fewer_than_10_fields
=== RUN   TestParseFirewallLogLine/line_with_pipe_character_in_domain_position_is_accepted
--- PASS: TestParseFirewallLogLine (0.00s)
    --- PASS: TestParseFirewallLogLine/valid_log_line_with_all_fields (0.00s)
    --- PASS: TestParseFirewallLogLine/log_line_with_placeholder_values (0.00s)
    --- PASS: TestParseFirewallLogLine/empty_line (0.00s)
    --- PASS: TestParseFirewallLogLine/comment_line (0.00s)
    --- PASS: TestParseFirewallLogLine/invalid_timestamp_(non-numeric) (0.00s)
    --- PASS: TestParseFirewallLogLine/non-standard_client_IP:port_format_is_accepted (0.00s)
    --- PASS: TestParseFirewallLogLine/non-standard_domain_format_is_accepted (0.00s)
    --- PASS: TestParseFirewallLogLine/non-standard_dest_IP:port_format_is_accepted (0.00s)
    --- PASS: TestParseFirewallLogLine/non-numeric_status_code_is_accepted (0.00s)
    --- PASS: TestParseFirewallLogLine/decision_format_without_colon_is_accepted (0.00s)
    --- PASS: TestParseFirewallLogLine/fewer_than_10_fields (0.00s)
    --- PASS: TestParseFirewallLogLine/line_with_pipe_character_in_domain_position_is_accepted (0.00s)
=== RUN   TestIsRequestAllowed
=== RUN   TestIsRequestAllowed/status_200
=== RUN   TestIsRequestAllowed/status_206
=== RUN   TestIsRequestAllowed/status_304
=== RUN   TestIsRequestAllowed/status_403
=== RUN   TestIsRequestAllowed/status_407
=== RUN   TestIsRequestAllowed/TCP_TUNNEL_decision
=== RUN   TestIsRequestAllowed/TCP_HIT_decision
=== RUN   TestIsRequestAllowed/TCP_MISS_decision
=== RUN   TestIsRequestAllowed/NONE_NONE_decision
=== RUN   TestIsRequestAllowed/TCP_DENIED_decision
=== RUN   TestIsRequestAllowed/unknown_decision_and_status
--- PASS: TestIsRequestAllowed (0.00s)
    --- PASS: TestIsRequestAllowed/status_200 (0.00s)
    --- PASS: TestIsRequestAllowed/status_206 (0.00s)
    --- PASS: TestIsRequestAllowed/status_304 (0.00s)
    --- PASS: TestIsRequestAllowed/status_403 (0.00s)
    --- PASS: TestIsRequestAllowed/status_407 (0.00s)
    --- PASS: TestIsRequestAllowed/TCP_TUNNEL_decision (0.00s)
    --- PASS: TestIsRequestAllowed/TCP_HIT_decision (0.00s)
    --- PASS: TestIsRequestAllowed/TCP_MISS_decision (0.00s)
    --- PASS: TestIsRequestAllowed/NONE_NONE_decision (0.00s)
    --- PASS: TestIsRequestAllowed/TCP_DENIED_decision (0.00s)
    --- PASS: TestIsRequestAllowed/unknown_decision_and_status (0.00s)
=== RUN   TestParseFirewallLog
--- PASS: TestParseFirewallLog (0.00s)
=== RUN   TestParseFirewallLogMalformedLines
--- PASS: TestParseFirewallLogMalformedLines (0.00s)
=== RUN   TestParseFirewallLogPartialMissingFields
--- PASS: TestParseFirewallLogPartialMissingFields (0.00s)
=== RUN   TestAnalyzeMultipleFirewallLogs
--- PASS: TestAnalyzeMultipleFirewallLogs (0.00s)
=== RUN   TestSanitizeWorkflowName
=== RUN   TestSanitizeWorkflowName/lowercase_conversion
=== RUN   TestSanitizeWorkflowName/spaces_to_dashes
=== RUN   TestSanitizeWorkflowName/colons_to_dashes
=== RUN   TestSanitizeWorkflowName/slashes_to_dashes
=== RUN   TestSanitizeWorkflowName/backslashes_to_dashes
=== RUN   TestSanitizeWorkflowName/special_characters_to_dashes
=== RUN   TestSanitizeWorkflowName/preserve_dots_and_underscores
=== RUN   TestSanitizeWorkflowName/complex_name
--- PASS: TestSanitizeWorkflowName (0.00s)
    --- PASS: TestSanitizeWorkflowName/lowercase_conversion (0.00s)
    --- PASS: TestSanitizeWorkflowName/spaces_to_dashes (0.00s)
    --- PASS: TestSanitizeWorkflowName/colons_to_dashes (0.00s)
    --- PASS: TestSanitizeWorkflowName/slashes_to_dashes (0.00s)
    --- PASS: TestSanitizeWorkflowName/backslashes_to_dashes (0.00s)
    --- PASS: TestSanitizeWorkflowName/special_characters_to_dashes (0.00s)
    --- PASS: TestSanitizeWorkflowName/preserve_dots_and_underscores (0.00s)
    --- PASS: TestSanitizeWorkflowName/complex_name (0.00s)
=== RUN   TestAnalyzeFirewallLogsWithWorkflowSuffix
--- PASS: TestAnalyzeFirewallLogsWithWorkflowSuffix (0.00s)
=== RUN   TestCodemodTypes
--- PASS: TestCodemodTypes (0.00s)
=== RUN   TestCodemodResultType
--- PASS: TestCodemodResultType (0.00s)
=== RUN   TestGetAllCodemods_ReturnsAllCodemods
--- PASS: TestGetAllCodemods_ReturnsAllCodemods (0.00s)
=== RUN   TestGetAllCodemods_ContainsExpectedCodemods
--- PASS: TestGetAllCodemods_ContainsExpectedCodemods (0.00s)
=== RUN   TestGetAllCodemods_NoduplicateIDs
--- PASS: TestGetAllCodemods_NoduplicateIDs (0.00s)
=== RUN   TestGetAllCodemods_InExpectedOrder
--- PASS: TestGetAllCodemods_InExpectedOrder (0.00s)
=== RUN   TestFixCommand_TimeoutMinutesMigration
âœ“ âœ“ test-workflow.md
    â€¢ Migrate timeout_minutes to timeout-minutes
--- PASS: TestFixCommand_TimeoutMinutesMigration (0.00s)
=== RUN   TestFixCommand_NoChangesNeeded
--- PASS: TestFixCommand_NoChangesNeeded (0.00s)
=== RUN   TestFixCommand_NetworkFirewallMigration
âœ“ âœ“ test-workflow.md
    â€¢ Migrate network.firewall to sandbox.agent
--- PASS: TestFixCommand_NetworkFirewallMigration (0.00s)
=== RUN   TestFixCommand_NetworkFirewallMigrationWithNestedProperties
âœ“ âœ“ test-workflow.md
    â€¢ Migrate network.firewall to sandbox.agent
--- PASS: TestFixCommand_NetworkFirewallMigrationWithNestedProperties (0.00s)
=== RUN   TestFixCommand_NetworkFirewallMigrationWithCommentsAndEmptyLines
âœ“ âœ“ test-workflow.md
    â€¢ Migrate network.firewall to sandbox.agent
--- PASS: TestFixCommand_NetworkFirewallMigrationWithCommentsAndEmptyLines (0.00s)
=== RUN   TestFixCommand_PreservesFormatting
âœ“ âœ“ test-workflow.md
    â€¢ Migrate timeout_minutes to timeout-minutes
--- PASS: TestFixCommand_PreservesFormatting (0.00s)
=== RUN   TestGetAllCodemods
--- PASS: TestGetAllCodemods (0.00s)
=== RUN   TestFixCommand_CommandToSlashCommandMigration
âœ“ âœ“ test-workflow.md
    â€¢ Migrate on.command to on.slash_command
    fix_command_test.go:525: Updated content:
        ---
        on:
          slash_command: my-bot
        
        permissions:
          contents: read
        ---
        
        # Test Workflow
        
        This is a test workflow with slash command.
--- PASS: TestFixCommand_CommandToSlashCommandMigration (0.00s)
=== RUN   TestFixCommand_SafeInputsModeRemoval
âœ“ âœ“ test-workflow.md
    â€¢ Remove deprecated safe-inputs.mode field
    fix_command_test.go:596: Updated content:
        ---
        on: workflow_dispatch
        engine: copilot
        safe-inputs:
          test-tool:
            description: Test tool
            script: |
              return { result: "test" };
        ---
        
        # Test Workflow
        
        This is a test workflow with safe-inputs mode field.
--- PASS: TestFixCommand_SafeInputsModeRemoval (0.00s)
=== RUN   TestFixCommand_UpdatesPromptAndAgentFiles

â„¹ âœ“ No fixes needed
--- PASS: TestFixCommand_UpdatesPromptAndAgentFiles (0.02s)
=== RUN   TestFixCommand_GrepToolRemoval
âœ“ âœ“ test-workflow.md
    â€¢ Remove deprecated tools.grep field
--- PASS: TestFixCommand_GrepToolRemoval (0.00s)
=== RUN   TestFixCommand_GrepToolRemoval_NoGrep
--- PASS: TestFixCommand_GrepToolRemoval_NoGrep (0.00s)
=== RUN   TestFixWithDirFlag
âœ“ âœ“ test.md
    â€¢ Migrate timeout_minutes to timeout-minutes

âœ“ âœ“ Fixed 1 of 1 workflow files
--- PASS: TestFixWithDirFlag (0.02s)
=== RUN   TestFixWithDirFlagAndSpecificWorkflow
âœ“ âœ“ workflow1.md
    â€¢ Migrate timeout_minutes to timeout-minutes

âœ“ âœ“ Fixed 1 of 1 workflow files
--- PASS: TestFixWithDirFlagAndSpecificWorkflow (0.02s)
=== RUN   TestFixDirFlagDefaultBehavior
âœ“ âœ“ test.md
    â€¢ Migrate timeout_minutes to timeout-minutes
âš  Warning: Failed to update copilot instructions: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update dispatcher agent: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update workflow creation prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update workflow update prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update shared workflow creation prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update debug workflow prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update upgrade workflow prompt: not in a git repository or git command failed: exit status 128

âœ“ âœ“ Fixed 1 of 1 workflow files
--- PASS: TestFixDirFlagDefaultBehavior (0.01s)
=== RUN   TestShortFlagConsistency
=== PAUSE TestShortFlagConsistency
=== RUN   TestFormatPreservation
=== RUN   TestFormatPreservation/preserves_comments_and_indentation
=== RUN   TestFormatPreservation/preserves_inline_comments_in_tools_section
=== RUN   TestFormatPreservation/preserves_complex_nested_indentation
=== RUN   TestFormatPreservation/handles_empty_frontmatter
=== RUN   TestFormatPreservation/handles_missing_source
=== RUN   TestFormatPreservation/handles_malformed_YAML_frontmatter
=== RUN   TestFormatPreservation/handles_missing_closing_delimiter
=== RUN   TestFormatPreservation/preserves_unicode_in_comments
=== RUN   TestFormatPreservation/preserves_2-space_indentation
=== RUN   TestFormatPreservation/rejects_tabs_in_indentation
=== RUN   TestFormatPreservation/preserves_trailing_spaces_in_comments
--- PASS: TestFormatPreservation (0.00s)
    --- PASS: TestFormatPreservation/preserves_comments_and_indentation (0.00s)
    --- PASS: TestFormatPreservation/preserves_inline_comments_in_tools_section (0.00s)
    --- PASS: TestFormatPreservation/preserves_complex_nested_indentation (0.00s)
    --- PASS: TestFormatPreservation/handles_empty_frontmatter (0.00s)
    --- PASS: TestFormatPreservation/handles_missing_source (0.00s)
    --- PASS: TestFormatPreservation/handles_malformed_YAML_frontmatter (0.00s)
    --- PASS: TestFormatPreservation/handles_missing_closing_delimiter (0.00s)
    --- PASS: TestFormatPreservation/preserves_unicode_in_comments (0.00s)
    --- PASS: TestFormatPreservation/preserves_2-space_indentation (0.00s)
    --- PASS: TestFormatPreservation/rejects_tabs_in_indentation (0.00s)
    --- PASS: TestFormatPreservation/preserves_trailing_spaces_in_comments (0.00s)
=== RUN   TestFormatPreservationSubtests
=== RUN   TestFormatPreservationSubtests/comments_preserved
=== RUN   TestFormatPreservationSubtests/whitespace_preserved
=== RUN   TestFormatPreservationSubtests/indentation_preserved
=== RUN   TestFormatPreservationSubtests/source_field_added
=== RUN   TestFormatPreservationSubtests/content_structure_preserved
--- PASS: TestFormatPreservationSubtests (0.00s)
    --- PASS: TestFormatPreservationSubtests/comments_preserved (0.00s)
    --- PASS: TestFormatPreservationSubtests/whitespace_preserved (0.00s)
    --- PASS: TestFormatPreservationSubtests/indentation_preserved (0.00s)
    --- PASS: TestFormatPreservationSubtests/source_field_added (0.00s)
    --- PASS: TestFormatPreservationSubtests/content_structure_preserved (0.00s)
=== RUN   TestRemoveFieldFromOnTrigger
=== RUN   TestRemoveFieldFromOnTrigger/remove_stop-after_from_on_trigger
=== RUN   TestRemoveFieldFromOnTrigger/no_stop-after_field_to_remove
=== RUN   TestRemoveFieldFromOnTrigger/on_field_is_a_string_not_a_map
=== RUN   TestRemoveFieldFromOnTrigger/no_on_field_at_all
=== RUN   TestRemoveFieldFromOnTrigger/remove_reaction_field_from_on_trigger
--- PASS: TestRemoveFieldFromOnTrigger (0.00s)
    --- PASS: TestRemoveFieldFromOnTrigger/remove_stop-after_from_on_trigger (0.00s)
    --- PASS: TestRemoveFieldFromOnTrigger/no_stop-after_field_to_remove (0.00s)
    --- PASS: TestRemoveFieldFromOnTrigger/on_field_is_a_string_not_a_map (0.00s)
    --- PASS: TestRemoveFieldFromOnTrigger/no_on_field_at_all (0.00s)
    --- PASS: TestRemoveFieldFromOnTrigger/remove_reaction_field_from_on_trigger (0.00s)
=== RUN   TestSetFieldInOnTrigger
=== RUN   TestSetFieldInOnTrigger/set_stop-after_in_existing_on_trigger
=== RUN   TestSetFieldInOnTrigger/set_stop-after_with_no_on_field
=== RUN   TestSetFieldInOnTrigger/override_existing_stop-after_value
=== RUN   TestSetFieldInOnTrigger/on_field_is_a_string_not_a_map_-_error_case
--- PASS: TestSetFieldInOnTrigger (0.00s)
    --- PASS: TestSetFieldInOnTrigger/set_stop-after_in_existing_on_trigger (0.00s)
    --- PASS: TestSetFieldInOnTrigger/set_stop-after_with_no_on_field (0.00s)
    --- PASS: TestSetFieldInOnTrigger/override_existing_stop-after_value (0.00s)
    --- PASS: TestSetFieldInOnTrigger/on_field_is_a_string_not_a_map_-_error_case (0.00s)
=== RUN   TestFormattingPreservation
=== RUN   TestFormattingPreservation/RemoveFieldFromOnTrigger_preserves_formatting
=== RUN   TestFormattingPreservation/SetFieldInOnTrigger_preserves_formatting
=== RUN   TestFormattingPreservation/UpdateFieldInFrontmatter_preserves_formatting
--- PASS: TestFormattingPreservation (0.00s)
    --- PASS: TestFormattingPreservation/RemoveFieldFromOnTrigger_preserves_formatting (0.00s)
    --- PASS: TestFormattingPreservation/SetFieldInOnTrigger_preserves_formatting (0.00s)
    --- PASS: TestFormattingPreservation/UpdateFieldInFrontmatter_preserves_formatting (0.00s)
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/remove_field_that_doesn't_exist
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/remove_field_from_workflow_without_on_block
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/field_with_similar_prefix_should_not_match
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/on_with_inline_value_should_not_be_treated_as_block
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/multiline_field_value_should_be_fully_removed
=== RUN   TestRemoveFieldFromOnTriggerEdgeCases/inline_comment_with_multiple_colons_should_be_preserved
--- PASS: TestRemoveFieldFromOnTriggerEdgeCases (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/remove_field_that_doesn't_exist (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/remove_field_from_workflow_without_on_block (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/field_with_similar_prefix_should_not_match (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/on_with_inline_value_should_not_be_treated_as_block (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/multiline_field_value_should_be_fully_removed (0.00s)
    --- PASS: TestRemoveFieldFromOnTriggerEdgeCases/inline_comment_with_multiple_colons_should_be_preserved (0.00s)
=== RUN   TestCommandsWithFuzzyMatching
=== RUN   TestCommandsWithFuzzyMatching/ResolveWorkflowPath_with_typo
=== RUN   TestCommandsWithFuzzyMatching/ResolveWorkflowPath_with_another_typo
=== RUN   TestCommandsWithFuzzyMatching/resolveWorkflowFile_with_typo
--- PASS: TestCommandsWithFuzzyMatching (0.00s)
    --- PASS: TestCommandsWithFuzzyMatching/ResolveWorkflowPath_with_typo (0.00s)
    --- PASS: TestCommandsWithFuzzyMatching/ResolveWorkflowPath_with_another_typo (0.00s)
    --- PASS: TestCommandsWithFuzzyMatching/resolveWorkflowFile_with_typo (0.00s)
=== RUN   TestEnableCommandFuzzyMatching
âš  Unable to fetch GitHub workflows (gh CLI may not be authenticated): failed to execute gh workflow list command: exit status 1
--- PASS: TestEnableCommandFuzzyMatching (0.57s)
=== RUN   TestFuzzyMatchingDoesNotShowForExactMatches
--- PASS: TestFuzzyMatchingDoesNotShowForExactMatches (0.00s)
=== RUN   TestFuzzyMatchingWithNoCloseMatches
--- PASS: TestFuzzyMatchingWithNoCloseMatches (0.00s)
=== RUN   TestParseGatewayLogs
=== RUN   TestParseGatewayLogs/valid_gateway_log_with_tool_calls
=== RUN   TestParseGatewayLogs/gateway_log_with_errors
=== RUN   TestParseGatewayLogs/gateway_log_with_multiple_servers
=== RUN   TestParseGatewayLogs/empty_log_file
=== RUN   TestParseGatewayLogs/log_with_invalid_JSON_line
--- PASS: TestParseGatewayLogs (0.00s)
    --- PASS: TestParseGatewayLogs/valid_gateway_log_with_tool_calls (0.00s)
    --- PASS: TestParseGatewayLogs/gateway_log_with_errors (0.00s)
    --- PASS: TestParseGatewayLogs/gateway_log_with_multiple_servers (0.00s)
    --- PASS: TestParseGatewayLogs/empty_log_file (0.00s)
    --- PASS: TestParseGatewayLogs/log_with_invalid_JSON_line (0.00s)
=== RUN   TestParseGatewayLogsFileNotFound
--- PASS: TestParseGatewayLogsFileNotFound (0.00s)
=== RUN   TestGatewayToolMetrics
--- PASS: TestGatewayToolMetrics (0.00s)
=== RUN   TestRenderGatewayMetricsTable
--- PASS: TestRenderGatewayMetricsTable (0.00s)
=== RUN   TestRenderGatewayMetricsTableEmpty
--- PASS: TestRenderGatewayMetricsTableEmpty (0.00s)
=== RUN   TestGatewayTruncateString
=== RUN   TestGatewayTruncateString/string_shorter_than_max
=== RUN   TestGatewayTruncateString/string_equal_to_max
=== RUN   TestGatewayTruncateString/string_longer_than_max
=== RUN   TestGatewayTruncateString/max_length_very_small
--- PASS: TestGatewayTruncateString (0.00s)
    --- PASS: TestGatewayTruncateString/string_shorter_than_max (0.00s)
    --- PASS: TestGatewayTruncateString/string_equal_to_max (0.00s)
    --- PASS: TestGatewayTruncateString/string_longer_than_max (0.00s)
    --- PASS: TestGatewayTruncateString/max_length_very_small (0.00s)
=== RUN   TestProcessGatewayLogEntry
--- PASS: TestProcessGatewayLogEntry (0.00s)
=== RUN   TestGetSortedServerNames
--- PASS: TestGetSortedServerNames (0.00s)
=== RUN   TestGatewayLogsWithMethodField
--- PASS: TestGatewayLogsWithMethodField (0.00s)
=== RUN   TestGatewayLogsParsingIntegration
--- PASS: TestGatewayLogsParsingIntegration (0.00s)
=== RUN   TestGenerateActionMetadataCommand_NoJsDir
â„¹ ðŸ” Generating actions for 5 JavaScript modules...
âš  âš  Skipping noop.cjs: open pkg/workflow/js/noop.cjs: no such file or directory
âš  âš  Skipping minimize_comment.cjs: open pkg/workflow/js/minimize_comment.cjs: no such file or directory
âš  âš  Skipping close_issue.cjs: open pkg/workflow/js/close_issue.cjs: no such file or directory
âš  âš  Skipping close_pull_request.cjs: open pkg/workflow/js/close_pull_request.cjs: no such file or directory
âš  âš  Skipping close_discussion.cjs: open pkg/workflow/js/close_discussion.cjs: no such file or directory
--- PASS: TestGenerateActionMetadataCommand_NoJsDir (0.00s)
=== RUN   TestExtractActionMetadata
=== RUN   TestExtractActionMetadata/simple_noop_action
=== RUN   TestExtractActionMetadata/action_with_inputs
=== RUN   TestExtractActionMetadata/action_without_description
--- PASS: TestExtractActionMetadata (0.00s)
    --- PASS: TestExtractActionMetadata/simple_noop_action (0.00s)
    --- PASS: TestExtractActionMetadata/action_with_inputs (0.00s)
    --- PASS: TestExtractActionMetadata/action_without_description (0.00s)
=== RUN   TestExtractDescription
=== RUN   TestExtractDescription/JSDoc_comment_with_description
=== RUN   TestExtractDescription/no_JSDoc_comment
=== RUN   TestExtractDescription/JSDoc_without_description_tag
--- PASS: TestExtractDescription (0.00s)
    --- PASS: TestExtractDescription/JSDoc_comment_with_description (0.00s)
    --- PASS: TestExtractDescription/no_JSDoc_comment (0.00s)
    --- PASS: TestExtractDescription/JSDoc_without_description_tag (0.00s)
=== RUN   TestGenerateHumanReadableName
=== RUN   TestGenerateHumanReadableName/simple_name
=== RUN   TestGenerateHumanReadableName/snake_case_name
=== RUN   TestGenerateHumanReadableName/multiple_underscores
--- PASS: TestGenerateHumanReadableName (0.00s)
    --- PASS: TestGenerateHumanReadableName/simple_name (0.00s)
    --- PASS: TestGenerateHumanReadableName/snake_case_name (0.00s)
    --- PASS: TestGenerateHumanReadableName/multiple_underscores (0.00s)
=== RUN   TestExtractInputs
=== RUN   TestExtractInputs/action_with_inputs
=== RUN   TestExtractInputs/action_without_inputs
--- PASS: TestExtractInputs (0.00s)
    --- PASS: TestExtractInputs/action_with_inputs (0.00s)
    --- PASS: TestExtractInputs/action_without_inputs (0.00s)
=== RUN   TestExtractOutputs
=== RUN   TestExtractOutputs/action_with_outputs
=== RUN   TestExtractOutputs/action_without_outputs
--- PASS: TestExtractOutputs (0.00s)
    --- PASS: TestExtractOutputs/action_with_outputs (0.00s)
    --- PASS: TestExtractOutputs/action_without_outputs (0.00s)
=== RUN   TestExtractDependencies
=== RUN   TestExtractDependencies/action_with_require_statements
=== RUN   TestExtractDependencies/action_without_dependencies
--- PASS: TestExtractDependencies (0.00s)
    --- PASS: TestExtractDependencies/action_with_require_statements (0.00s)
    --- PASS: TestExtractDependencies/action_without_dependencies (0.00s)
=== RUN   TestGenerateActionYml
=== RUN   TestGenerateActionYml/simple_action
=== RUN   TestGenerateActionYml/action_with_inputs_and_outputs
--- PASS: TestGenerateActionYml (0.00s)
    --- PASS: TestGenerateActionYml/simple_action (0.00s)
    --- PASS: TestGenerateActionYml/action_with_inputs_and_outputs (0.00s)
=== RUN   TestGenerateReadme
=== RUN   TestGenerateReadme/simple_action
--- PASS: TestGenerateReadme (0.00s)
    --- PASS: TestGenerateReadme/simple_action (0.00s)
=== RUN   TestGHPRListAuthorFlag
=== RUN   TestGHPRListAuthorFlag/with_@_prefix
    gh_pr_list_test.go:48: Testing: gh pr list --author "@copilot" should work (@ prefix like @me)
    gh_pr_list_test.go:49: Author value: @copilot
=== RUN   TestGHPRListAuthorFlag/without_@_prefix,_lowercase
    gh_pr_list_test.go:48: Testing: gh pr list --author "copilot" should work (username)
    gh_pr_list_test.go:49: Author value: copilot
=== RUN   TestGHPRListAuthorFlag/without_@_prefix,_capitalized
    gh_pr_list_test.go:48: Testing: gh pr list --author "Copilot" should work (matches bot login)
    gh_pr_list_test.go:49: Author value: Copilot
=== RUN   TestGHPRListAuthorFlag/special_@me_value
    gh_pr_list_test.go:48: Testing: gh pr list --author "@me" should work (documented syntax)
    gh_pr_list_test.go:49: Author value: @me
--- PASS: TestGHPRListAuthorFlag (0.00s)
    --- PASS: TestGHPRListAuthorFlag/with_@_prefix (0.00s)
    --- PASS: TestGHPRListAuthorFlag/without_@_prefix,_lowercase (0.00s)
    --- PASS: TestGHPRListAuthorFlag/without_@_prefix,_capitalized (0.00s)
    --- PASS: TestGHPRListAuthorFlag/special_@me_value (0.00s)
=== RUN   TestGHPRListVsGHSearchPRs
=== RUN   TestGHPRListVsGHSearchPRs/gh_pr_list_approach
    gh_pr_list_test.go:62: gh pr list --author performs client-side filtering
    gh_pr_list_test.go:63: Limit: 100 results max
    gh_pr_list_test.go:64: Best for: Small repos or recent PRs only
=== RUN   TestGHPRListVsGHSearchPRs/gh_search_prs_approach
    gh_pr_list_test.go:72: gh search prs performs server-side date filtering
    gh_pr_list_test.go:73: Limit: 1000 results max
    gh_pr_list_test.go:74: Best for: Production workflows with large repos
    gh_pr_list_test.go:75: Current workflow uses this approach
--- PASS: TestGHPRListVsGHSearchPRs (0.00s)
    --- PASS: TestGHPRListVsGHSearchPRs/gh_pr_list_approach (0.00s)
    --- PASS: TestGHPRListVsGHSearchPRs/gh_search_prs_approach (0.00s)
=== RUN   TestParseGitHubRepoSlugFromURL
=== RUN   TestParseGitHubRepoSlugFromURL/HTTPS_URL_with_.git
=== RUN   TestParseGitHubRepoSlugFromURL/HTTPS_URL_without_.git
=== RUN   TestParseGitHubRepoSlugFromURL/SSH_URL_with_.git
=== RUN   TestParseGitHubRepoSlugFromURL/SSH_URL_without_.git
=== RUN   TestParseGitHubRepoSlugFromURL/Invalid_URL
=== RUN   TestParseGitHubRepoSlugFromURL/Empty_URL
=== RUN   TestParseGitHubRepoSlugFromURL/URL_with_subdirectory
--- PASS: TestParseGitHubRepoSlugFromURL (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/HTTPS_URL_with_.git (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/HTTPS_URL_without_.git (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/SSH_URL_with_.git (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/SSH_URL_without_.git (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/Invalid_URL (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/Empty_URL (0.00s)
    --- PASS: TestParseGitHubRepoSlugFromURL/URL_with_subdirectory (0.00s)
=== RUN   TestGetRepositorySlugFromRemote
    git_helpers_test.go:68: Repository slug: githubnext/gh-aw
--- PASS: TestGetRepositorySlugFromRemote (0.00s)
=== RUN   TestFindGitRootForPath
    git_helpers_test.go:86: Git root: /home/dsyme/gh-aw
--- PASS: TestFindGitRootForPath (0.00s)
=== RUN   TestGetRepositorySlugFromRemoteForPath
    git_helpers_test.go:96: Repository slug for path: githubnext/gh-aw
--- PASS: TestGetRepositorySlugFromRemoteForPath (0.00s)
=== RUN   TestGetDefaultBranch
=== RUN   TestGetDefaultBranch/no_remote_configured
--- PASS: TestGetDefaultBranch (0.01s)
    --- PASS: TestGetDefaultBranch/no_remote_configured (0.01s)
=== RUN   TestCheckOnDefaultBranch
=== RUN   TestCheckOnDefaultBranch/no_remote_configured_-_should_fail
--- PASS: TestCheckOnDefaultBranch (0.02s)
    --- PASS: TestCheckOnDefaultBranch/no_remote_configured_-_should_fail (0.02s)
=== RUN   TestConfirmPushOperation
=== RUN   TestConfirmPushOperation/skips_confirmation_in_CI
--- PASS: TestConfirmPushOperation (0.00s)
    --- PASS: TestConfirmPushOperation/skips_confirmation_in_CI (0.00s)
=== RUN   TestGetCurrentBranch
--- PASS: TestGetCurrentBranch (0.02s)
=== RUN   TestGetCurrentBranchNotInRepo
--- PASS: TestGetCurrentBranchNotInRepo (0.00s)
=== RUN   TestCreateAndSwitchBranch
--- PASS: TestCreateAndSwitchBranch (0.02s)
=== RUN   TestSwitchBranch
--- PASS: TestSwitchBranch (0.02s)
=== RUN   TestCommitChanges
--- PASS: TestCommitChanges (0.02s)
=== RUN   TestPushBranchNotImplemented
--- PASS: TestPushBranchNotImplemented (0.01s)
=== RUN   TestCheckWorkflowFileStatus
=== RUN   TestCheckWorkflowFileStatus/file_not_tracked
=== RUN   TestCheckWorkflowFileStatus/clean_file
=== RUN   TestCheckWorkflowFileStatus/modified_file
=== RUN   TestCheckWorkflowFileStatus/staged_file
=== RUN   TestCheckWorkflowFileStatus/staged_and_modified
--- PASS: TestCheckWorkflowFileStatus (0.05s)
    --- PASS: TestCheckWorkflowFileStatus/file_not_tracked (0.00s)
    --- PASS: TestCheckWorkflowFileStatus/clean_file (0.01s)
    --- PASS: TestCheckWorkflowFileStatus/modified_file (0.01s)
    --- PASS: TestCheckWorkflowFileStatus/staged_file (0.01s)
    --- PASS: TestCheckWorkflowFileStatus/staged_and_modified (0.01s)
=== RUN   TestCheckWorkflowFileStatusNotInRepo
--- PASS: TestCheckWorkflowFileStatusNotInRepo (0.00s)
=== RUN   TestToGitRootRelativePath
=== RUN   TestToGitRootRelativePath/from_root_directory
=== RUN   TestToGitRootRelativePath/from_subdirectory
=== RUN   TestToGitRootRelativePath/with_relative_path_from_root
=== RUN   TestToGitRootRelativePath/with_relative_path_from_subdirectory
=== RUN   TestToGitRootRelativePath/stability_across_directories
--- PASS: TestToGitRootRelativePath (0.00s)
    --- PASS: TestToGitRootRelativePath/from_root_directory (0.00s)
    --- PASS: TestToGitRootRelativePath/from_subdirectory (0.00s)
    --- PASS: TestToGitRootRelativePath/with_relative_path_from_root (0.00s)
    --- PASS: TestToGitRootRelativePath/with_relative_path_from_subdirectory (0.00s)
    --- PASS: TestToGitRootRelativePath/stability_across_directories (0.00s)
=== RUN   TestToGitRootRelativePathWithoutGithubDir
--- PASS: TestToGitRootRelativePathWithoutGithubDir (0.00s)
=== RUN   TestToGitRootRelativePathWithNestedGithubDir
--- PASS: TestToGitRootRelativePathWithNestedGithubDir (0.00s)
=== RUN   TestEnsureGitAttributes
=== RUN   TestEnsureGitAttributes/creates_new_gitattributes_file
=== RUN   TestEnsureGitAttributes/adds_entry_to_existing_file
=== RUN   TestEnsureGitAttributes/does_not_duplicate_existing_entry
=== RUN   TestEnsureGitAttributes/does_not_duplicate_entry_with_different_order
=== RUN   TestEnsureGitAttributes/updates_old_format_entry
=== RUN   TestEnsureGitAttributes/removes_obsolete_campaign.g.md_entry
--- PASS: TestEnsureGitAttributes (0.01s)
    --- PASS: TestEnsureGitAttributes/creates_new_gitattributes_file (0.00s)
    --- PASS: TestEnsureGitAttributes/adds_entry_to_existing_file (0.00s)
    --- PASS: TestEnsureGitAttributes/does_not_duplicate_existing_entry (0.00s)
    --- PASS: TestEnsureGitAttributes/does_not_duplicate_entry_with_different_order (0.00s)
    --- PASS: TestEnsureGitAttributes/updates_old_format_entry (0.00s)
    --- PASS: TestEnsureGitAttributes/removes_obsolete_campaign.g.md_entry (0.00s)
=== RUN   TestEnsureGitAttributesNotInGitRepo
--- PASS: TestEnsureGitAttributesNotInGitRepo (0.00s)
=== RUN   TestGetGitHubHost
=== RUN   TestGetGitHubHost/defaults_to_github.com
=== RUN   TestGetGitHubHost/uses_GITHUB_SERVER_URL_when_set
=== RUN   TestGetGitHubHost/uses_GH_HOST_when_GITHUB_SERVER_URL_not_set
=== RUN   TestGetGitHubHost/GITHUB_SERVER_URL_takes_precedence_over_GH_HOST
=== RUN   TestGetGitHubHost/removes_trailing_slash_from_GITHUB_SERVER_URL
=== RUN   TestGetGitHubHost/removes_trailing_slash_from_GH_HOST
--- PASS: TestGetGitHubHost (0.00s)
    --- PASS: TestGetGitHubHost/defaults_to_github.com (0.00s)
    --- PASS: TestGetGitHubHost/uses_GITHUB_SERVER_URL_when_set (0.00s)
    --- PASS: TestGetGitHubHost/uses_GH_HOST_when_GITHUB_SERVER_URL_not_set (0.00s)
    --- PASS: TestGetGitHubHost/GITHUB_SERVER_URL_takes_precedence_over_GH_HOST (0.00s)
    --- PASS: TestGetGitHubHost/removes_trailing_slash_from_GITHUB_SERVER_URL (0.00s)
    --- PASS: TestGetGitHubHost/removes_trailing_slash_from_GH_HOST (0.00s)
=== RUN   TestFindGitRoot
    gitroot_test.go:51: Git root found: /home/dsyme/gh-aw
--- PASS: TestFindGitRoot (0.00s)
=== RUN   TestWorkflowIDExplanation
--- PASS: TestWorkflowIDExplanation (0.00s)
=== RUN   TestProcessIncludesWithWorkflowSpec_NewSyntax
--- PASS: TestProcessIncludesWithWorkflowSpec_NewSyntax (0.00s)
=== RUN   TestProcessIncludesWithWorkflowSpec_LegacySyntax
--- PASS: TestProcessIncludesWithWorkflowSpec_LegacySyntax (0.00s)
=== RUN   TestProcessIncludesWithWorkflowSpec_WithCommitSHA
--- PASS: TestProcessIncludesWithWorkflowSpec_WithCommitSHA (0.00s)
=== RUN   TestProcessIncludesWithWorkflowSpec_EmptyFilePath
--- PASS: TestProcessIncludesWithWorkflowSpec_EmptyFilePath (0.00s)
=== RUN   TestProcessIncludesInContent_NewSyntax
--- PASS: TestProcessIncludesInContent_NewSyntax (0.00s)
=== RUN   TestProcessIncludesInContent_EmptyFilePath
--- PASS: TestProcessIncludesInContent_EmptyFilePath (0.00s)
=== RUN   TestProcessIncludesWithWorkflowSpec_RealWorldScenario
--- PASS: TestProcessIncludesWithWorkflowSpec_RealWorldScenario (0.00s)
=== RUN   TestNewInitCommand
=== PAUSE TestNewInitCommand
=== RUN   TestInitCommandHelp
=== PAUSE TestInitCommandHelp
=== RUN   TestInitCommandInteractiveModeDetection
=== PAUSE TestInitCommandInteractiveModeDetection
=== RUN   TestInitRepositoryInteractivePreconditions
--- PASS: TestInitRepositoryInteractivePreconditions (0.00s)
=== RUN   TestInitRepositoryBasic

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryBasic (0.03s)
=== RUN   TestInitRepositoryWithMCP

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithMCP (0.03s)
=== RUN   TestInitRepositoryWithNoMCP

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithNoMCP (0.02s)
=== RUN   TestInitRepositoryWithMCPBackwardCompatibility

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithMCPBackwardCompatibility (0.02s)
=== RUN   TestInitRepositoryVerbose
âœ“ Configured .gitattributes
âœ“ Configured .github/aw/logs/.gitignore
âœ“ Created copilot instructions: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/github-agentic-workflows.md
âœ“ Created GitHub Copilot instructions
âœ“ Created agent: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/agents/agentic-workflows.agent.md
âœ“ Created dispatcher agent
âœ“ Created create workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/create-agentic-workflow.md
âœ“ Created create workflow prompt
âœ“ Created update workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/update-agentic-workflow.md
âœ“ Created update workflow prompt
âœ“ Created create shared workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/create-shared-agentic-workflow.md
âœ“ Created shared workflow creation prompt
âœ“ Created debug workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/debug-agentic-workflow.md
âœ“ Created debug workflow prompt
âœ“ Created upgrade workflows prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-2131097473/.github/aw/upgrade-agentic-workflows.md
âœ“ Created upgrade workflows prompt
âœ“ Created .github/workflows/copilot-setup-steps.yml
âœ“ Created .vscode/mcp.json
âœ“ Updated .vscode/settings.json

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryVerbose (0.02s)
=== RUN   TestInitRepositoryNotInGitRepo
--- PASS: TestInitRepositoryNotInGitRepo (0.00s)
=== RUN   TestInitRepositoryIdempotent

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>


âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryIdempotent (0.04s)
=== RUN   TestInitRepositoryWithMCPIdempotent

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>


âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithMCPIdempotent (0.04s)
=== RUN   TestInitRepositoryCreatesDirectories

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryCreatesDirectories (0.03s)
=== RUN   TestInitCommandFlagValidation
=== PAUSE TestInitCommandFlagValidation
=== RUN   TestInitRepositoryErrorHandling
--- PASS: TestInitRepositoryErrorHandling (0.00s)
=== RUN   TestInitRepositoryWithExistingFiles

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithExistingFiles (0.02s)
=== RUN   TestInitRepositoryWithCodespace

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ GitHub Codespaces devcontainer configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepositoryWithCodespace (0.03s)
=== RUN   TestInitCommandWithCodespacesNoArgs

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitCommandWithCodespacesNoArgs (0.03s)
=== RUN   TestInitRepository_WithMCP

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_WithMCP (0.02s)
=== RUN   TestInitRepository_MCP_Idempotent

âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>


âœ“ Repository initialized for agentic workflows!

â„¹ GitHub Copilot Agent MCP integration configured

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_MCP_Idempotent (0.04s)
=== RUN   TestEnsureMCPConfig_UpdatesExisting
--- PASS: TestEnsureMCPConfig_UpdatesExisting (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_InjectsStep
--- PASS: TestEnsureCopilotSetupSteps_InjectsStep (0.00s)
=== RUN   TestEnsureCopilotSetupSteps_SkipsWhenStepExists
--- PASS: TestEnsureCopilotSetupSteps_SkipsWhenStepExists (0.00s)
=== RUN   TestInitRepository
=== RUN   TestInitRepository/successfully_initializes_repository

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

=== RUN   TestInitRepository/fails_when_not_in_git_repository
--- PASS: TestInitRepository (0.03s)
    --- PASS: TestInitRepository/successfully_initializes_repository (0.02s)
    --- PASS: TestInitRepository/fails_when_not_in_git_repository (0.00s)
=== RUN   TestInitRepository_Idempotent

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>


âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_Idempotent (0.04s)
=== RUN   TestInitRepository_Verbose
âœ“ Configured .gitattributes
âœ“ Configured .github/aw/logs/.gitignore
âœ“ Created copilot instructions: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/github-agentic-workflows.md
âœ“ Created GitHub Copilot instructions
âœ“ Created agent: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/agents/agentic-workflows.agent.md
âœ“ Created dispatcher agent
âœ“ Created create workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/create-agentic-workflow.md
âœ“ Created create workflow prompt
âœ“ Created update workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/update-agentic-workflow.md
âœ“ Created update workflow prompt
âœ“ Created create shared workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/create-shared-agentic-workflow.md
âœ“ Created shared workflow creation prompt
âœ“ Created debug workflow prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/debug-agentic-workflow.md
âœ“ Created debug workflow prompt
âœ“ Created upgrade workflows prompt: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1811507416/.github/aw/upgrade-agentic-workflows.md
âœ“ Created upgrade workflows prompt
âœ“ Updated .vscode/settings.json

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_Verbose (0.03s)
=== RUN   TestEnsureMaintenanceWorkflow
=== RUN   TestEnsureMaintenanceWorkflow/generates_maintenance_workflow_when_expires_field_present
=== RUN   TestEnsureMaintenanceWorkflow/deletes_maintenance_workflow_when_no_expires_field
=== RUN   TestEnsureMaintenanceWorkflow/skips_when_no_workflows_directory
--- PASS: TestEnsureMaintenanceWorkflow (0.03s)
    --- PASS: TestEnsureMaintenanceWorkflow/generates_maintenance_workflow_when_expires_field_present (0.01s)
    --- PASS: TestEnsureMaintenanceWorkflow/deletes_maintenance_workflow_when_no_expires_field (0.01s)
    --- PASS: TestEnsureMaintenanceWorkflow/skips_when_no_workflows_directory (0.01s)
=== RUN   TestValidateWorkflowName_Integration
=== RUN   TestValidateWorkflowName_Integration/valid_simple_name
=== RUN   TestValidateWorkflowName_Integration/valid_with_underscores
=== RUN   TestValidateWorkflowName_Integration/valid_alphanumeric
=== RUN   TestValidateWorkflowName_Integration/valid_mixed
=== RUN   TestValidateWorkflowName_Integration/invalid_with_spaces
=== RUN   TestValidateWorkflowName_Integration/invalid_with_special_chars
=== RUN   TestValidateWorkflowName_Integration/invalid_with_dots
=== RUN   TestValidateWorkflowName_Integration/invalid_with_slashes
=== RUN   TestValidateWorkflowName_Integration/empty_string
=== RUN   TestValidateWorkflowName_Integration/valid_uppercase
--- PASS: TestValidateWorkflowName_Integration (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/valid_simple_name (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/valid_with_underscores (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/valid_alphanumeric (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/valid_mixed (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/invalid_with_spaces (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/invalid_with_special_chars (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/invalid_with_dots (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/invalid_with_slashes (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/empty_string (0.00s)
    --- PASS: TestValidateWorkflowName_Integration/valid_uppercase (0.00s)
=== RUN   TestCommonWorkflowNamesAreValid
--- PASS: TestCommonWorkflowNamesAreValid (0.00s)
=== RUN   TestCommonWorkflowNamesHasExpectedPatterns
--- PASS: TestCommonWorkflowNamesHasExpectedPatterns (0.00s)
=== RUN   TestIsAccessibleMode
=== RUN   TestIsAccessibleMode/ACCESSIBLE=1_enables_accessibility
=== RUN   TestIsAccessibleMode/ACCESSIBLE=true_enables_accessibility
=== RUN   TestIsAccessibleMode/ACCESSIBLE_with_any_non-empty_value_enables_accessibility
=== RUN   TestIsAccessibleMode/TERM=dumb_enables_accessibility
=== RUN   TestIsAccessibleMode/NO_COLOR=1_enables_accessibility
=== RUN   TestIsAccessibleMode/NO_COLOR=true_enables_accessibility
=== RUN   TestIsAccessibleMode/normal_terminal_without_any_accessibility_flags
=== RUN   TestIsAccessibleMode/all_accessibility_flags_set
=== RUN   TestIsAccessibleMode/ACCESSIBLE_and_TERM=dumb_both_set
=== RUN   TestIsAccessibleMode/ACCESSIBLE_and_NO_COLOR_both_set
=== RUN   TestIsAccessibleMode/both_TERM=dumb_and_NO_COLOR_set
=== RUN   TestIsAccessibleMode/empty_TERM_without_any_accessibility_flags
--- PASS: TestIsAccessibleMode (0.00s)
    --- PASS: TestIsAccessibleMode/ACCESSIBLE=1_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/ACCESSIBLE=true_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/ACCESSIBLE_with_any_non-empty_value_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/TERM=dumb_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/NO_COLOR=1_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/NO_COLOR=true_enables_accessibility (0.00s)
    --- PASS: TestIsAccessibleMode/normal_terminal_without_any_accessibility_flags (0.00s)
    --- PASS: TestIsAccessibleMode/all_accessibility_flags_set (0.00s)
    --- PASS: TestIsAccessibleMode/ACCESSIBLE_and_TERM=dumb_both_set (0.00s)
    --- PASS: TestIsAccessibleMode/ACCESSIBLE_and_NO_COLOR_both_set (0.00s)
    --- PASS: TestIsAccessibleMode/both_TERM=dumb_and_NO_COLOR_set (0.00s)
    --- PASS: TestIsAccessibleMode/empty_TERM_without_any_accessibility_flags (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_generateWorkflowContent
    interactive_test.go:300: Generated content:
        ---
        on:
          workflow_dispatch:
        permissions:
          contents: read
          actions: read
        engine: claude
        network: defaults
        tools:
          github:
            allowed:
              - issue_read
              - add_issue_comment
              - create_issue
          edit:
        safe-outputs:
          create-issue:
        ---
        
        # test-workflow
        
        This is a test workflow for validation
        
        <!--
        ## TODO: Customize this workflow
        
        The workflow has been generated based on your selections. Consider adding:
        
        - [ ] More specific instructions for the AI
        - [ ] Error handling requirements
        - [ ] Output format specifications
        - [ ] Integration with other workflows
        - [ ] Testing and validation steps
        
        ## Configuration Summary
        
        - **Trigger**: Manual trigger
        - **AI Engine**: claude
        - **Tools**: github, edit
        - **Safe Outputs**: create-issue
        - **Network Access**: defaults
        
        ## Next Steps
        
        1. Review and customize the workflow content above
        2. Remove TODO sections when ready
        3. Run `gh aw compile` to generate the GitHub Actions workflow
        4. Test the workflow with a manual trigger or appropriate event
        -->
--- PASS: TestInteractiveWorkflowBuilder_generateWorkflowContent (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_generateTriggerConfig
--- PASS: TestInteractiveWorkflowBuilder_generateTriggerConfig (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/workflow_dispatch_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/issues_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/pull_request_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/push_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/issue_comment_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/schedule_daily_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/schedule_weekly_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/command_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/custom_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/unknown_trigger
=== RUN   TestInteractiveWorkflowBuilder_describeTrigger/empty_trigger
--- PASS: TestInteractiveWorkflowBuilder_describeTrigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/workflow_dispatch_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/issues_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/pull_request_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/push_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/issue_comment_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/schedule_daily_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/schedule_weekly_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/command_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/custom_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/unknown_trigger (0.00s)
    --- PASS: TestInteractiveWorkflowBuilder_describeTrigger/empty_trigger (0.00s)
=== RUN   TestCreateWorkflowInteractively_InAutomatedEnvironment
--- PASS: TestCreateWorkflowInteractively_InAutomatedEnvironment (0.00s)
=== RUN   TestCreateWorkflowInteractively_WithForceFlag
--- PASS: TestCreateWorkflowInteractively_WithForceFlag (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_compileWorkflow_SpinnerIntegration
âœ— âœ— workflow 'test-spinner-workflow' not found in local .github/workflows

Suggestions:
  â€¢ Run 'gh aw status' to see all available workflows
  â€¢ Create a new workflow with 'gh aw new test-spinner-workflow'
  â€¢ Check for typos in the workflow name

âœ— Compiled 1 workflow(s): 1 error(s), 0 warning(s)
âœ— Failed workflows:
  - test-spinner-workflow (1 error)
âœ— Compilation failed: âœ— workflow 'test-spinner-workflow' not found in local .github/workflows

Suggestions:
  â€¢ Run 'gh aw status' to see all available workflows
  â€¢ Create a new workflow with 'gh aw new test-spinner-workflow'
  â€¢ Check for typos in the workflow name

    interactive_test.go:489: Compilation error (expected): âœ— workflow 'test-spinner-workflow' not found in local .github/workflows
        
        Suggestions:
          â€¢ Run 'gh aw status' to see all available workflows
          â€¢ Create a new workflow with 'gh aw new test-spinner-workflow'
          â€¢ Check for typos in the workflow name
--- PASS: TestInteractiveWorkflowBuilder_compileWorkflow_SpinnerIntegration (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_FieldDescriptions
    interactive_test.go:514: Workflow name description: Enter a descriptive name for your workflow (e.g., 'issue-triage', 'code-review-helper')
    interactive_test.go:516: Field "trigger" should have description: Choose the GitHub event that triggers this workflow
    interactive_test.go:516: Field "engine" should have description: The AI engine interprets instructions and executes tasks using available tools
    interactive_test.go:516: Field "tools" should have description: Tools enable the AI to interact with code, APIs, and external systems
    interactive_test.go:516: Field "safe-outputs" should have description: Safe outputs allow the AI to create GitHub resources after human approval
    interactive_test.go:516: Field "network" should have description: Network access controls which external domains the workflow can reach
    interactive_test.go:516: Field "instructions" should have description: Provide clear, detailed instructions for the AI to follow when executing this workflow
--- PASS: TestInteractiveWorkflowBuilder_FieldDescriptions (0.00s)
=== RUN   TestInteractiveWorkflowBuilder_AllMajorFieldsHaveDescriptions
    interactive_test.go:554: Expected form fields with descriptions:
    interactive_test.go:556: 1. What should we call this workflow?
    interactive_test.go:556: 2. When should this workflow run?
    interactive_test.go:556: 3. Which AI engine should process this workflow?
    interactive_test.go:556: 4. Which tools should the AI have access to?
    interactive_test.go:556: 5. What outputs should the AI be able to create?
    interactive_test.go:556: 6. What network access does the workflow need?
    interactive_test.go:556: 7. Describe what this workflow should do:
    interactive_test.go:561: Manual verification required: Run 'gh aw interactive' to verify descriptions appear
--- PASS: TestInteractiveWorkflowBuilder_AllMajorFieldsHaveDescriptions (0.00s)
=== RUN   TestCommandProviderInterface
=== RUN   TestCommandProviderInterface/GenBashCompletion
=== RUN   TestCommandProviderInterface/GenZshCompletion
=== RUN   TestCommandProviderInterface/GenFishCompletion
--- PASS: TestCommandProviderInterface (0.00s)
    --- PASS: TestCommandProviderInterface/GenBashCompletion (0.00s)
    --- PASS: TestCommandProviderInterface/GenZshCompletion (0.00s)
    --- PASS: TestCommandProviderInterface/GenFishCompletion (0.00s)
=== RUN   TestInitRepository_WithNilRootCmd

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_WithNilRootCmd (0.02s)
=== RUN   TestInitRepository_WithRootCmd

âœ“ Repository initialized for agentic workflows!

â„¹ To create a workflow, launch Copilot CLI: npx @github/copilot
â„¹ Then type /agent and select agentic-workflows

â„¹ Or add workflows from the catalog: gh aw add <workflow-name>

--- PASS: TestInitRepository_WithRootCmd (0.02s)
=== RUN   TestInstallShellCompletion_TypeAssertion
=== RUN   TestInstallShellCompletion_TypeAssertion/with_cobra.Command
â„¹ Detected shell: bash
âœ“ Installed bash completion to: /home/dsyme/.bash_completion.d/gh-aw

â„¹ To enable completions, add the following to your ~/.bashrc:

  for f in ~/.bash_completion.d/*; do [ -f "$f" ] && source "$f"; done

â„¹ Then restart your shell or run: source ~/.bashrc
=== RUN   TestInstallShellCompletion_TypeAssertion/with_nil
--- PASS: TestInstallShellCompletion_TypeAssertion (0.00s)
    --- PASS: TestInstallShellCompletion_TypeAssertion/with_cobra.Command (0.00s)
    --- PASS: TestInstallShellCompletion_TypeAssertion/with_nil (0.00s)
=== RUN   TestApplyJqFilter
=== RUN   TestApplyJqFilter/simple_filter_-_identity
=== RUN   TestApplyJqFilter/simple_filter_-_get_first_element
=== RUN   TestApplyJqFilter/filter_-_count_array_length
=== RUN   TestApplyJqFilter/filter_-_map_and_select
=== RUN   TestApplyJqFilter/filter_-_extract_specific_field
=== RUN   TestApplyJqFilter/filter_-_empty_input
=== RUN   TestApplyJqFilter/filter_-_array_transformation
=== RUN   TestApplyJqFilter/invalid_filter_-_syntax_error
=== RUN   TestApplyJqFilter/invalid_JSON_input
=== RUN   TestApplyJqFilter/empty_filter
--- PASS: TestApplyJqFilter (0.02s)
    --- PASS: TestApplyJqFilter/simple_filter_-_identity (0.00s)
    --- PASS: TestApplyJqFilter/simple_filter_-_get_first_element (0.00s)
    --- PASS: TestApplyJqFilter/filter_-_count_array_length (0.00s)
    --- PASS: TestApplyJqFilter/filter_-_map_and_select (0.00s)
    --- PASS: TestApplyJqFilter/filter_-_extract_specific_field (0.00s)
    --- PASS: TestApplyJqFilter/filter_-_empty_input (0.00s)
    --- PASS: TestApplyJqFilter/filter_-_array_transformation (0.00s)
    --- PASS: TestApplyJqFilter/invalid_filter_-_syntax_error (0.00s)
    --- PASS: TestApplyJqFilter/invalid_JSON_input (0.00s)
    --- PASS: TestApplyJqFilter/empty_filter (0.00s)
=== RUN   TestApplyJqFilter_JqNotAvailable
    jq_test.go:145: Skipping test: jq is available, cannot test 'not found' scenario
--- SKIP: TestApplyJqFilter_JqNotAvailable (0.00s)
=== RUN   TestListCommandPlaceholder
    list_command_test.go:13: list_command.go is currently empty - no functionality to test
--- SKIP: TestListCommandPlaceholder (0.00s)
=== RUN   TestRunListWorkflows_JSONOutput
=== RUN   TestRunListWorkflows_JSONOutput/JSON_output_without_pattern
[
  {
    "workflow": "agent-performance-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "agent-persona-explorer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "ai-moderator",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "issue_comment": {
        "lock-for-agent": true,
        "types": [
          "created"
        ]
      },
      "issues": {
        "lock-for-agent": true,
        "types": [
          "opened"
        ]
      },
      "workflow_dispatch": {
        "inputs": {
          "issue_url": {
            "description": "Issue URL to moderate (e.g., https://github.com/owner/repo/issues/123)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "archie",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "reaction": "eyes",
      "slash_command": {
        "events": [
          "issues",
          "issue_comment",
          "pull_request",
          "pull_request_comment"
        ],
        "name": "archie"
      }
    }
  },
  {
    "workflow": "artifacts-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on sunday around 06:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "audit-workflows",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "auto-triage-issues",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "issues": {
        "types": [
          "opened",
          "edited"
        ]
      },
      "schedule": "every 6h"
    }
  },
  {
    "workflow": "blog-auditor",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on wednesday around 12:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "brave",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment"
        ],
        "name": "brave"
      }
    }
  },
  {
    "workflow": "breaking-change-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "0 14 * * 1-5",
      "skip-if-match": "is:issue is:open in:title \"[breaking-change]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "changeset",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "changeset",
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "chroma-issue-indexer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 */4 * * *"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ci-coach",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ci-doctor",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "stop-after": "+1mo",
      "workflow_run": {
        "branches": [
          "main"
        ],
        "types": [
          "completed"
        ],
        "workflows": [
          "CI"
        ]
      }
    }
  },
  {
    "workflow": "claude-code-user-docs-review",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cli-consistency-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cli-version-checker",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cloclo",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "issues": {
        "names": [
          "cloclo"
        ],
        "types": [
          "labeled"
        ]
      },
      "slash_command": {
        "name": "cloclo"
      }
    }
  },
  {
    "workflow": "code-scanning-fixer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[code-scanning-fix]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "code-simplifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:pr is:open in:title \"[code-simplifier]\""
    }
  },
  {
    "workflow": "codex-github-remote-mcp-test",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "commit-changes-analyzer",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "commit_url": {
            "description": "GitHub commit URL to analyze changes since (e.g., https://github.com/owner/repo/commit/abc123)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "copilot-agent-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-cli-deep-research",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ]
    }
  },
  {
    "workflow": "copilot-pr-merged-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-pr-nlp-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 10 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-pr-prompt-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-session-insights",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "craft",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "issues"
        ],
        "name": "craft"
      }
    }
  },
  {
    "workflow": "daily-assign-issue-to-user",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-choice-test",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 12 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-cli-performance",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-code-metrics",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-compiler-quality",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-copilot-token-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-doc-updater",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-fact",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-file-diet",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "skip-if-match": "is:issue is:open in:title \"[file-diet]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-firewall-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-issues-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "daily-malicious-code-scan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-multi-device-docs-tester",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": {
        "inputs": {
          "devices": {
            "default": "mobile,tablet,desktop",
            "description": "Device types to test (comma-separated: mobile,tablet,desktop)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "daily-news",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-observability-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "daily-performance-summary",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-regulatory",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-repo-chronicle",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 16 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-safe-output-optimizer",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:issue is:open in:title \"[safeoutputs]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-secrets-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-semgrep-scan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-team-evolution-insights",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-team-status",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1-5"
        }
      ],
      "stop-after": "+1mo",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-testify-uber-super-expert",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:issue is:open in:title \"[testify-expert]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-workflow-updater",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "deep-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "delight",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dependabot-bundler",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[dependabot-bundle]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dependabot-go-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1,3,5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dev-hawk",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_run": {
        "branches": [
          "copilot/*"
        ],
        "types": [
          "completed"
        ],
        "workflows": [
          "Dev"
        ]
      }
    }
  },
  {
    "workflow": "dev",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "developer-docs-consolidator",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dictation-prompt",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 6 * * 0"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "discussion-task-miner",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "every 4h"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "docs-noob-tester",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "draft-pr-cleanup",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "duplicate-code-detector",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "example-custom-error-patterns",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "issues": {
        "types": [
          "opened"
        ]
      }
    }
  },
  {
    "workflow": "example-permissions-warning",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "example-workflow-analyzer",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "firewall-escape",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "firewall-escape-test"
        ],
        "types": [
          "labeled"
        ]
      },
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "firewall",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-mcp-structural-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-mcp-tools-report",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on sunday around 12:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-remote-mcp-auth-test",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "glossary-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 10 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-fan",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 7 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-logger",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-pattern-detector",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 14 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "grumpy-reviewer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment",
          "pull_request_review_comment"
        ],
        "name": "grumpy"
      }
    }
  },
  {
    "workflow": "hourly-ci-cleaner",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 6,18 * * *"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "instructions-janitor",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-arborist",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-classifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "issues": {
        "types": [
          "opened"
        ]
      },
      "reaction": "eyes"
    }
  },
  {
    "workflow": "issue-monster",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "every 1h",
      "skip-if-match": {
        "max": 9,
        "query": "is:pr is:open is:draft author:app/copilot-swe-agent"
      },
      "skip-if-no-match": "is:issue is:open",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-triage-agent",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "0 14 * * 1-5",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "jsweep",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "layout-spec-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 7 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "lockfile-stats",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "mcp-inspector",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on monday around 18:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "mergefest",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment"
        ],
        "name": "mergefest"
      }
    }
  },
  {
    "workflow": "metrics-collector",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "notion-issue-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "issue-number": {
            "description": "Issue number to analyze",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "org-health-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "pdf-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment",
          "issues"
        ],
        "name": "summarize"
      },
      "workflow_dispatch": {
        "inputs": {
          "query": {
            "default": "summarize in the context of this repository",
            "description": "Query or question to answer about the resource(s)",
            "required": false,
            "type": "string"
          },
          "url": {
            "description": "URL(s) to resource(s) to analyze (comma-separated for multiple URLs)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "plan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment",
          "discussion_comment"
        ],
        "name": "plan"
      }
    }
  },
  {
    "workflow": "poem-bot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "issues"
        ],
        "name": "poem-bot"
      },
      "workflow_dispatch": {
        "inputs": {
          "poem_theme": {
            "default": "technology and automation",
            "description": "Theme for the generated poem",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "portfolio-analyst",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "pr-nitpick-reviewer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": "nit"
    }
  },
  {
    "workflow": "pr-triage-agent",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "0 */6 * * *",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "prompt-clustering-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "python-data-charts",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "q",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "reaction": "rocket",
      "slash_command": {
        "name": "q"
      }
    }
  },
  {
    "workflow": "release",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "release_type": {
            "description": "Release type (patch, minor, or major)",
            "options": [
              "patch",
              "minor",
              "major"
            ],
            "required": true,
            "type": "choice"
          }
        }
      }
    }
  },
  {
    "workflow": "repo-audit-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "repository": {
            "default": "FStarLang/FStar",
            "description": "Target repository to audit (e.g., FStarLang/FStar)",
            "required": false,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "repo-tree-map",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly on monday around 15:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "repository-quality-improver",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "research",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Research topic or question to investigate",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "safe-output-health",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "schema-consistency-checker",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "scout",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "name": "scout"
      },
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Research topic or question",
            "required": true
          }
        }
      }
    }
  },
  {
    "workflow": "secret-scanning-triage",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "security-alert-burndown",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "security-compliance",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "audit_date": {
            "description": "Audit deadline (YYYY-MM-DD)",
            "required": true
          },
          "max_issues": {
            "default": "500",
            "description": "Maximum vulnerabilities to process",
            "required": false
          },
          "severity_threshold": {
            "default": "high",
            "description": "Minimum severity to fix (critical, high, medium)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "security-fix-pr",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[security-fix]\"",
      "workflow_dispatch": {
        "inputs": {
          "security_url": {
            "default": "",
            "description": "Security alert URL (e.g., https://github.com/owner/repo/security/code-scanning/123)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "security-guard",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "types": [
          "opened",
          "synchronize",
          "reopened"
        ]
      }
    }
  },
  {
    "workflow": "security-review",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment",
          "pull_request_review_comment"
        ],
        "name": "security-review"
      }
    }
  },
  {
    "workflow": "semantic-function-refactor",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "sergo",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "slide-deck-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 16 * * 1-5"
        }
      ],
      "skip-if-match": "is:pr is:open in:title \"[slides]\"",
      "workflow_dispatch": {
        "inputs": {
          "focus": {
            "default": "global-sweep",
            "description": "Focus area (feature-deep-dive or global-sweep)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "smoke-claude",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "heart",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-codex",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "hooray",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-copilot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "eyes",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-opencode",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "stale-repo-identifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "0 9 1 * *",
      "workflow_dispatch": {
        "inputs": {
          "organization": {
            "default": "github",
            "description": "GitHub organization to scan for stale repositories",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "static-analysis-report",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "step-name-alignment",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "sub-issue-closer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "super-linter",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 14 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "technical-doc-writer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Documentation topic to review",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "terminal-stylist",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "test-create-pr-error-handling",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "tidy",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "push": {
        "branches": [
          "main"
        ],
        "paths": [
          "**/*.go",
          "**/*.js",
          "**/*.cjs",
          "**/*.ts"
        ]
      },
      "reaction": "eyes",
      "schedule": [
        {
          "cron": "0 7 * * *"
        }
      ],
      "slash_command": {
        "events": [
          "pull_request_comment"
        ]
      },
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "typist",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ubuntu-image-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly",
      "skip-if-match": "is:pr is:open in:title \"[ubuntu-image]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "unbloat-docs",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "slash_command": {
        "events": [
          "pull_request_comment"
        ],
        "name": "unbloat"
      },
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "video-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "video_url": {
            "description": "URL to video file to analyze (must be publicly accessible)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "weekly-issue-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "workflow-generator",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "issues": {
        "lock-for-agent": true,
        "types": [
          "opened"
        ]
      },
      "reaction": "eyes"
    }
  },
  {
    "workflow": "workflow-health-manager",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": "daily"
  },
  {
    "workflow": "workflow-normalizer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "workflow-skill-extractor",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "schedule": "weekly",
      "workflow_dispatch": null
    }
  }
]
=== RUN   TestRunListWorkflows_JSONOutput/JSON_output_with_pattern
[
  {
    "workflow": "smoke-claude",
    "engine_id": "claude",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "heart",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-codex",
    "engine_id": "codex",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "hooray",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-copilot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "eyes",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-opencode",
    "engine_id": "copilot",
    "compiled": "Yes",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "schedule": "daily",
      "workflow_dispatch": null
    }
  }
]
=== RUN   TestRunListWorkflows_JSONOutput/JSON_output_with_label_filter
null
--- PASS: TestRunListWorkflows_JSONOutput (0.12s)
    --- PASS: TestRunListWorkflows_JSONOutput/JSON_output_without_pattern (0.06s)
    --- PASS: TestRunListWorkflows_JSONOutput/JSON_output_with_pattern (0.00s)
    --- PASS: TestRunListWorkflows_JSONOutput/JSON_output_with_label_filter (0.06s)
=== RUN   TestWorkflowListItem_JSONMarshaling
--- PASS: TestWorkflowListItem_JSONMarshaling (0.00s)
=== RUN   TestRunListWorkflows_TextOutput
=== RUN   TestRunListWorkflows_TextOutput/Text_output_without_pattern
âœ“ Found 141 workflows
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â•®
â”‚Workflow                       â”‚Engine â”‚Compiledâ”‚Labelsâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚agent-performance-analyzer     â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚agent-persona-explorer         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚ai-moderator                   â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚archie                         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚artifacts-summary              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚audit-workflows                â”‚claude â”‚Yes     â”‚-     â”‚
â”‚auto-triage-issues             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚blog-auditor                   â”‚claude â”‚Yes     â”‚-     â”‚
â”‚brave                          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚breaking-change-checker        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚changeset                      â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚chroma-issue-indexer           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚ci-coach                       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚ci-doctor                      â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚claude-code-user-docs-review   â”‚claude â”‚Yes     â”‚-     â”‚
â”‚cli-consistency-checker        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚cli-version-checker            â”‚claude â”‚Yes     â”‚-     â”‚
â”‚cloclo                         â”‚claude â”‚Yes     â”‚-     â”‚
â”‚code-scanning-fixer            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚code-simplifier                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚codex-github-remote-mcp-test   â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚commit-changes-analyzer        â”‚claude â”‚Yes     â”‚-     â”‚
â”‚copilot-agent-analysis         â”‚claude â”‚Yes     â”‚-     â”‚
â”‚copilot-cli-deep-research      â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚copilot-pr-merged-report       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚copilot-pr-nlp-analysis        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚copilot-pr-prompt-analysis     â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚copilot-session-insights       â”‚claude â”‚Yes     â”‚-     â”‚
â”‚craft                          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-assign-issue-to-user     â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-choice-test              â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-cli-performance          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-code-metrics             â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-compiler-quality         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-copilot-token-report     â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-doc-updater              â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-fact                     â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚daily-file-diet                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-firewall-report          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-issues-report            â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚daily-malicious-code-scan      â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-multi-device-docs-tester â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-news                     â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-observability-report     â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚daily-performance-summary      â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚daily-regulatory               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-repo-chronicle           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-safe-output-optimizer    â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-secrets-analysis         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-semgrep-scan             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-team-evolution-insights  â”‚claude â”‚Yes     â”‚-     â”‚
â”‚daily-team-status              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-testify-uber-super-expertâ”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚daily-workflow-updater         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚deep-report                    â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚delight                        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚dependabot-bundler             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚dependabot-go-checker          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚dev-hawk                       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚dev                            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚developer-docs-consolidator    â”‚claude â”‚Yes     â”‚-     â”‚
â”‚dictation-prompt               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚discussion-task-miner          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚docs-noob-tester               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚draft-pr-cleanup               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚duplicate-code-detector        â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚example-custom-error-patterns  â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚example-permissions-warning    â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚example-workflow-analyzer      â”‚claude â”‚Yes     â”‚-     â”‚
â”‚firewall-escape                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚firewall                       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚github-mcp-structural-analysis â”‚claude â”‚Yes     â”‚-     â”‚
â”‚github-mcp-tools-report        â”‚claude â”‚Yes     â”‚-     â”‚
â”‚github-remote-mcp-auth-test    â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚glossary-maintainer            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚go-fan                         â”‚claude â”‚Yes     â”‚-     â”‚
â”‚go-logger                      â”‚claude â”‚Yes     â”‚-     â”‚
â”‚go-pattern-detector            â”‚claude â”‚Yes     â”‚-     â”‚
â”‚grumpy-reviewer                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚hourly-ci-cleaner              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚instructions-janitor           â”‚claude â”‚Yes     â”‚-     â”‚
â”‚issue-arborist                 â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚issue-classifier               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚issue-monster                  â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚issue-triage-agent             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚jsweep                         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚layout-spec-maintainer         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚lockfile-stats                 â”‚claude â”‚Yes     â”‚-     â”‚
â”‚mcp-inspector                  â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚mergefest                      â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚metrics-collector              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚notion-issue-summary           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚org-health-report              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚pdf-summary                    â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚plan                           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚poem-bot                       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚portfolio-analyst              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚pr-nitpick-reviewer            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚pr-triage-agent                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚prompt-clustering-analysis     â”‚claude â”‚Yes     â”‚-     â”‚
â”‚python-data-charts             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚q                              â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚release                        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚repo-audit-analyzer            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚repo-tree-map                  â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚repository-quality-improver    â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚research                       â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚safe-output-health             â”‚claude â”‚Yes     â”‚-     â”‚
â”‚schema-consistency-checker     â”‚claude â”‚Yes     â”‚-     â”‚
â”‚scout                          â”‚claude â”‚Yes     â”‚-     â”‚
â”‚secret-scanning-triage         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚security-alert-burndown        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚security-compliance            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚security-fix-pr                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚security-guard                 â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚security-review                â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚semantic-function-refactor     â”‚claude â”‚Yes     â”‚-     â”‚
â”‚sergo                          â”‚claude â”‚Yes     â”‚-     â”‚
â”‚slide-deck-maintainer          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚smoke-claude                   â”‚claude â”‚Yes     â”‚-     â”‚
â”‚smoke-codex                    â”‚codex  â”‚Yes     â”‚-     â”‚
â”‚smoke-copilot                  â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚smoke-opencode                 â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚stale-repo-identifier          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚static-analysis-report         â”‚claude â”‚Yes     â”‚-     â”‚
â”‚step-name-alignment            â”‚claude â”‚Yes     â”‚-     â”‚
â”‚sub-issue-closer               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚super-linter                   â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚technical-doc-writer           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚terminal-stylist               â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚test-create-pr-error-handling  â”‚claude â”‚Yes     â”‚-     â”‚
â”‚tidy                           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚typist                         â”‚claude â”‚Yes     â”‚-     â”‚
â”‚ubuntu-image-analyzer          â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚unbloat-docs                   â”‚claude â”‚Yes     â”‚-     â”‚
â”‚video-analyzer                 â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚weekly-issue-summary           â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚workflow-generator             â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚workflow-health-manager        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚workflow-normalizer            â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚workflow-skill-extractor       â”‚copilotâ”‚Yes     â”‚-     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â•¯
=== RUN   TestRunListWorkflows_TextOutput/Text_output_with_pattern
âœ“ Found 3 workflows
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â•®
â”‚Workflow         â”‚Engine â”‚Compiledâ”‚Labelsâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ci-coach         â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚ci-doctor        â”‚copilotâ”‚Yes     â”‚-     â”‚
â”‚hourly-ci-cleanerâ”‚copilotâ”‚Yes     â”‚-     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â•¯
--- PASS: TestRunListWorkflows_TextOutput (0.06s)
    --- PASS: TestRunListWorkflows_TextOutput/Text_output_without_pattern (0.06s)
    --- PASS: TestRunListWorkflows_TextOutput/Text_output_with_pattern (0.00s)
=== RUN   TestNewListCommand
--- PASS: TestNewListCommand (0.00s)
=== RUN   TestLocalWorkflowIntegration
    local_workflow_integration_test.go:64: Skipping test because we're not in a git repository (this is expected behavior)
--- SKIP: TestLocalWorkflowIntegration (0.00s)
=== RUN   TestLocalWorkflowTrialMode
--- PASS: TestLocalWorkflowTrialMode (0.76s)
=== RUN   TestDomainAnalysisImplementsLogAnalysis
--- PASS: TestDomainAnalysisImplementsLogAnalysis (0.00s)
=== RUN   TestFirewallAnalysisImplementsLogAnalysis
--- PASS: TestFirewallAnalysisImplementsLogAnalysis (0.00s)
=== RUN   TestDomainAnalysisGettersSetters
--- PASS: TestDomainAnalysisGettersSetters (0.00s)
=== RUN   TestDomainAnalysisAddMetrics
--- PASS: TestDomainAnalysisAddMetrics (0.00s)
=== RUN   TestFirewallAnalysisGettersSetters
--- PASS: TestFirewallAnalysisGettersSetters (0.00s)
=== RUN   TestFirewallAnalysisAddMetrics
--- PASS: TestFirewallAnalysisAddMetrics (0.00s)
=== RUN   TestAggregateLogFilesWithAccessLogs
--- PASS: TestAggregateLogFilesWithAccessLogs (0.00s)
=== RUN   TestAggregateLogFilesWithFirewallLogs
--- PASS: TestAggregateLogFilesWithFirewallLogs (0.00s)
=== RUN   TestAggregateLogFilesNoFiles
--- PASS: TestAggregateLogFilesNoFiles (0.00s)
=== RUN   TestAggregateLogFilesWithParseErrors
--- PASS: TestAggregateLogFilesWithParseErrors (0.00s)
=== RUN   TestArtifactNamingBackwardCompatibility
=== RUN   TestArtifactNamingBackwardCompatibility/old_aw_info_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/old_safe_output_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/old_agent_output_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/old_prompt_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/new_aw-info_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/new_safe-output_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/new_agent-output_artifact
=== RUN   TestArtifactNamingBackwardCompatibility/new_prompt_artifact_(unchanged)
--- PASS: TestArtifactNamingBackwardCompatibility (0.02s)
    --- PASS: TestArtifactNamingBackwardCompatibility/old_aw_info_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/old_safe_output_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/old_agent_output_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/old_prompt_artifact (0.01s)
    --- PASS: TestArtifactNamingBackwardCompatibility/new_aw-info_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/new_safe-output_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/new_agent-output_artifact (0.00s)
    --- PASS: TestArtifactNamingBackwardCompatibility/new_prompt_artifact_(unchanged) (0.00s)
=== RUN   TestAuditCommandFindsNewArtifacts
--- PASS: TestAuditCommandFindsNewArtifacts (0.00s)
=== RUN   TestAwInfoBackwardCompatibility
=== RUN   TestAwInfoBackwardCompatibility/new_field_name_awf_version
=== RUN   TestAwInfoBackwardCompatibility/old_field_name_firewall_version
=== RUN   TestAwInfoBackwardCompatibility/both_field_names_present_-_prefer_new
=== RUN   TestAwInfoBackwardCompatibility/no_firewall_version_fields
=== RUN   TestAwInfoBackwardCompatibility/empty_firewall_version
--- PASS: TestAwInfoBackwardCompatibility (0.00s)
    --- PASS: TestAwInfoBackwardCompatibility/new_field_name_awf_version (0.00s)
    --- PASS: TestAwInfoBackwardCompatibility/old_field_name_firewall_version (0.00s)
    --- PASS: TestAwInfoBackwardCompatibility/both_field_names_present_-_prefer_new (0.00s)
    --- PASS: TestAwInfoBackwardCompatibility/no_firewall_version_fields (0.00s)
    --- PASS: TestAwInfoBackwardCompatibility/empty_firewall_version (0.00s)
=== RUN   TestAwInfoMarshaling
=== RUN   TestAwInfoMarshaling/with_new_field
=== RUN   TestAwInfoMarshaling/with_old_field
=== RUN   TestAwInfoMarshaling/with_both_fields
--- PASS: TestAwInfoMarshaling (0.00s)
    --- PASS: TestAwInfoMarshaling/with_new_field (0.00s)
    --- PASS: TestAwInfoMarshaling/with_old_field (0.00s)
    --- PASS: TestAwInfoMarshaling/with_both_fields (0.00s)
=== RUN   TestAwInfoResolution
ðŸ” Unfolded single-file artifact: aw-info/aw_info.json â†’ aw_info.json
--- PASS: TestAwInfoResolution (0.01s)
=== RUN   TestAwInfoResolutionWithoutFlattening
--- PASS: TestAwInfoResolutionWithoutFlattening (0.00s)
=== RUN   TestMultipleArtifactFlattening
ðŸ” Flattened: aw.patch â†’ aw.patch
ðŸ” Flattened: aw_info.json â†’ aw_info.json
ðŸ” Flattened: prompt.txt â†’ prompt.txt
ðŸ” Flattened: safe_output.jsonl â†’ safe_output.jsonl
ðŸ” Flattened unified agent-artifacts and removed nested structure
--- PASS: TestMultipleArtifactFlattening (0.00s)
=== RUN   TestLogsJSONOutputWithNoRuns
    logs_ci_scenario_test.go:63: Skipping test: GitHub authentication not available
--- SKIP: TestLogsJSONOutputWithNoRuns (1.14s)
=== RUN   TestLogsJSONRunDataFields
--- PASS: TestLogsJSONRunDataFields (0.00s)
=== RUN   TestLogsJSONOutputStructure
--- PASS: TestLogsJSONOutputStructure (0.00s)
=== RUN   TestSummaryFileWrittenWithNoRuns
--- PASS: TestSummaryFileWrittenWithNoRuns (0.00s)
=== RUN   TestNewLogsCommand
--- PASS: TestNewLogsCommand (0.00s)
=== RUN   TestLogsCommandFlagDefaults
=== RUN   TestLogsCommandFlagDefaults/start-date
=== RUN   TestLogsCommandFlagDefaults/end-date
=== RUN   TestLogsCommandFlagDefaults/engine
=== RUN   TestLogsCommandFlagDefaults/output
=== RUN   TestLogsCommandFlagDefaults/ref
=== RUN   TestLogsCommandFlagDefaults/after-run-id
=== RUN   TestLogsCommandFlagDefaults/before-run-id
=== RUN   TestLogsCommandFlagDefaults/repo
--- PASS: TestLogsCommandFlagDefaults (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/start-date (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/end-date (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/engine (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/output (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/ref (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/after-run-id (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/before-run-id (0.00s)
    --- PASS: TestLogsCommandFlagDefaults/repo (0.00s)
=== RUN   TestLogsCommandBooleanFlags
=== RUN   TestLogsCommandBooleanFlags/firewall
=== RUN   TestLogsCommandBooleanFlags/no-firewall
=== RUN   TestLogsCommandBooleanFlags/tool-graph
=== RUN   TestLogsCommandBooleanFlags/parse
=== RUN   TestLogsCommandBooleanFlags/json
--- PASS: TestLogsCommandBooleanFlags (0.00s)
    --- PASS: TestLogsCommandBooleanFlags/firewall (0.00s)
    --- PASS: TestLogsCommandBooleanFlags/no-firewall (0.00s)
    --- PASS: TestLogsCommandBooleanFlags/tool-graph (0.00s)
    --- PASS: TestLogsCommandBooleanFlags/parse (0.00s)
    --- PASS: TestLogsCommandBooleanFlags/json (0.00s)
=== RUN   TestLogsCommandStructure
=== RUN   TestLogsCommandStructure/logs_command_exists
--- PASS: TestLogsCommandStructure (0.00s)
    --- PASS: TestLogsCommandStructure/logs_command_exists (0.00s)
=== RUN   TestLogsCommandArgs
--- PASS: TestLogsCommandArgs (0.00s)
=== RUN   TestLogsCommandMutuallyExclusiveFlags
--- PASS: TestLogsCommandMutuallyExclusiveFlags (0.00s)
=== RUN   TestLogsCommandCountFlag
--- PASS: TestLogsCommandCountFlag (0.00s)
=== RUN   TestLogsCommandDateFlags
=== RUN   TestLogsCommandDateFlags/start-date
=== RUN   TestLogsCommandDateFlags/end-date
--- PASS: TestLogsCommandDateFlags (0.00s)
    --- PASS: TestLogsCommandDateFlags/start-date (0.00s)
    --- PASS: TestLogsCommandDateFlags/end-date (0.00s)
=== RUN   TestLogsCommandRunIDFilters
=== RUN   TestLogsCommandRunIDFilters/after-run-id
=== RUN   TestLogsCommandRunIDFilters/before-run-id
--- PASS: TestLogsCommandRunIDFilters (0.00s)
    --- PASS: TestLogsCommandRunIDFilters/after-run-id (0.00s)
    --- PASS: TestLogsCommandRunIDFilters/before-run-id (0.00s)
=== RUN   TestLogsCommandOutputFlag
--- PASS: TestLogsCommandOutputFlag (0.00s)
=== RUN   TestLogsCommandHelpText
--- PASS: TestLogsCommandHelpText (0.00s)
=== RUN   TestCopilotLogParsingAfterFlattening
--- PASS: TestCopilotLogParsingAfterFlattening (0.00s)
=== RUN   TestCopilotLogParsingDirectFlattening
--- PASS: TestCopilotLogParsingDirectFlattening (0.00s)
=== RUN   TestCopilotLogParsingMultipleSessionFiles
--- PASS: TestCopilotLogParsingMultipleSessionFiles (0.00s)
=== RUN   TestCopilotLogParsingBackwardCompatibility
--- PASS: TestCopilotLogParsingBackwardCompatibility (0.00s)
=== RUN   TestMissingToolSummaryDisplayFields
--- PASS: TestMissingToolSummaryDisplayFields (0.00s)
=== RUN   TestMCPFailureSummaryDisplayFields
--- PASS: TestMCPFailureSummaryDisplayFields (0.00s)
=== RUN   TestFlattenAgentOutputsArtifact
--- PASS: TestFlattenAgentOutputsArtifact (0.00s)
=== RUN   TestFlattenAgentOutputsArtifactMissing
--- PASS: TestFlattenAgentOutputsArtifactMissing (0.00s)
=== RUN   TestFlattenAgentOutputsArtifactPreservesStructure
--- PASS: TestFlattenAgentOutputsArtifactPreservesStructure (0.00s)
=== RUN   TestDownloadWorkflowLogs
    logs_download_test.go:17: Skipping slow network-dependent test
--- SKIP: TestDownloadWorkflowLogs (0.00s)
=== RUN   TestDirExists
--- PASS: TestDirExists (0.00s)
=== RUN   TestIsDirEmpty
--- PASS: TestIsDirEmpty (0.00s)
=== RUN   TestErrNoArtifacts
--- PASS: TestErrNoArtifacts (0.00s)
=== RUN   TestListWorkflowRunsWithPagination
--- PASS: TestListWorkflowRunsWithPagination (1.16s)
=== RUN   TestIterativeAlgorithmConstants
--- PASS: TestIterativeAlgorithmConstants (0.00s)
=== RUN   TestDownloadWorkflowLogsWithEngineFilter
    logs_download_test.go:165: Skipping slow network-dependent test
--- SKIP: TestDownloadWorkflowLogsWithEngineFilter (0.00s)
=== RUN   TestUnzipFile
--- PASS: TestUnzipFile (0.00s)
=== RUN   TestUnzipFileZipSlipPrevention
--- PASS: TestUnzipFileZipSlipPrevention (0.00s)
=== RUN   TestDownloadWorkflowRunLogsStructure
--- PASS: TestDownloadWorkflowRunLogsStructure (0.00s)
=== RUN   TestCountParameterBehavior
=== RUN   TestCountParameterBehavior/with_startDate_should_fetch_all_in_range
=== RUN   TestCountParameterBehavior/with_endDate_should_fetch_all_in_range
=== RUN   TestCountParameterBehavior/with_both_dates_should_fetch_all_in_range
=== RUN   TestCountParameterBehavior/without_dates_should_use_count_as_fetch_limit
--- PASS: TestCountParameterBehavior (0.00s)
    --- PASS: TestCountParameterBehavior/with_startDate_should_fetch_all_in_range (0.00s)
    --- PASS: TestCountParameterBehavior/with_endDate_should_fetch_all_in_range (0.00s)
    --- PASS: TestCountParameterBehavior/with_both_dates_should_fetch_all_in_range (0.00s)
    --- PASS: TestCountParameterBehavior/without_dates_should_use_count_as_fetch_limit (0.00s)
=== RUN   TestBuildLogsDataEmptyRuns
--- PASS: TestBuildLogsDataEmptyRuns (0.00s)
=== RUN   TestRenderLogsJSONEmptyRuns
--- PASS: TestRenderLogsJSONEmptyRuns (0.00s)
=== RUN   TestExtractZipFileSuccess
--- PASS: TestExtractZipFileSuccess (0.00s)
=== RUN   TestExtractZipFileDirectory
--- PASS: TestExtractZipFileDirectory (0.00s)
=== RUN   TestExtractZipFileZipSlipPrevention
--- PASS: TestExtractZipFileZipSlipPrevention (0.00s)
=== RUN   TestExtractZipFilePreservesMode
--- PASS: TestExtractZipFilePreservesMode (0.00s)
=== RUN   TestExtractZipFileWithNestedDirectories
--- PASS: TestExtractZipFileWithNestedDirectories (0.00s)
=== RUN   TestExtractZipFileErrorHandling
=== RUN   TestExtractZipFileErrorHandling/returns_error_when_opening_invalid_zip_file
=== RUN   TestExtractZipFileErrorHandling/validates_error_return_signature_for_writable_file_close
--- PASS: TestExtractZipFileErrorHandling (0.00s)
    --- PASS: TestExtractZipFileErrorHandling/returns_error_when_opening_invalid_zip_file (0.00s)
    --- PASS: TestExtractZipFileErrorHandling/validates_error_return_signature_for_writable_file_close (0.00s)
=== RUN   TestExtractLogMetrics_FallbackScenario
--- PASS: TestExtractLogMetrics_FallbackScenario (0.00s)
=== RUN   TestLogsCommand_DisplayWithFallbackMetrics
--- PASS: TestLogsCommand_DisplayWithFallbackMetrics (0.00s)
=== RUN   TestLogsCommand_MixedRunsWithAndWithoutEngine
--- PASS: TestLogsCommand_MixedRunsWithAndWithoutEngine (0.00s)
=== RUN   TestLogsCommandFlags
--- PASS: TestLogsCommandFlags (0.00s)
=== RUN   TestRunIDFilteringLogic
--- PASS: TestRunIDFilteringLogic (0.00s)
=== RUN   TestRefFilteringWithGitHubCLI
--- PASS: TestRefFilteringWithGitHubCLI (0.00s)
=== RUN   TestFindAgentLogFile
=== RUN   TestFindAgentLogFile/Copilot_engine_uses_agent_output
=== RUN   TestFindAgentLogFile/copilot_engine_flattened_location
=== RUN   TestFindAgentLogFile/copilot_engine_recursive_search
=== RUN   TestFindAgentLogFile/copilot_engine_process_log
=== RUN   TestFindAgentLogFile/copilot_engine_process_log_nested
=== RUN   TestFindAgentLogFile/Claude_engine_uses_agent-stdio.log
=== RUN   TestFindAgentLogFile/No_logs_found_returns_false
=== RUN   TestFindAgentLogFile/Codex_engine_uses_agent-stdio.log
--- PASS: TestFindAgentLogFile (0.00s)
    --- PASS: TestFindAgentLogFile/Copilot_engine_uses_agent_output (0.00s)
    --- PASS: TestFindAgentLogFile/copilot_engine_flattened_location (0.00s)
    --- PASS: TestFindAgentLogFile/copilot_engine_recursive_search (0.00s)
    --- PASS: TestFindAgentLogFile/copilot_engine_process_log (0.00s)
    --- PASS: TestFindAgentLogFile/copilot_engine_process_log_nested (0.00s)
    --- PASS: TestFindAgentLogFile/Claude_engine_uses_agent-stdio.log (0.00s)
    --- PASS: TestFindAgentLogFile/No_logs_found_returns_false (0.00s)
    --- PASS: TestFindAgentLogFile/Codex_engine_uses_agent-stdio.log (0.00s)
=== RUN   TestParseAwInfo_FirewallField
=== RUN   TestParseAwInfo_FirewallField/firewall_enabled_with_squid
    logs_firewall_filter_test.go:108: âœ“ Should detect firewall enabled when steps.firewall is 'squid'
=== RUN   TestParseAwInfo_FirewallField/firewall_disabled_(empty_string)
    logs_firewall_filter_test.go:108: âœ“ Should detect firewall disabled when steps.firewall is empty string
=== RUN   TestParseAwInfo_FirewallField/no_steps_field_(backward_compatibility)
    logs_firewall_filter_test.go:108: âœ“ Should handle missing steps field (backward compatibility)
=== RUN   TestParseAwInfo_FirewallField/steps_field_without_firewall
    logs_firewall_filter_test.go:108: âœ“ Should handle steps field without firewall subfield
--- PASS: TestParseAwInfo_FirewallField (0.00s)
    --- PASS: TestParseAwInfo_FirewallField/firewall_enabled_with_squid (0.00s)
    --- PASS: TestParseAwInfo_FirewallField/firewall_disabled_(empty_string) (0.00s)
    --- PASS: TestParseAwInfo_FirewallField/no_steps_field_(backward_compatibility) (0.00s)
    --- PASS: TestParseAwInfo_FirewallField/steps_field_without_firewall (0.00s)
=== RUN   TestFirewallFilterLogic
=== RUN   TestFirewallFilterLogic/filter=true,_has_firewall_-_should_NOT_skip
    logs_firewall_filter_test.go:190: âœ“ Run with firewall should pass when filter='true' (shouldSkip=false)
=== RUN   TestFirewallFilterLogic/filter=true,_no_firewall_-_should_skip
    logs_firewall_filter_test.go:190: âœ“ Run without firewall should be skipped when filter='true' (shouldSkip=true)
=== RUN   TestFirewallFilterLogic/filter=false,_has_firewall_-_should_skip
    logs_firewall_filter_test.go:190: âœ“ Run with firewall should be skipped when filter='false' (shouldSkip=true)
=== RUN   TestFirewallFilterLogic/filter=false,_no_firewall_-_should_NOT_skip
    logs_firewall_filter_test.go:190: âœ“ Run without firewall should pass when filter='false' (shouldSkip=false)
=== RUN   TestFirewallFilterLogic/filter_empty,_has_firewall_-_should_NOT_skip
    logs_firewall_filter_test.go:190: âœ“ Run with firewall should pass when no filter specified (shouldSkip=false)
=== RUN   TestFirewallFilterLogic/filter_empty,_no_firewall_-_should_NOT_skip
    logs_firewall_filter_test.go:190: âœ“ Run without firewall should pass when no filter specified (shouldSkip=false)
--- PASS: TestFirewallFilterLogic (0.00s)
    --- PASS: TestFirewallFilterLogic/filter=true,_has_firewall_-_should_NOT_skip (0.00s)
    --- PASS: TestFirewallFilterLogic/filter=true,_no_firewall_-_should_skip (0.00s)
    --- PASS: TestFirewallFilterLogic/filter=false,_has_firewall_-_should_skip (0.00s)
    --- PASS: TestFirewallFilterLogic/filter=false,_no_firewall_-_should_NOT_skip (0.00s)
    --- PASS: TestFirewallFilterLogic/filter_empty,_has_firewall_-_should_NOT_skip (0.00s)
    --- PASS: TestFirewallFilterLogic/filter_empty,_no_firewall_-_should_NOT_skip (0.00s)
=== RUN   TestAwInfoWithFirewallMarshaling
    logs_firewall_filter_test.go:236: âœ“ AwInfo with firewall field marshals correctly
--- PASS: TestAwInfoWithFirewallMarshaling (0.00s)
=== RUN   TestParseFirewallLogs
    logs_firewall_parse_test.go:13: Test skipped - firewall log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestParseFirewallLogs (0.00s)
=== RUN   TestParseFirewallLogsInWorkflowLogsSubdir
    logs_firewall_parse_test.go:18: Test skipped - firewall log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestParseFirewallLogsInWorkflowLogsSubdir (0.00s)
=== RUN   TestParseFirewallLogsNoLogs
â„¹ No firewall logs found in test-1685891725, skipping firewall log parsing
--- PASS: TestParseFirewallLogsNoLogs (0.00s)
=== RUN   TestParseFirewallLogsEmptyDirectory
    logs_firewall_parse_test.go:40: Test skipped - firewall log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestParseFirewallLogsEmptyDirectory (0.00s)
=== RUN   TestFlattenSingleFileArtifacts
=== RUN   TestFlattenSingleFileArtifacts/single_file_artifact_gets_flattened
ðŸ” Unfolded single-file artifact: my-artifact/output.json â†’ output.json
=== RUN   TestFlattenSingleFileArtifacts/multi-file_artifact_not_flattened
=== RUN   TestFlattenSingleFileArtifacts/artifact_with_subdirectory_not_flattened
=== RUN   TestFlattenSingleFileArtifacts/multiple_single-file_artifacts_all_get_flattened
ðŸ” Unfolded single-file artifact: artifact-1/file1.txt â†’ file1.txt
ðŸ” Unfolded single-file artifact: artifact-2/file2.txt â†’ file2.txt
ðŸ” Unfolded single-file artifact: artifact-3/file3.txt â†’ file3.txt
=== RUN   TestFlattenSingleFileArtifacts/empty_artifact_directory_not_touched
=== RUN   TestFlattenSingleFileArtifacts/regular_files_in_output_dir_not_affected
ðŸ” Unfolded single-file artifact: single-artifact/artifact.json â†’ artifact.json
--- PASS: TestFlattenSingleFileArtifacts (0.01s)
    --- PASS: TestFlattenSingleFileArtifacts/single_file_artifact_gets_flattened (0.00s)
    --- PASS: TestFlattenSingleFileArtifacts/multi-file_artifact_not_flattened (0.00s)
    --- PASS: TestFlattenSingleFileArtifacts/artifact_with_subdirectory_not_flattened (0.00s)
    --- PASS: TestFlattenSingleFileArtifacts/multiple_single-file_artifacts_all_get_flattened (0.00s)
    --- PASS: TestFlattenSingleFileArtifacts/empty_artifact_directory_not_touched (0.00s)
    --- PASS: TestFlattenSingleFileArtifacts/regular_files_in_output_dir_not_affected (0.00s)
=== RUN   TestFlattenSingleFileArtifactsInvalidDirectory
--- PASS: TestFlattenSingleFileArtifactsInvalidDirectory (0.00s)
=== RUN   TestFlattenSingleFileArtifactsWithAuditFiles
ðŸ” Flattened: aw.patch â†’ aw.patch
ðŸ” Flattened: aw_info.json â†’ aw_info.json
ðŸ” Flattened: safe_output.jsonl â†’ safe_output.jsonl
ðŸ” Flattened unified agent-artifacts and removed nested structure
--- PASS: TestFlattenSingleFileArtifactsWithAuditFiles (0.00s)
=== RUN   TestAuditCanFindFlattenedArtifacts
--- PASS: TestAuditCanFindFlattenedArtifacts (0.00s)
=== RUN   TestFlattenUnifiedArtifact
=== RUN   TestFlattenUnifiedArtifact/unified_artifact_with_nested_structure_gets_flattened
ðŸ” Flattened: aw-prompts/prompt.txt â†’ aw-prompts/prompt.txt
ðŸ” Flattened: aw_info.json â†’ aw_info.json
ðŸ” Flattened: mcp-logs/log.txt â†’ mcp-logs/log.txt
ðŸ” Flattened unified agent-artifacts and removed nested structure
=== RUN   TestFlattenUnifiedArtifact/no_agent-artifacts_directory_-_no-op
=== RUN   TestFlattenUnifiedArtifact/agent-artifacts_without_tmp/gh-aw_structure_-_flatten_directly
ðŸ” Flattened: file.txt â†’ file.txt
ðŸ” Flattened: subdir/nested.txt â†’ subdir/nested.txt
ðŸ” Flattened unified agent-artifacts and removed nested structure
--- PASS: TestFlattenUnifiedArtifact (0.00s)
    --- PASS: TestFlattenUnifiedArtifact/unified_artifact_with_nested_structure_gets_flattened (0.00s)
    --- PASS: TestFlattenUnifiedArtifact/no_agent-artifacts_directory_-_no-op (0.00s)
    --- PASS: TestFlattenUnifiedArtifact/agent-artifacts_without_tmp/gh-aw_structure_-_flatten_directly (0.00s)
=== RUN   TestFormatNumber
--- PASS: TestFormatNumber (0.00s)
=== RUN   TestFormatFileSize
--- PASS: TestFormatFileSize (0.00s)
=== RUN   TestJSONOutputNotCorruptedByStderr
--- PASS: TestJSONOutputNotCorruptedByStderr (0.00s)
=== RUN   TestStderrMessagesAfterJSON
--- PASS: TestStderrMessagesAfterJSON (0.00s)
=== RUN   TestLogsJSONOutputBeforeStderr
    logs_json_stderr_order_test.go:74: Skipping test: GitHub authentication not available
--- SKIP: TestLogsJSONOutputBeforeStderr (1.31s)
=== RUN   TestLogsJSONAndStderrRedirected
    logs_json_stderr_order_test.go:197: Skipping test: GitHub authentication not available
--- SKIP: TestLogsJSONAndStderrRedirected (1.29s)
=== RUN   TestBuildLogsData
--- PASS: TestBuildLogsData (0.00s)
=== RUN   TestRenderLogsJSON
--- PASS: TestRenderLogsJSON (0.00s)
=== RUN   TestBuildMissingToolsSummary
--- PASS: TestBuildMissingToolsSummary (0.00s)
=== RUN   TestBuildLogsDataWithContinuation
--- PASS: TestBuildLogsDataWithContinuation (0.00s)
=== RUN   TestBuildLogsDataWithoutContinuation
--- PASS: TestBuildLogsDataWithoutContinuation (0.00s)
=== RUN   TestBuildMCPFailuresSummary
--- PASS: TestBuildMCPFailuresSummary (0.00s)
=== RUN   TestExtractMCPFailuresFromSafeOutputsServer
âš  Found MCP server failure: safeoutputs (status: failed)
â„¹ Found 1 MCP server failures for run 17701181429
--- PASS: TestExtractMCPFailuresFromSafeOutputsServer (0.00s)
=== RUN   TestExtractMCPFailuresFromLogFileDirectly
âš  Found MCP server failure: safeoutputs (status: failed)
--- PASS: TestExtractMCPFailuresFromLogFileDirectly (0.00s)
=== RUN   TestMissingToolDetectionIntegration
--- PASS: TestMissingToolDetectionIntegration (0.00s)
=== RUN   TestMissingToolTypeConsistency
--- PASS: TestMissingToolTypeConsistency (0.00s)
=== RUN   TestMissingToolFlattenedStructure
--- PASS: TestMissingToolFlattenedStructure (0.00s)
=== RUN   TestExtractMissingToolsFromRun
=== RUN   TestExtractMissingToolsFromRun/single_missing_tool_in_safe_output
=== RUN   TestExtractMissingToolsFromRun/multiple_missing_tools_in_safe_output
=== RUN   TestExtractMissingToolsFromRun/no_missing_tools_in_safe_output
=== RUN   TestExtractMissingToolsFromRun/empty_safe_output
=== RUN   TestExtractMissingToolsFromRun/malformed_json
--- PASS: TestExtractMissingToolsFromRun (0.00s)
    --- PASS: TestExtractMissingToolsFromRun/single_missing_tool_in_safe_output (0.00s)
    --- PASS: TestExtractMissingToolsFromRun/multiple_missing_tools_in_safe_output (0.00s)
    --- PASS: TestExtractMissingToolsFromRun/no_missing_tools_in_safe_output (0.00s)
    --- PASS: TestExtractMissingToolsFromRun/empty_safe_output (0.00s)
    --- PASS: TestExtractMissingToolsFromRun/malformed_json (0.00s)
=== RUN   TestExtractNoopsFromRun
=== RUN   TestExtractNoopsFromRun/single_noop_in_safe_output
=== RUN   TestExtractNoopsFromRun/multiple_noops_in_safe_output
=== RUN   TestExtractNoopsFromRun/no_noops_in_safe_output
=== RUN   TestExtractNoopsFromRun/empty_safe_output
=== RUN   TestExtractNoopsFromRun/malformed_json
--- PASS: TestExtractNoopsFromRun (0.00s)
    --- PASS: TestExtractNoopsFromRun/single_noop_in_safe_output (0.00s)
    --- PASS: TestExtractNoopsFromRun/multiple_noops_in_safe_output (0.00s)
    --- PASS: TestExtractNoopsFromRun/no_noops_in_safe_output (0.00s)
    --- PASS: TestExtractNoopsFromRun/empty_safe_output (0.00s)
    --- PASS: TestExtractNoopsFromRun/malformed_json (0.00s)
=== RUN   TestExtractNoopsFlattenedStructure
--- PASS: TestExtractNoopsFlattenedStructure (0.00s)
=== RUN   TestDownloadRunArtifactsConcurrent_EmptyRuns
--- PASS: TestDownloadRunArtifactsConcurrent_EmptyRuns (0.00s)
=== RUN   TestDownloadRunArtifactsConcurrent_ResultOrdering
Processing runs: 0% (0B/5B)Processing runs: 20% (1B/5B)Processing runs: 40% (2B/5B)Processing runs: 60% (3B/5B)Processing runs: 80% (4B/5B)Processing runs: 100% (5B/5B)--- PASS: TestDownloadRunArtifactsConcurrent_ResultOrdering (2.00s)
=== RUN   TestDownloadRunArtifactsConcurrent_AllProcessed
Processing runs: 0% (0B/5B)Processing runs: 20% (1B/5B)Processing runs: 40% (2B/5B)Processing runs: 60% (3B/5B)Processing runs: 80% (4B/5B)Processing runs: 100% (5B/5B)--- PASS: TestDownloadRunArtifactsConcurrent_AllProcessed (0.73s)
=== RUN   TestDownloadRunArtifactsConcurrent_ContextCancellation
Processing runs: 0% (0B/3B)--- PASS: TestDownloadRunArtifactsConcurrent_ContextCancellation (0.00s)
=== RUN   TestDownloadRunArtifactsConcurrent_PartialCancellation
Processing runs: 0% (0B/20B)Processing runs: 5% (1B/20B)Processing runs: 10% (2B/20B)Processing runs: 15% (3B/20B)Processing runs: 20% (4B/20B)Processing runs: 25% (5B/20B)Processing runs: 30% (6B/20B)Processing runs: 35% (7B/20B)Processing runs: 40% (8B/20B)Processing runs: 45% (9B/20B)Processing runs: 50% (10B/20B)    logs_orchestrator_test.go:145: Completed: 20, Cancelled: 0
--- PASS: TestDownloadRunArtifactsConcurrent_PartialCancellation (0.89s)
=== RUN   TestDownloadRunArtifactsConcurrent_NoResourceLeaks
Processing runs: 0% (0B/3B)Processing runs: 33% (1B/3B)Processing runs: 66% (2B/3B)Processing runs: 100% (3B/3B)--- PASS: TestDownloadRunArtifactsConcurrent_NoResourceLeaks (0.98s)
=== RUN   TestDownloadRunArtifactsConcurrent_ConcurrencyLimit
=== RUN   TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/default_limit
Processing runs: 0% (0B/20B)Processing runs: 5% (1B/20B)Processing runs: 10% (2B/20B)Processing runs: 15% (3B/20B)Processing runs: 20% (4B/20B)Processing runs: 25% (5B/20B)Processing runs: 30% (6B/20B)Processing runs: 35% (7B/20B)Processing runs: 40% (8B/20B)Processing runs: 45% (9B/20B)Processing runs: 50% (10B/20B)Processing runs: 55% (11B/20B)Processing runs: 60% (12B/20B)Processing runs: 65% (13B/20B)Processing runs: 70% (14B/20B)Processing runs: 75% (15B/20B)Processing runs: 80% (16B/20B)Processing runs: 85% (17B/20B)Processing runs: 90% (18B/20B)Processing runs: 95% (19B/20B)Processing runs: 100% (20B/20B)    logs_orchestrator_test.go:250: Processed 20 runs with limit 10
=== RUN   TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/custom_limit_5
Processing runs: 0% (0B/15B)Processing runs: 6% (1B/15B)Processing runs: 13% (2B/15B)Processing runs: 20% (3B/15B)Processing runs: 26% (4B/15B)Processing runs: 33% (5B/15B)Processing runs: 40% (6B/15B)Processing runs: 46% (7B/15B)Processing runs: 53% (8B/15B)Processing runs: 60% (9B/15B)Processing runs: 66% (10B/15B)Processing runs: 73% (11B/15B)Processing runs: 80% (12B/15B)Processing runs: 86% (13B/15B)Processing runs: 93% (14B/15B)Processing runs: 100% (15B/15B)    logs_orchestrator_test.go:250: Processed 15 runs with limit 5
=== RUN   TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/custom_limit_1_(sequential)
Processing runs: 0% (0B/5B)Processing runs: 20% (1B/5B)Processing runs: 40% (2B/5B)Processing runs: 60% (3B/5B)Processing runs: 80% (4B/5B)Processing runs: 100% (5B/5B)    logs_orchestrator_test.go:250: Processed 5 runs with limit 1
--- PASS: TestDownloadRunArtifactsConcurrent_ConcurrencyLimit (7.78s)
    --- PASS: TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/default_limit (1.91s)
    --- PASS: TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/custom_limit_5 (2.12s)
    --- PASS: TestDownloadRunArtifactsConcurrent_ConcurrencyLimit/custom_limit_1_(sequential) (3.74s)
=== RUN   TestDownloadRunArtifactsConcurrent_LogsPath
Processing runs: 0% (0B/2B)Processing runs: 50% (1B/2B)Processing runs: 100% (2B/2B)--- PASS: TestDownloadRunArtifactsConcurrent_LogsPath (0.70s)
=== RUN   TestDownloadRunArtifactsConcurrent_ErrorHandling
Processing runs: 0% (0B/2B)Processing runs: 50% (1B/2B)Processing runs: 100% (2B/2B)--- PASS: TestDownloadRunArtifactsConcurrent_ErrorHandling (1.47s)
=== RUN   TestDownloadRunArtifactsConcurrent_MixedConclusions
Processing runs: 0% (0B/5B)Processing runs: 20% (1B/5B)Processing runs: 40% (2B/5B)Processing runs: 60% (3B/5B)Processing runs: 80% (4B/5B)Processing runs: 100% (5B/5B)--- PASS: TestDownloadRunArtifactsConcurrent_MixedConclusions (1.03s)
=== RUN   TestDownloadRunArtifactsConcurrent_VerboseMode
Processing runs: 0% (0B/2B)Processing runs: 50% (1B/2B)Processing runs: 100% (2B/2B)â„¹ Processing 2 runs in parallel...
â„¹ Processing run 100 (completed)...
ðŸ” Created output directory /tmp/gh-aw-test-runs/20260129-002143-306608/test-orchestrator-2575763947/run-100
â„¹ Executing: gh run download 100 --dir /tmp/gh-aw-test-runs/20260129-002143-306608/test-orchestrator-2575763947/run-100
â„¹ Processing run 200 (completed)...
ðŸ” Created output directory /tmp/gh-aw-test-runs/20260129-002143-306608/test-orchestrator-2575763947/run-200
â„¹ Executing: gh run download 200 --dir /tmp/gh-aw-test-runs/20260129-002143-306608/test-orchestrator-2575763947/run-200
ðŸ” error fetching artifacts: HTTP 404: Not Found (https://api.github.com/repos/githubnext/gh-aw/actions/runs/200/artifacts?per_page=100)

ðŸ” error fetching artifacts: HTTP 404: Not Found (https://api.github.com/repos/githubnext/gh-aw/actions/runs/100/artifacts?per_page=100)

âœ“ Completed parallel processing: 0 successful, 2 total
--- PASS: TestDownloadRunArtifactsConcurrent_VerboseMode (2.53s)
=== RUN   TestDownloadRunArtifactsConcurrent_ResultStructure
Processing runs: 0% (0B/1B)Processing runs: 100% (1B/1B)--- PASS: TestDownloadRunArtifactsConcurrent_ResultStructure (0.89s)
=== RUN   TestDownloadRunArtifactsConcurrent_PanicRecovery
Processing runs: 0% (0B/3B)Processing runs: 33% (1B/3B)Processing runs: 66% (2B/3B)Processing runs: 100% (3B/3B)--- PASS: TestDownloadRunArtifactsConcurrent_PanicRecovery (0.85s)
=== RUN   TestLogsOverviewIncludesMissingTools
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow       â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚12345         â”‚Test Workflow Aâ”‚successâ”‚5.0m    â”‚1.00k â”‚0.010   â”‚3    â”‚0     â”‚2       â”‚1            â”‚0           â”‚0    â”‚2026-01-29â”‚         â”‚
â”‚67890         â”‚Test Workflow Bâ”‚failureâ”‚3.0m    â”‚500   â”‚0.005   â”‚2    â”‚1     â”‚0       â”‚3            â”‚0           â”‚0    â”‚2026-01-29â”‚         â”‚
â”‚TOTAL (2 runs)â”‚               â”‚       â”‚8.0m    â”‚1.50k â”‚0.015   â”‚5    â”‚1     â”‚2       â”‚4            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow       â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Tools        â”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚12345         â”‚Test Workflow Aâ”‚successâ”‚5.0m    â”‚1.00k â”‚0.010   â”‚3    â”‚0     â”‚2       â”‚terraform            â”‚0           â”‚0    â”‚2026-01-29â”‚         â”‚
â”‚67890         â”‚Test Workflow Bâ”‚failureâ”‚3.0m    â”‚500   â”‚0.005   â”‚2    â”‚1     â”‚0       â”‚kubectl, docker, helmâ”‚0           â”‚0    â”‚2026-01-29â”‚         â”‚
â”‚TOTAL (2 runs)â”‚               â”‚       â”‚8.0m    â”‚1.50k â”‚0.015   â”‚5    â”‚1     â”‚2       â”‚4                    â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
--- PASS: TestLogsOverviewIncludesMissingTools (0.00s)
=== RUN   TestWorkflowRunStructHasMissingToolCount
--- PASS: TestWorkflowRunStructHasMissingToolCount (0.00s)
=== RUN   TestProcessedRunPopulatesMissingToolCount
--- PASS: TestProcessedRunPopulatesMissingToolCount (0.00s)
=== RUN   TestLogsOverviewHeaderIncludesMissing
--- PASS: TestLogsOverviewHeaderIncludesMissing (0.00s)
=== RUN   TestDisplayLogsOverviewWithVariousMissingToolCounts
=== RUN   TestDisplayLogsOverviewWithVariousMissingToolCounts/no_missing_tools
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow      â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚1             â”‚Clean Workflowâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚0            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚              â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚0            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow      â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚1             â”‚Clean Workflowâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚0            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚              â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚0            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
=== RUN   TestDisplayLogsOverviewWithVariousMissingToolCounts/single_missing_tool
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚2             â”‚Workflow with One...â”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚1            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚1            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚2             â”‚Workflow with One...â”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚terraform    â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚1            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
=== RUN   TestDisplayLogsOverviewWithVariousMissingToolCounts/multiple_missing_tools
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚3             â”‚Workflow with Mul...â”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚5            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚5            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Tools                 â”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚3             â”‚Workflow with Mul...â”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚terraform, kubectl, docker,...â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚5                             â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
=== RUN   TestDisplayLogsOverviewWithVariousMissingToolCounts/mixed_missing_tool_counts
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow  â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚4             â”‚Workflow Aâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚0            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚5             â”‚Workflow Bâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚2            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚6             â”‚Workflow Câ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚1            â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (3 runs)â”‚          â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚3            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow  â”‚Statusâ”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Tools  â”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚4             â”‚Workflow Aâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚0              â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚5             â”‚Workflow Bâ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚kubectl, dockerâ”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚6             â”‚Workflow Câ”‚      â”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚helm           â”‚0           â”‚0    â”‚0001-01-01â”‚         â”‚
â”‚TOTAL (3 runs)â”‚          â”‚      â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚3              â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
--- PASS: TestDisplayLogsOverviewWithVariousMissingToolCounts (0.00s)
    --- PASS: TestDisplayLogsOverviewWithVariousMissingToolCounts/no_missing_tools (0.00s)
    --- PASS: TestDisplayLogsOverviewWithVariousMissingToolCounts/single_missing_tool (0.00s)
    --- PASS: TestDisplayLogsOverviewWithVariousMissingToolCounts/multiple_missing_tools (0.00s)
    --- PASS: TestDisplayLogsOverviewWithVariousMissingToolCounts/mixed_missing_tool_counts (0.00s)
=== RUN   TestTotalMissingToolsCalculation
--- PASS: TestTotalMissingToolsCalculation (0.00s)
=== RUN   TestOverviewDisplayConsistency
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow        â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚99999         â”‚Consistency Testâ”‚successâ”‚10.0m   â”‚2.00k â”‚0.020   â”‚5    â”‚1     â”‚3       â”‚2            â”‚0           â”‚0    â”‚2024-01-15â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                â”‚       â”‚10.0m   â”‚2.00k â”‚0.020   â”‚5    â”‚1     â”‚3       â”‚2            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow        â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Tools     â”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚99999         â”‚Consistency Testâ”‚successâ”‚10.0m   â”‚2.00k â”‚0.020   â”‚5    â”‚1     â”‚3       â”‚terraform, kubectlâ”‚0           â”‚0    â”‚2024-01-15â”‚         â”‚
â”‚TOTAL (1 runs)â”‚                â”‚       â”‚10.0m   â”‚2.00k â”‚0.020   â”‚5    â”‚1     â”‚3       â”‚2                 â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
--- PASS: TestOverviewDisplayConsistency (0.00s)
=== RUN   TestMissingToolsIntegration
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚11111         â”‚Integration Test ...â”‚successâ”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚2            â”‚0           â”‚0    â”‚0001-01-01â”‚.        â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚       â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚2            â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Workflow Logs Overview
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run ID        â”‚Workflow            â”‚Status â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Tools     â”‚Missing Dataâ”‚Noopsâ”‚Created   â”‚Logs Pathâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚11111         â”‚Integration Test ...â”‚successâ”‚        â”‚      â”‚        â”‚     â”‚0     â”‚0       â”‚terraform, kubectlâ”‚0           â”‚0    â”‚0001-01-01â”‚.        â”‚
â”‚TOTAL (1 runs)â”‚                    â”‚       â”‚0ns     â”‚0     â”‚0.000   â”‚0    â”‚0     â”‚0       â”‚2                 â”‚0           â”‚0    â”‚          â”‚         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
--- PASS: TestMissingToolsIntegration (0.00s)
=== RUN   TestMissingToolCountFieldAccessibility
--- PASS: TestMissingToolCountFieldAccessibility (0.00s)
=== RUN   TestDownloadRunArtifactsParallel
Processing runs: 0% (0B/2B)Processing runs: 50% (1B/2B)Processing runs: 100% (2B/2B)--- PASS: TestDownloadRunArtifactsParallel (0.67s)
=== RUN   TestDownloadRunArtifactsParallelMaxRuns
Processing runs: 0% (0B/5B)Processing runs: 20% (1B/5B)Processing runs: 40% (2B/5B)Processing runs: 60% (3B/5B)Processing runs: 80% (4B/5B)Processing runs: 100% (5B/5B)--- PASS: TestDownloadRunArtifactsParallelMaxRuns (0.82s)
=== RUN   TestDownloadResult
--- PASS: TestDownloadResult (0.00s)
=== RUN   TestMaxConcurrentDownloads
--- PASS: TestMaxConcurrentDownloads (0.00s)
=== RUN   TestGetMaxConcurrentDownloads
=== RUN   TestGetMaxConcurrentDownloads/default_when_env_var_not_set
=== RUN   TestGetMaxConcurrentDownloads/valid_value_5
=== RUN   TestGetMaxConcurrentDownloads/valid_value_1_(minimum)
=== RUN   TestGetMaxConcurrentDownloads/valid_value_100_(maximum)
=== RUN   TestGetMaxConcurrentDownloads/valid_value_50
=== RUN   TestGetMaxConcurrentDownloads/invalid_non-numeric_value
âš  Invalid GH_AW_MAX_CONCURRENT_DOWNLOADS value 'invalid' (must be a number), using default 10
=== RUN   TestGetMaxConcurrentDownloads/invalid_zero_value
âš  GH_AW_MAX_CONCURRENT_DOWNLOADS value 0 is out of bounds (must be 1-100), using default 10
=== RUN   TestGetMaxConcurrentDownloads/invalid_negative_value
âš  GH_AW_MAX_CONCURRENT_DOWNLOADS value -5 is out of bounds (must be 1-100), using default 10
=== RUN   TestGetMaxConcurrentDownloads/invalid_too_large_value
âš  GH_AW_MAX_CONCURRENT_DOWNLOADS value 101 is out of bounds (must be 1-100), using default 10
=== RUN   TestGetMaxConcurrentDownloads/invalid_extremely_large_value
âš  GH_AW_MAX_CONCURRENT_DOWNLOADS value 1000 is out of bounds (must be 1-100), using default 10
--- PASS: TestGetMaxConcurrentDownloads (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/default_when_env_var_not_set (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/valid_value_5 (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/valid_value_1_(minimum) (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/valid_value_100_(maximum) (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/valid_value_50 (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/invalid_non-numeric_value (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/invalid_zero_value (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/invalid_negative_value (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/invalid_too_large_value (0.00s)
    --- PASS: TestGetMaxConcurrentDownloads/invalid_extremely_large_value (0.00s)
=== RUN   TestDownloadRunArtifactsParallelWithCancellation
Processing runs: 0% (0B/2B)--- PASS: TestDownloadRunArtifactsParallelWithCancellation (0.00s)
=== RUN   TestParseAgentLog
    logs_parse_test.go:14: Test skipped - agent log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestParseAgentLog (0.00s)
=== RUN   TestParseAgentLogWithAgentOutputDir
    logs_parse_test.go:19: Test skipped - agent log parser scripts now use require() pattern and are loaded at runtime from external files
--- SKIP: TestParseAgentLogWithAgentOutputDir (0.00s)
=== RUN   TestParseAgentLogNoAgentOutput
â„¹ No agent logs found in test-1810498194, skipping log parsing
--- PASS: TestParseAgentLogNoAgentOutput (0.00s)
=== RUN   TestParseAgentLogNoEngine
âš  No engine detected in test-2789067417, skipping log parsing
--- PASS: TestParseAgentLogNoEngine (0.00s)
=== RUN   TestParseLogFileWithEngine_FallbackParser
=== RUN   TestParseLogFileWithEngine_FallbackParser/GitHub_Actions_workflow_commands
=== RUN   TestParseLogFileWithEngine_FallbackParser/Generic_error_patterns
=== RUN   TestParseLogFileWithEngine_FallbackParser/Mixed_error_formats
=== RUN   TestParseLogFileWithEngine_FallbackParser/No_errors_or_warnings
=== RUN   TestParseLogFileWithEngine_FallbackParser/Empty_log_file
--- PASS: TestParseLogFileWithEngine_FallbackParser (0.00s)
    --- PASS: TestParseLogFileWithEngine_FallbackParser/GitHub_Actions_workflow_commands (0.00s)
    --- PASS: TestParseLogFileWithEngine_FallbackParser/Generic_error_patterns (0.00s)
    --- PASS: TestParseLogFileWithEngine_FallbackParser/Mixed_error_formats (0.00s)
    --- PASS: TestParseLogFileWithEngine_FallbackParser/No_errors_or_warnings (0.00s)
    --- PASS: TestParseLogFileWithEngine_FallbackParser/Empty_log_file (0.00s)
=== RUN   TestParseLogFileWithEngine_FallbackVsEngineSpecific
--- PASS: TestParseLogFileWithEngine_FallbackVsEngineSpecific (0.00s)
=== RUN   TestParseLogFileWithEngine_NoAwInfoJson
--- PASS: TestParseLogFileWithEngine_NoAwInfoJson (0.00s)
=== RUN   TestParseLogFileWithoutAwInfo
--- PASS: TestParseLogFileWithoutAwInfo (0.00s)
=== RUN   TestExtractJSONMetrics
=== RUN   TestExtractJSONMetrics/Claude_streaming_format_with_usage
=== RUN   TestExtractJSONMetrics/Simple_token_count_(timestamp_ignored)
=== RUN   TestExtractJSONMetrics/Cost_information
=== RUN   TestExtractJSONMetrics/Usage_object_with_cost
=== RUN   TestExtractJSONMetrics/Claude_result_format_with_total_cost_usd
=== RUN   TestExtractJSONMetrics/Claude_result_format_with_cache_tokens
=== RUN   TestExtractJSONMetrics/Not_JSON
=== RUN   TestExtractJSONMetrics/Invalid_JSON
--- PASS: TestExtractJSONMetrics (0.00s)
    --- PASS: TestExtractJSONMetrics/Claude_streaming_format_with_usage (0.00s)
    --- PASS: TestExtractJSONMetrics/Simple_token_count_(timestamp_ignored) (0.00s)
    --- PASS: TestExtractJSONMetrics/Cost_information (0.00s)
    --- PASS: TestExtractJSONMetrics/Usage_object_with_cost (0.00s)
    --- PASS: TestExtractJSONMetrics/Claude_result_format_with_total_cost_usd (0.00s)
    --- PASS: TestExtractJSONMetrics/Claude_result_format_with_cache_tokens (0.00s)
    --- PASS: TestExtractJSONMetrics/Not_JSON (0.00s)
    --- PASS: TestExtractJSONMetrics/Invalid_JSON (0.00s)
=== RUN   TestParseLogFileWithJSON
--- PASS: TestParseLogFileWithJSON (0.00s)
=== RUN   TestConvertToInt
--- PASS: TestConvertToInt (0.00s)
=== RUN   TestConvertToFloat
--- PASS: TestConvertToFloat (0.00s)
=== RUN   TestExtractJSONCost
=== RUN   TestExtractJSONCost/total_cost_usd_field
=== RUN   TestExtractJSONCost/traditional_cost_field
=== RUN   TestExtractJSONCost/nested_billing_cost
=== RUN   TestExtractJSONCost/no_cost_fields
--- PASS: TestExtractJSONCost (0.00s)
    --- PASS: TestExtractJSONCost/total_cost_usd_field (0.00s)
    --- PASS: TestExtractJSONCost/traditional_cost_field (0.00s)
    --- PASS: TestExtractJSONCost/nested_billing_cost (0.00s)
    --- PASS: TestExtractJSONCost/no_cost_fields (0.00s)
=== RUN   TestParseLogFileWithClaudeResult
--- PASS: TestParseLogFileWithClaudeResult (0.00s)
=== RUN   TestParseLogFileWithCodexFormat
--- PASS: TestParseLogFileWithCodexFormat (0.00s)
=== RUN   TestParseLogFileWithCodexTokenSumming
--- PASS: TestParseLogFileWithCodexTokenSumming (0.00s)
=== RUN   TestParseLogFileWithCodexRustFormat
--- PASS: TestParseLogFileWithCodexRustFormat (0.00s)
=== RUN   TestParseLogFileWithCodexMixedFormats
--- PASS: TestParseLogFileWithCodexMixedFormats (0.00s)
=== RUN   TestParseLogFileWithMixedTokenFormats
--- PASS: TestParseLogFileWithMixedTokenFormats (0.00s)
=== RUN   TestExtractEngineFromAwInfoNestedDirectory
â„¹ aw_info.json is a directory, trying nested file: /tmp/gh-aw-test-runs/20260129-002143-306608/test-1078352302/aw_info.json/aw_info.json
--- PASS: TestExtractEngineFromAwInfoNestedDirectory (0.00s)
=== RUN   TestParseLogFileWithNonCodexTokensOnly
--- PASS: TestParseLogFileWithNonCodexTokensOnly (0.00s)
=== RUN   TestExtractLogMetricsWithAwOutputFile
--- PASS: TestExtractLogMetricsWithAwOutputFile (0.00s)
=== RUN   TestCustomEngineParseLogMetrics
--- PASS: TestCustomEngineParseLogMetrics (0.00s)
=== RUN   TestLogsPatchArtifactHandling
ðŸ” Beginning metric extraction in /tmp/gh-aw-test-runs/20260129-002143-306608/test-2053625282/mock-run-123
âš  No engine_id found in aw_info.json
âš  aw_info.json exists but failed to extract engine
â„¹ Found agentic output file: safe_output.jsonl (34 B)
â„¹ Found git patch file: aw.patch (126 B)
--- PASS: TestLogsPatchArtifactHandling (0.00s)
=== RUN   TestLogsCommandHelp
--- PASS: TestLogsCommandHelp (0.00s)
=== RUN   TestRenderLogsConsoleUnified
## Workflow Logs Summary

  Total Runs         : 2
  Total Duration     : 10m30s
  Total Tokens       : 2.50k
  Total Cost         : $0.025
  Total Turns        : 8
  Total Errors       : 1
  Total Warnings     : 3
  Total Missing Tools: 2
  Total Missing Data : 0

## Workflow Logs Overview

â•­â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run IDâ”‚Workflow     â”‚Agent â”‚Status   â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Created            â”‚Logs Path      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚12345 â”‚test-workflowâ”‚claudeâ”‚completedâ”‚5m30s   â”‚1.00k â”‚$0.010  â”‚3    â”‚0     â”‚2       â”‚1            â”‚0           â”‚2026-01-29 00:22:59â”‚/tmp/logs/12345â”‚
â•°â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## ðŸ› ï¸  Tool Usage Summary

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool             â”‚Total Callsâ”‚Runsâ”‚Max Outputâ”‚Max Durationâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚github-mcp-serverâ”‚1.50k      â”‚5   â”‚2.4 MB    â”‚1m30s       â”‚
â”‚playwright       â”‚500        â”‚3   â”‚500.0 KB  â”‚45s         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## ðŸ› ï¸  Missing Tools Summary

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool     â”‚Occurrencesâ”‚Workflows                         â”‚First Reason                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚terraformâ”‚5          â”‚workflow-a, workflow-b, workflow-câ”‚Infrastructure automation neededâ”‚
â”‚kubectl  â”‚3          â”‚k8s-deploy                        â”‚K8s management required         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## âš ï¸  MCP Server Failures

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Server           â”‚Failuresâ”‚Workflows             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚github-mcp-serverâ”‚2       â”‚workflow-a, workflow-bâ”‚
â”‚playwright       â”‚1       â”‚browser-test          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


âœ“ âœ“ Downloaded 2 workflow logs to /tmp/logs
  â„¹ â€¢ 1 errors, 3 warnings across 2 runs
  â„¹ â€¢ 2 unique tools used
## Workflow Logs Summary

  Total Runs         : 2
  Total Duration     : 10m30s
  Total Tokens       : 2.50k
  Total Cost         : $0.025
  Total Turns        : 8
  Total Errors       : 1
  Total Warnings     : 3
  Total Missing Tools: 2
  Total Missing Data : 0

## Workflow Logs Overview

â•­â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Run IDâ”‚Workflow     â”‚Agent â”‚Status   â”‚Durationâ”‚Tokensâ”‚Cost ($)â”‚Turnsâ”‚Errorsâ”‚Warningsâ”‚Missing Toolsâ”‚Missing Dataâ”‚Created            â”‚Logs Path      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚12345 â”‚test-workflowâ”‚claudeâ”‚completedâ”‚5m30s   â”‚1.00k â”‚$0.010  â”‚3    â”‚0     â”‚2       â”‚1            â”‚0           â”‚2026-01-29 00:22:59â”‚/tmp/logs/12345â”‚
â•°â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## ðŸ› ï¸  Tool Usage Summary

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool             â”‚Total Callsâ”‚Runsâ”‚Max Outputâ”‚Max Durationâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚github-mcp-serverâ”‚1.50k      â”‚5   â”‚2.4 MB    â”‚1m30s       â”‚
â”‚playwright       â”‚500        â”‚3   â”‚500.0 KB  â”‚45s         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## ðŸ› ï¸  Missing Tools Summary

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool     â”‚Occurrencesâ”‚Workflows                         â”‚First Reason                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚terraformâ”‚5          â”‚workflow-a, workflow-b, workflow-câ”‚Infrastructure automation neededâ”‚
â”‚kubectl  â”‚3          â”‚k8s-deploy                        â”‚K8s management required         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
## âš ï¸  MCP Server Failures

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Server           â”‚Failuresâ”‚Workflows             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚github-mcp-serverâ”‚2       â”‚workflow-a, workflow-bâ”‚
â”‚playwright       â”‚1       â”‚browser-test          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


âœ“ âœ“ Downloaded 2 workflow logs to /tmp/logs
  â„¹ â€¢ 1 errors, 3 warnings across 2 runs
  â„¹ â€¢ 2 unique tools used
--- PASS: TestRenderLogsConsoleUnified (0.00s)
=== RUN   TestBuildToolUsageSummaryPopulatesDisplay
--- PASS: TestBuildToolUsageSummaryPopulatesDisplay (0.00s)
=== RUN   TestBuildMissingToolsSummaryPopulatesDisplay
--- PASS: TestBuildMissingToolsSummaryPopulatesDisplay (0.00s)
=== RUN   TestBuildMCPFailuresSummaryPopulatesDisplay
--- PASS: TestBuildMCPFailuresSummaryPopulatesDisplay (0.00s)
=== RUN   TestAddUniqueWorkflow
=== RUN   TestAddUniqueWorkflow/add_to_empty_list
=== RUN   TestAddUniqueWorkflow/add_new_workflow
=== RUN   TestAddUniqueWorkflow/duplicate_workflow_at_beginning
=== RUN   TestAddUniqueWorkflow/duplicate_workflow_in_middle
=== RUN   TestAddUniqueWorkflow/duplicate_workflow_at_end
--- PASS: TestAddUniqueWorkflow (0.00s)
    --- PASS: TestAddUniqueWorkflow/add_to_empty_list (0.00s)
    --- PASS: TestAddUniqueWorkflow/add_new_workflow (0.00s)
    --- PASS: TestAddUniqueWorkflow/duplicate_workflow_at_beginning (0.00s)
    --- PASS: TestAddUniqueWorkflow/duplicate_workflow_in_middle (0.00s)
    --- PASS: TestAddUniqueWorkflow/duplicate_workflow_at_end (0.00s)
=== RUN   TestBuildMissingToolsSummaryDeduplication
--- PASS: TestBuildMissingToolsSummaryDeduplication (0.00s)
=== RUN   TestBuildMCPFailuresSummaryDeduplication
--- PASS: TestBuildMCPFailuresSummaryDeduplication (0.00s)
=== RUN   TestAggregateSummaryItems
--- PASS: TestAggregateSummaryItems (0.00s)
=== RUN   TestAggregateDomainStats
=== RUN   TestAggregateDomainStats/aggregates_domains_correctly
=== RUN   TestAggregateDomainStats/handles_nil_analysis
=== RUN   TestAggregateDomainStats/handles_empty_runs
--- PASS: TestAggregateDomainStats (0.00s)
    --- PASS: TestAggregateDomainStats/aggregates_domains_correctly (0.00s)
    --- PASS: TestAggregateDomainStats/handles_nil_analysis (0.00s)
    --- PASS: TestAggregateDomainStats/handles_empty_runs (0.00s)
=== RUN   TestConvertDomainsToSortedSlices
=== RUN   TestConvertDomainsToSortedSlices/converts_and_sorts_domains
=== RUN   TestConvertDomainsToSortedSlices/handles_empty_maps
--- PASS: TestConvertDomainsToSortedSlices (0.00s)
    --- PASS: TestConvertDomainsToSortedSlices/converts_and_sorts_domains (0.00s)
    --- PASS: TestConvertDomainsToSortedSlices/handles_empty_maps (0.00s)
=== RUN   TestBuildAccessLogSummaryWithSharedHelper
--- PASS: TestBuildAccessLogSummaryWithSharedHelper (0.00s)
=== RUN   TestBuildFirewallLogSummaryWithSharedHelper
--- PASS: TestBuildFirewallLogSummaryWithSharedHelper (0.00s)
=== RUN   TestBuildLogsDataIncludesDateFields
--- PASS: TestBuildLogsDataIncludesDateFields (0.00s)
=== RUN   TestWriteSummaryFile
--- PASS: TestWriteSummaryFile (0.00s)
=== RUN   TestWriteSummaryFileCreatesDirectory
--- PASS: TestWriteSummaryFileCreatesDirectory (0.00s)
=== RUN   TestSummaryFileDisabling
    logs_summary_file_test.go:135: Empty summary file path correctly skips writing
--- PASS: TestSummaryFileDisabling (0.00s)
=== RUN   TestRunSummaryCachingBehavior
--- PASS: TestRunSummaryCachingBehavior (0.00s)
=== RUN   TestRunSummaryPreventsReprocessing
--- PASS: TestRunSummaryPreventsReprocessing (0.01s)
=== RUN   TestListArtifactsExcludesSummary
--- PASS: TestListArtifactsExcludesSummary (0.00s)
=== RUN   TestSaveAndLoadRunSummary
--- PASS: TestSaveAndLoadRunSummary (0.00s)
=== RUN   TestLoadRunSummaryVersionMismatch
--- PASS: TestLoadRunSummaryVersionMismatch (0.00s)
=== RUN   TestLoadRunSummaryMissingFile
--- PASS: TestLoadRunSummaryMissingFile (0.00s)
=== RUN   TestLoadRunSummaryInvalidJSON
--- PASS: TestLoadRunSummaryInvalidJSON (0.00s)
=== RUN   TestListArtifacts
--- PASS: TestListArtifacts (0.00s)
=== RUN   TestRunSummaryJSONStructure
--- PASS: TestRunSummaryJSONStructure (0.00s)
=== RUN   TestTimedOutConclusionDetection
=== RUN   TestTimedOutConclusionDetection/success_conclusion
=== RUN   TestTimedOutConclusionDetection/failure_conclusion
=== RUN   TestTimedOutConclusionDetection/cancelled_conclusion
=== RUN   TestTimedOutConclusionDetection/timed_out_conclusion
=== RUN   TestTimedOutConclusionDetection/skipped_conclusion
=== RUN   TestTimedOutConclusionDetection/neutral_conclusion
=== RUN   TestTimedOutConclusionDetection/action_required_conclusion
--- PASS: TestTimedOutConclusionDetection (0.00s)
    --- PASS: TestTimedOutConclusionDetection/success_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/failure_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/cancelled_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/timed_out_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/skipped_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/neutral_conclusion (0.00s)
    --- PASS: TestTimedOutConclusionDetection/action_required_conclusion (0.00s)
=== RUN   TestJobInfoJSONParsing
=== RUN   TestJobInfoJSONParsing/timed_out_job
=== RUN   TestJobInfoJSONParsing/failed_job
=== RUN   TestJobInfoJSONParsing/cancelled_job
=== RUN   TestJobInfoJSONParsing/successful_job
--- PASS: TestJobInfoJSONParsing (0.00s)
    --- PASS: TestJobInfoJSONParsing/timed_out_job (0.00s)
    --- PASS: TestJobInfoJSONParsing/failed_job (0.00s)
    --- PASS: TestJobInfoJSONParsing/cancelled_job (0.00s)
    --- PASS: TestJobInfoJSONParsing/successful_job (0.00s)
=== RUN   TestStatusDisplayForTimedOut
=== RUN   TestStatusDisplayForTimedOut/completed_with_timed_out
=== RUN   TestStatusDisplayForTimedOut/completed_with_failure
=== RUN   TestStatusDisplayForTimedOut/completed_with_success
=== RUN   TestStatusDisplayForTimedOut/in_progress_with_no_conclusion
=== RUN   TestStatusDisplayForTimedOut/queued_with_no_conclusion
--- PASS: TestStatusDisplayForTimedOut (0.00s)
    --- PASS: TestStatusDisplayForTimedOut/completed_with_timed_out (0.00s)
    --- PASS: TestStatusDisplayForTimedOut/completed_with_failure (0.00s)
    --- PASS: TestStatusDisplayForTimedOut/completed_with_success (0.00s)
    --- PASS: TestStatusDisplayForTimedOut/in_progress_with_no_conclusion (0.00s)
    --- PASS: TestStatusDisplayForTimedOut/queued_with_no_conclusion (0.00s)
=== RUN   TestTimedOutRunProcessing
=== RUN   TestTimedOutRunProcessing/timed_out_without_artifacts
=== RUN   TestTimedOutRunProcessing/failure_without_artifacts
=== RUN   TestTimedOutRunProcessing/cancelled_without_artifacts
=== RUN   TestTimedOutRunProcessing/success_without_artifacts
=== RUN   TestTimedOutRunProcessing/timed_out_with_artifacts
--- PASS: TestTimedOutRunProcessing (0.00s)
    --- PASS: TestTimedOutRunProcessing/timed_out_without_artifacts (0.00s)
    --- PASS: TestTimedOutRunProcessing/failure_without_artifacts (0.00s)
    --- PASS: TestTimedOutRunProcessing/cancelled_without_artifacts (0.00s)
    --- PASS: TestTimedOutRunProcessing/success_without_artifacts (0.00s)
    --- PASS: TestTimedOutRunProcessing/timed_out_with_artifacts (0.00s)
=== RUN   TestStatusDisplayIncludesTimedOut
--- PASS: TestStatusDisplayIncludesTimedOut (0.00s)
=== RUN   TestAuditDisplayIncludesTimedOut
--- PASS: TestAuditDisplayIncludesTimedOut (0.00s)
=== RUN   TestTimeoutFlagParsing
=== RUN   TestTimeoutFlagParsing/no_timeout_specified
=== RUN   TestTimeoutFlagParsing/timeout_of_50_seconds
=== RUN   TestTimeoutFlagParsing/timeout_of_120_seconds
--- PASS: TestTimeoutFlagParsing (0.00s)
    --- PASS: TestTimeoutFlagParsing/no_timeout_specified (0.00s)
    --- PASS: TestTimeoutFlagParsing/timeout_of_50_seconds (0.00s)
    --- PASS: TestTimeoutFlagParsing/timeout_of_120_seconds (0.00s)
=== RUN   TestTimeoutLogic
=== RUN   TestTimeoutLogic/no_timeout_set
=== RUN   TestTimeoutLogic/timeout_not_reached
=== RUN   TestTimeoutLogic/timeout_exactly_reached
=== RUN   TestTimeoutLogic/timeout_exceeded
--- PASS: TestTimeoutLogic (0.00s)
    --- PASS: TestTimeoutLogic/no_timeout_set (0.00s)
    --- PASS: TestTimeoutLogic/timeout_not_reached (0.00s)
    --- PASS: TestTimeoutLogic/timeout_exactly_reached (0.00s)
    --- PASS: TestTimeoutLogic/timeout_exceeded (0.00s)
=== RUN   TestMCPServerDefaultTimeout
--- PASS: TestMCPServerDefaultTimeout (0.00s)
=== RUN   TestAddMCPTool_BasicFunctionality
âœ“ Fetched 1 servers from registry
âœ“ Added MCP tool 'io.github.makenotion/notion-mcp-server' to workflow .github/workflows/test-workflow.md
âš  Workflow compilation failed. Please check your workflow configuration.
â„¹ You can fix the issues and run 'gh aw compile' manually
--- PASS: TestAddMCPTool_BasicFunctionality (0.39s)
=== RUN   TestAddMCPTool_WorkflowNotFound
--- PASS: TestAddMCPTool_WorkflowNotFound (0.00s)
=== RUN   TestAddMCPTool_ToolAlreadyExists
âœ“ Fetched 1 servers from registry
--- PASS: TestAddMCPTool_ToolAlreadyExists (0.00s)
=== RUN   TestAddMCPTool_CustomToolID
âœ“ Fetched 1 servers from registry
âœ“ Added MCP tool 'my-notion' to workflow .github/workflows/test-workflow.md
âš  Workflow compilation failed. Please check your workflow configuration.
â„¹ You can fix the issues and run 'gh aw compile' manually
--- PASS: TestAddMCPTool_CustomToolID (0.01s)
=== RUN   TestCreateMCPToolConfig_StdioTransport
--- PASS: TestCreateMCPToolConfig_StdioTransport (0.00s)
=== RUN   TestCreateMCPToolConfig_PreferredTransport
--- PASS: TestCreateMCPToolConfig_PreferredTransport (0.00s)
=== RUN   TestListAvailableServers
âœ“ Fetched 2 servers from registry
MCP registry: http://127.0.0.1:42129
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Name                                  â”‚Description          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚io.github.makenotion/notion-mcp-serverâ”‚Connect to Notion APIâ”‚
â”‚io.github.example/github-mcp-server   â”‚Connect to GitHub APIâ”‚
â”‚Total: 2 servers                      â”‚                     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â„¹ Usage: gh aw mcp add <workflow-file> <server-name>
--- PASS: TestListAvailableServers (0.00s)
=== RUN   TestCleanMCPToolID
=== RUN   TestCleanMCPToolID/remove_-mcp_suffix
=== RUN   TestCleanMCPToolID/remove_mcp-_prefix
=== RUN   TestCleanMCPToolID/remove_both_prefix_and_suffix
=== RUN   TestCleanMCPToolID/no_changes_needed
=== RUN   TestCleanMCPToolID/complex_name_with_mcp_suffix
=== RUN   TestCleanMCPToolID/complex_name_with_mcp_prefix
=== RUN   TestCleanMCPToolID/mcp_only_should_remain_unchanged
=== RUN   TestCleanMCPToolID/edge_case:_mcp-mcp
--- PASS: TestCleanMCPToolID (0.00s)
    --- PASS: TestCleanMCPToolID/remove_-mcp_suffix (0.00s)
    --- PASS: TestCleanMCPToolID/remove_mcp-_prefix (0.00s)
    --- PASS: TestCleanMCPToolID/remove_both_prefix_and_suffix (0.00s)
    --- PASS: TestCleanMCPToolID/no_changes_needed (0.00s)
    --- PASS: TestCleanMCPToolID/complex_name_with_mcp_suffix (0.00s)
    --- PASS: TestCleanMCPToolID/complex_name_with_mcp_prefix (0.00s)
    --- PASS: TestCleanMCPToolID/mcp_only_should_remain_unchanged (0.00s)
    --- PASS: TestCleanMCPToolID/edge_case:_mcp-mcp (0.00s)
=== RUN   TestEnsureMCPConfig
=== RUN   TestEnsureMCPConfig/creates_new_mcp.json_in_empty_directory
=== RUN   TestEnsureMCPConfig/adds_to_existing_config_without_gh-aw_server
=== RUN   TestEnsureMCPConfig/skips_update_when_config_is_identical
=== RUN   TestEnsureMCPConfig/updates_existing_config_with_different_settings
--- PASS: TestEnsureMCPConfig (0.00s)
    --- PASS: TestEnsureMCPConfig/creates_new_mcp.json_in_empty_directory (0.00s)
    --- PASS: TestEnsureMCPConfig/adds_to_existing_config_without_gh-aw_server (0.00s)
    --- PASS: TestEnsureMCPConfig/skips_update_when_config_is_identical (0.00s)
    --- PASS: TestEnsureMCPConfig/updates_existing_config_with_different_settings (0.00s)
=== RUN   TestMCPConfigParsing
=== PAUSE TestMCPConfigParsing
=== RUN   TestMCPConfigJSONMarshaling
=== PAUSE TestMCPConfigJSONMarshaling
=== RUN   TestEnsureMCPConfigDirectoryCreation
--- PASS: TestEnsureMCPConfigDirectoryCreation (0.00s)
=== RUN   TestMCPConfigFilePermissions
--- PASS: TestMCPConfigFilePermissions (0.00s)
=== RUN   TestSpawnSafeInputsInspector_NoSafeInputs
--- PASS: TestSpawnSafeInputsInspector_NoSafeInputs (0.01s)
=== RUN   TestSpawnSafeInputsInspector_WithSafeInputs
--- PASS: TestSpawnSafeInputsInspector_WithSafeInputs (0.01s)
=== RUN   TestSpawnSafeInputsInspector_WithImportedSafeInputs
--- PASS: TestSpawnSafeInputsInspector_WithImportedSafeInputs (0.00s)
=== RUN   TestValidateServerSecrets
=== RUN   TestValidateServerSecrets/no_environment_variables
=== RUN   TestValidateServerSecrets/valid_environment_variable
=== RUN   TestValidateServerSecrets/missing_environment_variable
=== RUN   TestValidateServerSecrets/secrets_reference_(handled_gracefully)
=== RUN   TestValidateServerSecrets/github_remote_mode_requires_GH_AW_GITHUB_TOKEN
=== RUN   TestValidateServerSecrets/github_remote_mode_with_custom_token
âš  âš ï¸  1 required secret(s) not found:
âš    âœ— CUSTOM_PAT
=== RUN   TestValidateServerSecrets/github_local_mode_does_not_require_GH_AW_GITHUB_TOKEN
--- PASS: TestValidateServerSecrets (0.00s)
    --- PASS: TestValidateServerSecrets/no_environment_variables (0.00s)
    --- PASS: TestValidateServerSecrets/valid_environment_variable (0.00s)
    --- PASS: TestValidateServerSecrets/missing_environment_variable (0.00s)
    --- PASS: TestValidateServerSecrets/secrets_reference_(handled_gracefully) (0.00s)
    --- PASS: TestValidateServerSecrets/github_remote_mode_requires_GH_AW_GITHUB_TOKEN (0.00s)
    --- PASS: TestValidateServerSecrets/github_remote_mode_with_custom_token (0.00s)
    --- PASS: TestValidateServerSecrets/github_local_mode_does_not_require_GH_AW_GITHUB_TOKEN (0.00s)
=== RUN   TestDisplayToolAllowanceHint
=== RUN   TestDisplayToolAllowanceHint/server_with_blocked_tools

â„¹ ðŸ’¡ To allow blocked tools, add them to your workflow frontmatter:

```yaml
tools:
  test-server:
    allowed:
      - tool1
      - tool2
      - tool3
      - tool4
```

â„¹ ðŸ“– For more information, see: https://github.com/githubnext/gh-aw/blob/main/docs/tools.md
=== RUN   TestDisplayToolAllowanceHint/server_with_no_allowed_list_(all_tools_allowed)

â„¹ ðŸ’¡ All tools are currently allowed (no 'allowed' list specified)

â„¹ To restrict tools, add an 'allowed' list to your workflow frontmatter:

```yaml
tools:
  open-server:
    allowed:
      - tool1  # Allow only specific tools
      - tool2
```

â„¹ ðŸ“– For more information, see: https://github.com/githubnext/gh-aw/blob/main/docs/tools.md
=== RUN   TestDisplayToolAllowanceHint/server_with_all_tools_explicitly_allowed

âœ“ âœ… All available tools are explicitly allowed in your workflow

â„¹ ðŸ“– For more information, see: https://github.com/githubnext/gh-aw/blob/main/docs/tools.md
--- PASS: TestDisplayToolAllowanceHint (0.00s)
    --- PASS: TestDisplayToolAllowanceHint/server_with_blocked_tools (0.00s)
    --- PASS: TestDisplayToolAllowanceHint/server_with_no_allowed_list_(all_tools_allowed) (0.00s)
    --- PASS: TestDisplayToolAllowanceHint/server_with_all_tools_explicitly_allowed (0.00s)
=== RUN   TestMCPInspectFiltersSafeOutputs
=== RUN   TestMCPInspectFiltersSafeOutputs/parser_includes_safe-outputs_but_inspect_filters_them
    mcp_inspect_test.go:253: âœ“ Parser correctly includes safe-outputs (to be filtered by inspect command)
    mcp_inspect_test.go:271: âœ“ Inspect command filtering works: 1 configs before filter, 0 after filter
=== RUN   TestMCPInspectFiltersSafeOutputs/mixed_configuration_filters_only_safe-outputs
    mcp_inspect_test.go:253: âœ“ Parser correctly includes safe-outputs (to be filtered by inspect command)
    mcp_inspect_test.go:271: âœ“ Inspect command filtering works: 2 configs before filter, 1 after filter
--- PASS: TestMCPInspectFiltersSafeOutputs (0.34s)
    --- PASS: TestMCPInspectFiltersSafeOutputs/parser_includes_safe-outputs_but_inspect_filters_them (0.00s)
    --- PASS: TestMCPInspectFiltersSafeOutputs/mixed_configuration_filters_only_safe-outputs (0.34s)
=== RUN   TestFilterOutSafeOutputs
=== RUN   TestFilterOutSafeOutputs/empty_input
=== RUN   TestFilterOutSafeOutputs/only_safe-outputs
=== RUN   TestFilterOutSafeOutputs/mixed_servers
=== RUN   TestFilterOutSafeOutputs/no_safe-outputs
--- PASS: TestFilterOutSafeOutputs (0.00s)
    --- PASS: TestFilterOutSafeOutputs/empty_input (0.00s)
    --- PASS: TestFilterOutSafeOutputs/only_safe-outputs (0.00s)
    --- PASS: TestFilterOutSafeOutputs/mixed_servers (0.00s)
    --- PASS: TestFilterOutSafeOutputs/no_safe-outputs (0.00s)
=== RUN   TestListWorkflowMCP
=== RUN   TestListWorkflowMCP/list_specific_workflow
MCP servers in test-workflow.md
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Server Nameâ”‚Status â”‚Tools Countâ”‚Network Accessâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚safeoutputsâ”‚âœ“ Readyâ”‚1 tool     â”‚âœ— Disabled    â”‚
â”‚github     â”‚âœ“ Readyâ”‚All tools  â”‚âœ— Disabled    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Run 'gh aw mcp list test-workflow --verbose' for detailed information
=== RUN   TestListWorkflowMCP/list_specific_workflow_verbose
MCP servers in test-workflow.md
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Server Nameâ”‚Type  â”‚Status â”‚Tools Countâ”‚Network Accessâ”‚Command/URLâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚safeoutputsâ”‚stdio â”‚âœ“ Readyâ”‚1 tool     â”‚âœ— Disabled    â”‚node       â”‚
â”‚github     â”‚dockerâ”‚âœ“ Readyâ”‚All tools  â”‚âœ— Disabled    â”‚docker     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
=== RUN   TestListWorkflowMCP/list_all_workflows

Select a workflow to view its MCP servers:

  1) test-workflow
     2 server(s): safeoutputs, github

Select (1-1): â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Workflow     â”‚Server Countâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚test-workflowâ”‚2           â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Run 'gh aw mcp list --verbose' for detailed information
Run 'gh aw mcp list <workflow-name>' to list MCP servers in a specific workflow
=== RUN   TestListWorkflowMCP/nonexistent_workflow
--- PASS: TestListWorkflowMCP (0.90s)
    --- PASS: TestListWorkflowMCP/list_specific_workflow (0.26s)
    --- PASS: TestListWorkflowMCP/list_specific_workflow_verbose (0.34s)
    --- PASS: TestListWorkflowMCP/list_all_workflows (0.29s)
    --- PASS: TestListWorkflowMCP/nonexistent_workflow (0.00s)
=== RUN   TestListWorkflowsWithMCPServers
=== RUN   TestListWorkflowsWithMCPServers/list_workflows_with_mcp

Select a workflow to view its MCP servers:

  1) with-mcp
     2 server(s): safeoutputs, github

Select (1-1): â•­â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Workflowâ”‚Server Countâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚with-mcpâ”‚2           â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Run 'gh aw mcp list --verbose' for detailed information
Run 'gh aw mcp list <workflow-name>' to list MCP servers in a specific workflow
=== RUN   TestListWorkflowsWithMCPServers/list_workflows_with_mcp_verbose

Select a workflow to view its MCP servers:

  1) with-mcp
     2 server(s): safeoutputs, github

Select (1-1): â•­â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Workflowâ”‚Server Countâ”‚MCP Servers        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚with-mcpâ”‚2           â”‚safeoutputs, githubâ”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
Run 'gh aw mcp list <workflow-name>' to list MCP servers in a specific workflow
=== RUN   TestListWorkflowsWithMCPServers/nonexistent_directory
--- PASS: TestListWorkflowsWithMCPServers (0.79s)
    --- PASS: TestListWorkflowsWithMCPServers/list_workflows_with_mcp (0.35s)
    --- PASS: TestListWorkflowsWithMCPServers/list_workflows_with_mcp_verbose (0.44s)
    --- PASS: TestListWorkflowsWithMCPServers/nonexistent_directory (0.00s)
=== RUN   TestNewMCPListSubcommand
--- PASS: TestNewMCPListSubcommand (0.00s)
=== RUN   TestDetermineConfigStatus
=== RUN   TestDetermineConfigStatus/valid_stdio_config
=== RUN   TestDetermineConfigStatus/valid_http_config
=== RUN   TestDetermineConfigStatus/valid_container_config
=== RUN   TestDetermineConfigStatus/incomplete_config
--- PASS: TestDetermineConfigStatus (0.00s)
    --- PASS: TestDetermineConfigStatus/valid_stdio_config (0.00s)
    --- PASS: TestDetermineConfigStatus/valid_http_config (0.00s)
    --- PASS: TestDetermineConfigStatus/valid_container_config (0.00s)
    --- PASS: TestDetermineConfigStatus/incomplete_config (0.00s)
=== RUN   TestFormatToolsCount
=== RUN   TestFormatToolsCount/no_restrictions
=== RUN   TestFormatToolsCount/wildcard
=== RUN   TestFormatToolsCount/single_tool
=== RUN   TestFormatToolsCount/multiple_tools
--- PASS: TestFormatToolsCount (0.00s)
    --- PASS: TestFormatToolsCount/no_restrictions (0.00s)
    --- PASS: TestFormatToolsCount/wildcard (0.00s)
    --- PASS: TestFormatToolsCount/single_tool (0.00s)
    --- PASS: TestFormatToolsCount/multiple_tools (0.00s)
=== RUN   TestFormatNetworkAccess
=== RUN   TestFormatNetworkAccess/enabled
=== RUN   TestFormatNetworkAccess/disabled
--- PASS: TestFormatNetworkAccess (0.00s)
    --- PASS: TestFormatNetworkAccess/enabled (0.00s)
    --- PASS: TestFormatNetworkAccess/disabled (0.00s)
=== RUN   TestCheckNetworkAccess
=== RUN   TestCheckNetworkAccess/nil_frontmatter
=== RUN   TestCheckNetworkAccess/no_network_field
=== RUN   TestCheckNetworkAccess/network_with_allowed_domains
=== RUN   TestCheckNetworkAccess/network_with_empty_allowed
=== RUN   TestCheckNetworkAccess/network_with_other_config
--- PASS: TestCheckNetworkAccess (0.00s)
    --- PASS: TestCheckNetworkAccess/nil_frontmatter (0.00s)
    --- PASS: TestCheckNetworkAccess/no_network_field (0.00s)
    --- PASS: TestCheckNetworkAccess/network_with_allowed_domains (0.00s)
    --- PASS: TestCheckNetworkAccess/network_with_empty_allowed (0.00s)
    --- PASS: TestCheckNetworkAccess/network_with_other_config (0.00s)
=== RUN   TestListToolsForMCP
=== RUN   TestListToolsForMCP/find_workflows_with_mcp_server
Found MCP server 'github' in 1 workflow(s): test-workflow

Run 'gh aw mcp list-tools github <workflow-name>' to list tools for a specific workflow
=== RUN   TestListToolsForMCP/find_workflows_with_safe_outputs
Found MCP server 'safeoutputs' in 1 workflow(s): test-workflow

Run 'gh aw mcp list-tools safeoutputs <workflow-name>' to list tools for a specific workflow
=== RUN   TestListToolsForMCP/mcp_server_not_found_in_any_workflow
âš  MCP server 'nonexistent-server' not found in any workflow
=== RUN   TestListToolsForMCP/mcp_server_not_found_in_specific_workflow
âš  MCP server 'github' not found in workflow 'other-workflow.md'
=== RUN   TestListToolsForMCP/nonexistent_workflow
=== RUN   TestListToolsForMCP/verbose_mode
Found MCP server 'github' in 1 workflow(s): test-workflow

Run 'gh aw mcp list-tools github <workflow-name>' to list tools for a specific workflow
--- PASS: TestListToolsForMCP (0.84s)
    --- PASS: TestListToolsForMCP/find_workflows_with_mcp_server (0.38s)
    --- PASS: TestListToolsForMCP/find_workflows_with_safe_outputs (0.00s)
    --- PASS: TestListToolsForMCP/mcp_server_not_found_in_any_workflow (0.00s)
    --- PASS: TestListToolsForMCP/mcp_server_not_found_in_specific_workflow (0.00s)
    --- PASS: TestListToolsForMCP/nonexistent_workflow (0.00s)
    --- PASS: TestListToolsForMCP/verbose_mode (0.45s)
=== RUN   TestFindWorkflowsWithMCPServer
=== RUN   TestFindWorkflowsWithMCPServer/find_github_server
Found MCP server 'github' in 2 workflow(s): workflow1, workflow3

Run 'gh aw mcp list-tools github <workflow-name>' to list tools for a specific workflow
=== RUN   TestFindWorkflowsWithMCPServer/find_safe_outputs_server
Found MCP server 'safeoutputs' in 1 workflow(s): workflow2

Run 'gh aw mcp list-tools safeoutputs <workflow-name>' to list tools for a specific workflow
=== RUN   TestFindWorkflowsWithMCPServer/find_nonexistent_server
âš  MCP server 'nonexistent' not found in any workflow
=== RUN   TestFindWorkflowsWithMCPServer/verbose_output
Found MCP server 'github' in 2 workflow(s): workflow1, workflow3

Run 'gh aw mcp list-tools github <workflow-name>' to list tools for a specific workflow
--- PASS: TestFindWorkflowsWithMCPServer (2.10s)
    --- PASS: TestFindWorkflowsWithMCPServer/find_github_server (0.96s)
    --- PASS: TestFindWorkflowsWithMCPServer/find_safe_outputs_server (0.00s)
    --- PASS: TestFindWorkflowsWithMCPServer/find_nonexistent_server (0.00s)
    --- PASS: TestFindWorkflowsWithMCPServer/verbose_output (1.14s)
=== RUN   TestDisplayToolsList
=== RUN   TestDisplayToolsList/empty_tools_list
âš  No tools available from this MCP server
âš  No tools available from this MCP server
=== RUN   TestDisplayToolsList/non_verbose_mode_uses_table_format
â„¹ 
ðŸ› ï¸  Available Tools (3 total)
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool Nameâ”‚Allowâ”‚Description                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚tool1    â”‚âœ…   â”‚This is a short description                                 â”‚
â”‚tool2    â”‚ðŸš«   â”‚This is a very long description that exceeds the maximum ...â”‚
â”‚tool3    â”‚âœ…   â”‚Another tool with a medium-length description               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ðŸ“Š Summary: 2 allowed, 1 not allowed out of 3 total tools

Run with --verbose for detailed information
=== RUN   TestDisplayToolsList/verbose_mode_includes_allow_column
â„¹ 
ðŸ› ï¸  Available Tools (3 total)
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool Nameâ”‚Allowâ”‚Description                                                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚tool1    â”‚âœ…   â”‚This is a short description                                                                                      â”‚
â”‚tool2    â”‚ðŸš«   â”‚This is a very long description that exceeds the maximum length limit and should be truncated in non-verbose modeâ”‚
â”‚tool3    â”‚âœ…   â”‚Another tool with a medium-length description                                                                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ðŸ“Š Summary: 2 allowed, 1 not allowed out of 3 total tools
=== RUN   TestDisplayToolsList/no_allowed_tools_means_all_allowed
â„¹ 
ðŸ› ï¸  Available Tools (1 total)
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool Nameâ”‚Allowâ”‚Description               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚any_tool â”‚âœ…   â”‚Any tool should be allowedâ”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ðŸ“Š Summary: 1 allowed, 0 not allowed out of 1 total tools
=== RUN   TestDisplayToolsList/workflow_config_with_wildcard
â„¹ 
ðŸ› ï¸  Available Tools (2 total)
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚Tool Nameâ”‚Allowâ”‚Descriptionâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚any_tool1â”‚âœ…   â”‚First tool â”‚
â”‚any_tool2â”‚âœ…   â”‚Second toolâ”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

ðŸ“Š Summary: 2 allowed, 0 not allowed out of 2 total tools

Run with --verbose for detailed information
--- PASS: TestDisplayToolsList (0.00s)
    --- PASS: TestDisplayToolsList/empty_tools_list (0.00s)
    --- PASS: TestDisplayToolsList/non_verbose_mode_uses_table_format (0.00s)
    --- PASS: TestDisplayToolsList/verbose_mode_includes_allow_column (0.00s)
    --- PASS: TestDisplayToolsList/no_allowed_tools_means_all_allowed (0.00s)
    --- PASS: TestDisplayToolsList/workflow_config_with_wildcard (0.00s)
=== RUN   TestNewMCPListToolsSubcommand
--- PASS: TestNewMCPListToolsSubcommand (0.00s)
=== RUN   TestCheckLogsOutputSize_SmallOutput
--- PASS: TestCheckLogsOutputSize_SmallOutput (0.00s)
=== RUN   TestCheckLogsOutputSize_LargeOutput
--- PASS: TestCheckLogsOutputSize_LargeOutput (0.00s)
=== RUN   TestCheckLogsOutputSize_ExactLimit
--- PASS: TestCheckLogsOutputSize_ExactLimit (0.00s)
=== RUN   TestCheckLogsOutputSize_JustOverLimit
--- PASS: TestCheckLogsOutputSize_JustOverLimit (0.00s)
=== RUN   TestCheckLogsOutputSize_CustomLimit
--- PASS: TestCheckLogsOutputSize_CustomLimit (0.00s)
=== RUN   TestGetLogsDataSchema
--- PASS: TestGetLogsDataSchema (0.00s)
=== RUN   TestGetSuggestedJqQueries
--- PASS: TestGetSuggestedJqQueries (0.00s)
=== RUN   TestFormatGuardrailMessage
--- PASS: TestFormatGuardrailMessage (0.00s)
=== RUN   TestGuardrailResponseJSON
--- PASS: TestGuardrailResponseJSON (0.00s)
=== RUN   TestDefaultMaxTokensConstant
--- PASS: TestDefaultMaxTokensConstant (0.00s)
=== RUN   TestEstimateTokens
--- PASS: TestEstimateTokens (0.00s)
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling/403_Forbidden
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling/401_Unauthorized
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling/404_Not_Found
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling/429_Rate_Limited
=== RUN   TestMCPRegistryClient_ImprovedErrorHandling/500_Server_Error
--- PASS: TestMCPRegistryClient_ImprovedErrorHandling (0.00s)
    --- PASS: TestMCPRegistryClient_ImprovedErrorHandling/403_Forbidden (0.00s)
    --- PASS: TestMCPRegistryClient_ImprovedErrorHandling/401_Unauthorized (0.00s)
    --- PASS: TestMCPRegistryClient_ImprovedErrorHandling/404_Not_Found (0.00s)
    --- PASS: TestMCPRegistryClient_ImprovedErrorHandling/429_Rate_Limited (0.00s)
    --- PASS: TestMCPRegistryClient_ImprovedErrorHandling/500_Server_Error (0.00s)
=== RUN   TestMCPRegistryClient_FlexibleValidation
=== RUN   TestMCPRegistryClient_FlexibleValidation/Production_registry_simulation_with_10_servers_(should_pass)
=== RUN   TestMCPRegistryClient_FlexibleValidation/Production_registry_simulation_with_9_servers_(should_fail)
=== RUN   TestMCPRegistryClient_FlexibleValidation/Custom_registry_with_5_servers_(should_pass)
âœ“ Fetched 5 servers from registry
--- PASS: TestMCPRegistryClient_FlexibleValidation (0.00s)
    --- PASS: TestMCPRegistryClient_FlexibleValidation/Production_registry_simulation_with_10_servers_(should_pass) (0.00s)
    --- PASS: TestMCPRegistryClient_FlexibleValidation/Production_registry_simulation_with_9_servers_(should_fail) (0.00s)
    --- PASS: TestMCPRegistryClient_FlexibleValidation/Custom_registry_with_5_servers_(should_pass) (0.00s)
=== RUN   TestMCPRegistryClient_GitHubRegistryAccessibility
    mcp_registry_improvements_test.go:192: Skipping integration test in short mode
--- SKIP: TestMCPRegistryClient_GitHubRegistryAccessibility (0.00s)
=== RUN   TestMCPRegistryClient_LiveSearchServers
    mcp_registry_live_test.go:13: Skipping live registry integration test in short mode
--- SKIP: TestMCPRegistryClient_LiveSearchServers (0.00s)
=== RUN   TestMCPRegistryClient_LiveGetServer
    mcp_registry_live_test.go:113: Skipping live registry integration test in short mode
--- SKIP: TestMCPRegistryClient_LiveGetServer (0.00s)
=== RUN   TestMCPRegistryClient_LiveResponseStructure
    mcp_registry_live_test.go:189: Skipping live registry integration test in short mode
--- SKIP: TestMCPRegistryClient_LiveResponseStructure (0.00s)
=== RUN   TestMCPRegistryClient_SearchServers
âœ“ Fetched 1 servers from registry
--- PASS: TestMCPRegistryClient_SearchServers (0.00s)
=== RUN   TestMCPRegistryClient_GetServer
âœ“ Fetched MCP server 'io.github.makenotion/notion-mcp-server'
--- PASS: TestMCPRegistryClient_GetServer (0.00s)
=== RUN   TestMCPRegistryClient_GetServerNotFound
âœ“ Fetched MCP server 'nonexistent'
--- PASS: TestMCPRegistryClient_GetServerNotFound (0.00s)
=== RUN   TestNewMCPRegistryClient_DefaultURL
--- PASS: TestNewMCPRegistryClient_DefaultURL (0.00s)
=== RUN   TestNewMCPRegistryClient_CustomURL
--- PASS: TestNewMCPRegistryClient_CustomURL (0.00s)
=== RUN   TestGenerateOutputSchema
=== RUN   TestGenerateOutputSchema/generates_schema_for_simple_struct
=== RUN   TestGenerateOutputSchema/generates_schema_for_struct_with_optional_fields
=== RUN   TestGenerateOutputSchema/generates_schema_for_nested_struct
=== RUN   TestGenerateOutputSchema/generates_schema_for_slice_field
=== RUN   TestGenerateOutputSchema/generates_schema_for_WorkflowStatus
=== RUN   TestGenerateOutputSchema/generates_schema_for_LogsData
=== RUN   TestGenerateOutputSchema/generates_schema_for_AuditData
--- PASS: TestGenerateOutputSchema (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_simple_struct (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_struct_with_optional_fields (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_nested_struct (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_slice_field (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_WorkflowStatus (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_LogsData (0.00s)
    --- PASS: TestGenerateOutputSchema/generates_schema_for_AuditData (0.00s)
=== RUN   TestAddSchemaDefault
=== RUN   TestAddSchemaDefault/adds_default_to_existing_property
=== RUN   TestAddSchemaDefault/handles_non-existent_property_gracefully
=== RUN   TestAddSchemaDefault/handles_nil_schema_gracefully
--- PASS: TestAddSchemaDefault (0.00s)
    --- PASS: TestAddSchemaDefault/adds_default_to_existing_property (0.00s)
    --- PASS: TestAddSchemaDefault/handles_non-existent_property_gracefully (0.00s)
    --- PASS: TestAddSchemaDefault/handles_nil_schema_gracefully (0.00s)
=== RUN   TestGenerateOutputSchemaWithDefaults
=== RUN   TestGenerateOutputSchemaWithDefaults/manually_adds_default_values_to_schema
--- PASS: TestGenerateOutputSchemaWithDefaults (0.00s)
    --- PASS: TestGenerateOutputSchemaWithDefaults/manually_adds_default_values_to_schema (0.00s)
=== RUN   TestGeneratedSchemasValidateRealOutput
=== RUN   TestGeneratedSchemasValidateRealOutput/validates_LogsData_schema_against_real_data
=== RUN   TestGeneratedSchemasValidateRealOutput/validates_AuditData_schema_against_real_data
=== RUN   TestGeneratedSchemasValidateRealOutput/validates_WorkflowStatus_schema_against_real_data
--- PASS: TestGeneratedSchemasValidateRealOutput (0.00s)
    --- PASS: TestGeneratedSchemasValidateRealOutput/validates_LogsData_schema_against_real_data (0.00s)
    --- PASS: TestGeneratedSchemasValidateRealOutput/validates_AuditData_schema_against_real_data (0.00s)
    --- PASS: TestGeneratedSchemasValidateRealOutput/validates_WorkflowStatus_schema_against_real_data (0.00s)
=== RUN   TestCheckAndSuggestSecrets
=== PAUSE TestCheckAndSuggestSecrets
=== RUN   TestSecretExtraction
=== PAUSE TestSecretExtraction
=== RUN   TestSecretSyntaxParsing
=== PAUSE TestSecretSyntaxParsing
=== RUN   TestCheckAndSuggestSecretsWithInvalidMCPSection
=== PAUSE TestCheckAndSuggestSecretsWithInvalidMCPSection
=== RUN   TestSecretExtractionEdgeCases
=== PAUSE TestSecretExtractionEdgeCases
=== RUN   TestMCPToolElicitationDefaults
=== RUN   TestMCPToolElicitationDefaults/compile_tool_has_strict_default
=== RUN   TestMCPToolElicitationDefaults/logs_tool_has_count,_timeout,_and_max_tokens_defaults
=== RUN   TestMCPToolElicitationDefaults/schema_with_defaults_is_valid_JSON_Schema
--- PASS: TestMCPToolElicitationDefaults (0.00s)
    --- PASS: TestMCPToolElicitationDefaults/compile_tool_has_strict_default (0.00s)
    --- PASS: TestMCPToolElicitationDefaults/logs_tool_has_count,_timeout,_and_max_tokens_defaults (0.00s)
    --- PASS: TestMCPToolElicitationDefaults/schema_with_defaults_is_valid_JSON_Schema (0.00s)
=== RUN   TestMCPServer_InspectTool
--- PASS: TestMCPServer_InspectTool (3.13s)
=== RUN   TestMCPServer_InspectToolInvocation
    mcp_server_inspect_test.go:174: mcp-inspect output:
        â„¹ Workflows with MCP servers:
          â€¢ test.md
        
        Run 'gh aw mcp inspect <workflow-name>' to inspect MCP servers in a specific workflow.
--- PASS: TestMCPServer_InspectToolInvocation (6.07s)
=== RUN   TestMCPToolOutputSchemas
=== RUN   TestMCPToolOutputSchemas/logs_schema_can_be_generated_(for_future_use)
    mcp_tool_schemas_test.go:47: Logs schema JSON length: 6600 bytes (ready for future use)
=== RUN   TestMCPToolOutputSchemas/audit_schema_can_be_generated_(for_future_use)
    mcp_tool_schemas_test.go:85: Audit schema JSON length: 5442 bytes (ready for future use)
=== RUN   TestMCPToolOutputSchemas/status_tool_array_schema_can_be_generated
    mcp_tool_schemas_test.go:108: Note: Status tool cannot use this schema in MCP because output schemas must be objects
--- PASS: TestMCPToolOutputSchemas (0.00s)
    --- PASS: TestMCPToolOutputSchemas/logs_schema_can_be_generated_(for_future_use) (0.00s)
    --- PASS: TestMCPToolOutputSchemas/audit_schema_can_be_generated_(for_future_use) (0.00s)
    --- PASS: TestMCPToolOutputSchemas/status_tool_array_schema_can_be_generated (0.00s)
=== RUN   TestRenderMCPToolTable
=== RUN   TestRenderMCPToolTable/empty_tools_list_returns_empty_string
=== RUN   TestRenderMCPToolTable/renders_table_with_default_options
=== RUN   TestRenderMCPToolTable/truncates_descriptions_when_requested
=== RUN   TestRenderMCPToolTable/no_truncation_when_length_is_zero
=== RUN   TestRenderMCPToolTable/hides_summary_when_disabled
=== RUN   TestRenderMCPToolTable/shows_verbose_hint_when_enabled
=== RUN   TestRenderMCPToolTable/custom_summary_format
=== RUN   TestRenderMCPToolTable/no_allowed_tools_means_all_allowed
=== RUN   TestRenderMCPToolTable/wildcard_allows_all_tools
--- PASS: TestRenderMCPToolTable (0.00s)
    --- PASS: TestRenderMCPToolTable/empty_tools_list_returns_empty_string (0.00s)
    --- PASS: TestRenderMCPToolTable/renders_table_with_default_options (0.00s)
    --- PASS: TestRenderMCPToolTable/truncates_descriptions_when_requested (0.00s)
    --- PASS: TestRenderMCPToolTable/no_truncation_when_length_is_zero (0.00s)
    --- PASS: TestRenderMCPToolTable/hides_summary_when_disabled (0.00s)
    --- PASS: TestRenderMCPToolTable/shows_verbose_hint_when_enabled (0.00s)
    --- PASS: TestRenderMCPToolTable/custom_summary_format (0.00s)
    --- PASS: TestRenderMCPToolTable/no_allowed_tools_means_all_allowed (0.00s)
    --- PASS: TestRenderMCPToolTable/wildcard_allows_all_tools (0.00s)
=== RUN   TestDefaultMCPToolTableOptions
--- PASS: TestDefaultMCPToolTableOptions (0.00s)
=== RUN   TestRenderMCPHierarchyTree
--- PASS: TestRenderMCPHierarchyTree (0.00s)
=== RUN   TestRenderMCPHierarchyTree_EmptyConfigs
--- PASS: TestRenderMCPHierarchyTree_EmptyConfigs (0.00s)
=== RUN   TestRenderMCPHierarchyTree_MissingServerInfo
--- PASS: TestRenderMCPHierarchyTree_MissingServerInfo (0.00s)
=== RUN   TestLoadWorkflowMCPConfigs
=== RUN   TestLoadWorkflowMCPConfigs/load_workflow_with_no_filter
=== RUN   TestLoadWorkflowMCPConfigs/load_workflow_with_server_filter
=== RUN   TestLoadWorkflowMCPConfigs/load_nonexistent_workflow
=== RUN   TestLoadWorkflowMCPConfigs/load_workflow_with_invalid_frontmatter
=== RUN   TestLoadWorkflowMCPConfigs/load_workflow_without_mcp_servers
--- PASS: TestLoadWorkflowMCPConfigs (1.24s)
    --- PASS: TestLoadWorkflowMCPConfigs/load_workflow_with_no_filter (0.67s)
    --- PASS: TestLoadWorkflowMCPConfigs/load_workflow_with_server_filter (0.56s)
    --- PASS: TestLoadWorkflowMCPConfigs/load_nonexistent_workflow (0.00s)
    --- PASS: TestLoadWorkflowMCPConfigs/load_workflow_with_invalid_frontmatter (0.00s)
    --- PASS: TestLoadWorkflowMCPConfigs/load_workflow_without_mcp_servers (0.00s)
=== RUN   TestScanWorkflowsForMCP
=== RUN   TestScanWorkflowsForMCP/scan_all_workflows
=== RUN   TestScanWorkflowsForMCP/scan_with_server_filter
=== RUN   TestScanWorkflowsForMCP/scan_non-existent_directory
=== RUN   TestScanWorkflowsForMCP/verbose_mode_with_invalid_file
--- PASS: TestScanWorkflowsForMCP (2.19s)
    --- PASS: TestScanWorkflowsForMCP/scan_all_workflows (0.65s)
    --- PASS: TestScanWorkflowsForMCP/scan_with_server_filter (0.65s)
    --- PASS: TestScanWorkflowsForMCP/scan_non-existent_directory (0.00s)
    --- PASS: TestScanWorkflowsForMCP/verbose_mode_with_invalid_file (0.89s)
=== RUN   TestNoStopTimeIntegration
--- PASS: TestNoStopTimeIntegration (0.00s)
=== RUN   TestFindWorkflowWithGitHubWorkflowsFallback
--- PASS: TestFindWorkflowWithGitHubWorkflowsFallback (0.00s)
=== RUN   TestFindWorkflowWithoutFallback
--- PASS: TestFindWorkflowWithoutFallback (0.00s)
=== RUN   TestFindWorkflowFallbackFailure
--- PASS: TestFindWorkflowFallbackFailure (0.00s)
=== RUN   TestFindWorkflowNonWorkflowsPath
--- PASS: TestFindWorkflowNonWorkflowsPath (0.00s)
=== RUN   TestCollectPackageIncludesRecursive
=== RUN   TestCollectPackageIncludesRecursive/single_include
=== RUN   TestCollectPackageIncludesRecursive/optional_include_with_missing_file
=== RUN   TestCollectPackageIncludesRecursive/include_with_section_reference
=== RUN   TestCollectPackageIncludesRecursive/nested_includes
=== RUN   TestCollectPackageIncludesRecursive/duplicate_includes_skipped
=== RUN   TestCollectPackageIncludesRecursive/no_includes
=== RUN   TestCollectPackageIncludesRecursive/whitespace_variations
--- PASS: TestCollectPackageIncludesRecursive (0.01s)
    --- PASS: TestCollectPackageIncludesRecursive/single_include (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/optional_include_with_missing_file (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/include_with_section_reference (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/nested_includes (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/duplicate_includes_skipped (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/no_includes (0.00s)
    --- PASS: TestCollectPackageIncludesRecursive/whitespace_variations (0.00s)
=== RUN   TestCollectPackageIncludesRecursive_CircularReference
--- PASS: TestCollectPackageIncludesRecursive_CircularReference (0.00s)
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/copy_single_dependency
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/skip_existing_file_without_force
â„¹ Include file file1.md already exists with different content, skipping (use --force to overwrite)
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/overwrite_existing_file_with_force
â„¹ Overwriting existing include file: file1.md
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/skip_optional_missing_file
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/skip_when_content_identical
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce/create_nested_directories
--- PASS: TestCopyIncludeDependenciesFromPackageWithForce (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/copy_single_dependency (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/skip_existing_file_without_force (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/overwrite_existing_file_with_force (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/skip_optional_missing_file (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/skip_when_content_identical (0.00s)
    --- PASS: TestCopyIncludeDependenciesFromPackageWithForce/create_nested_directories (0.00s)
=== RUN   TestCopyIncludeDependenciesFromPackageWithForce_FileTracker
â„¹ Overwriting existing include file: file.md
--- PASS: TestCopyIncludeDependenciesFromPackageWithForce_FileTracker (0.00s)
=== RUN   TestIncludePattern
=== RUN   TestIncludePattern/@include_shared/common.md
=== RUN   TestIncludePattern/@include?_shared/optional.md
=== RUN   TestIncludePattern/@include__shared/file.md__
=== RUN   TestIncludePattern/#_Not_an_include
=== RUN   TestIncludePattern/@include_file.md#section
--- PASS: TestIncludePattern (0.00s)
    --- PASS: TestIncludePattern/@include_shared/common.md (0.00s)
    --- PASS: TestIncludePattern/@include?_shared/optional.md (0.00s)
    --- PASS: TestIncludePattern/@include__shared/file.md__ (0.00s)
    --- PASS: TestIncludePattern/#_Not_an_include (0.00s)
    --- PASS: TestIncludePattern/@include_file.md#section (0.00s)
=== RUN   TestIsValidWorkflowFile
=== RUN   TestIsValidWorkflowFile/valid_workflow_with_frontmatter
=== RUN   TestIsValidWorkflowFile/valid_workflow_with_minimal_frontmatter
=== RUN   TestIsValidWorkflowFile/markdown_without_frontmatter
=== RUN   TestIsValidWorkflowFile/markdown_with_unclosed_frontmatter
=== RUN   TestIsValidWorkflowFile/markdown_with_invalid_YAML
=== RUN   TestIsValidWorkflowFile/empty_file
=== RUN   TestIsValidWorkflowFile/file_with_only_frontmatter
=== RUN   TestIsValidWorkflowFile/frontmatter_without_on_field
=== RUN   TestIsValidWorkflowFile/non-existent_file
--- PASS: TestIsValidWorkflowFile (0.00s)
    --- PASS: TestIsValidWorkflowFile/valid_workflow_with_frontmatter (0.00s)
    --- PASS: TestIsValidWorkflowFile/valid_workflow_with_minimal_frontmatter (0.00s)
    --- PASS: TestIsValidWorkflowFile/markdown_without_frontmatter (0.00s)
    --- PASS: TestIsValidWorkflowFile/markdown_with_unclosed_frontmatter (0.00s)
    --- PASS: TestIsValidWorkflowFile/markdown_with_invalid_YAML (0.00s)
    --- PASS: TestIsValidWorkflowFile/empty_file (0.00s)
    --- PASS: TestIsValidWorkflowFile/file_with_only_frontmatter (0.00s)
    --- PASS: TestIsValidWorkflowFile/frontmatter_without_on_field (0.00s)
    --- PASS: TestIsValidWorkflowFile/non-existent_file (0.00s)
=== RUN   TestIsValidWorkflowFileFilteringBehavior
=== RUN   TestIsValidWorkflowFileFilteringBehavior/README.md
=== RUN   TestIsValidWorkflowFileFilteringBehavior/CODE_OF_CONDUCT.md
=== RUN   TestIsValidWorkflowFileFilteringBehavior/SUPPORT.md
=== RUN   TestIsValidWorkflowFileFilteringBehavior/valid-workflow.md
=== RUN   TestIsValidWorkflowFileFilteringBehavior/malformed.md
--- PASS: TestIsValidWorkflowFileFilteringBehavior (0.00s)
    --- PASS: TestIsValidWorkflowFileFilteringBehavior/README.md (0.00s)
    --- PASS: TestIsValidWorkflowFileFilteringBehavior/CODE_OF_CONDUCT.md (0.00s)
    --- PASS: TestIsValidWorkflowFileFilteringBehavior/SUPPORT.md (0.00s)
    --- PASS: TestIsValidWorkflowFileFilteringBehavior/valid-workflow.md (0.00s)
    --- PASS: TestIsValidWorkflowFileFilteringBehavior/malformed.md (0.00s)
=== RUN   TestParseAndDisplayPoutineOutput
=== RUN   TestParseAndDisplayPoutineOutput/single_file_with_error_finding
=== RUN   TestParseAndDisplayPoutineOutput/single_file_with_warning_finding
=== RUN   TestParseAndDisplayPoutineOutput/single_file_with_note_finding
=== RUN   TestParseAndDisplayPoutineOutput/multiple_findings_in_same_file
=== RUN   TestParseAndDisplayPoutineOutput/file_with_no_findings
=== RUN   TestParseAndDisplayPoutineOutput/multiple_files_-_filter_to_target_file_only
=== RUN   TestParseAndDisplayPoutineOutput/finding_without_line_number
=== RUN   TestParseAndDisplayPoutineOutput/empty_output
=== RUN   TestParseAndDisplayPoutineOutput/invalid_JSON
--- PASS: TestParseAndDisplayPoutineOutput (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/single_file_with_error_finding (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/single_file_with_warning_finding (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/single_file_with_note_finding (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/multiple_findings_in_same_file (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/file_with_no_findings (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/multiple_files_-_filter_to_target_file_only (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/finding_without_line_number (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/empty_output (0.00s)
    --- PASS: TestParseAndDisplayPoutineOutput/invalid_JSON (0.00s)
=== RUN   TestEnsurePoutineConfig
=== RUN   TestEnsurePoutineConfig/creates_config_file_when_it_doesn't_exist
=== RUN   TestEnsurePoutineConfig/does_not_overwrite_existing_config_file
--- PASS: TestEnsurePoutineConfig (0.00s)
    --- PASS: TestEnsurePoutineConfig/creates_config_file_when_it_doesn't_exist (0.00s)
    --- PASS: TestEnsurePoutineConfig/does_not_overwrite_existing_config_file (0.00s)
=== RUN   TestWaitForWorkflowCompletionUsesSignalHandling
--- PASS: TestWaitForWorkflowCompletionUsesSignalHandling (0.69s)
=== RUN   TestParsePRURL
=== RUN   TestParsePRURL/valid_GitHub_PR_URL
=== RUN   TestParsePRURL/valid_GitHub_PR_URL_with_hyphenated_repo_name
=== RUN   TestParsePRURL/valid_GitHub_PR_URL_with_underscores
=== RUN   TestParsePRURL/invalid_URL_format
=== RUN   TestParsePRURL/non-GitHub_URL_with_valid_path_structure
=== RUN   TestParsePRURL/invalid_GitHub_URL_path_-_missing_pull
=== RUN   TestParsePRURL/invalid_GitHub_URL_path_-_wrong_format
=== RUN   TestParsePRURL/invalid_PR_number
=== RUN   TestParsePRURL/missing_owner
=== RUN   TestParsePRURL/missing_repo
--- PASS: TestParsePRURL (0.00s)
    --- PASS: TestParsePRURL/valid_GitHub_PR_URL (0.00s)
    --- PASS: TestParsePRURL/valid_GitHub_PR_URL_with_hyphenated_repo_name (0.00s)
    --- PASS: TestParsePRURL/valid_GitHub_PR_URL_with_underscores (0.00s)
    --- PASS: TestParsePRURL/invalid_URL_format (0.00s)
    --- PASS: TestParsePRURL/non-GitHub_URL_with_valid_path_structure (0.00s)
    --- PASS: TestParsePRURL/invalid_GitHub_URL_path_-_missing_pull (0.00s)
    --- PASS: TestParsePRURL/invalid_GitHub_URL_path_-_wrong_format (0.00s)
    --- PASS: TestParsePRURL/invalid_PR_number (0.00s)
    --- PASS: TestParsePRURL/missing_owner (0.00s)
    --- PASS: TestParsePRURL/missing_repo (0.00s)
=== RUN   TestPRInfo
--- PASS: TestPRInfo (0.00s)
=== RUN   TestNewPRCommand
--- PASS: TestNewPRCommand (0.00s)
=== RUN   TestNewPRTransferSubcommand
--- PASS: TestNewPRTransferSubcommand (0.00s)
=== RUN   TestParseRedactedDomainsLog
=== RUN   TestParseRedactedDomainsLog/empty_file
=== RUN   TestParseRedactedDomainsLog/single_domain
=== RUN   TestParseRedactedDomainsLog/multiple_domains
=== RUN   TestParseRedactedDomainsLog/duplicate_domains_are_deduplicated
=== RUN   TestParseRedactedDomainsLog/domains_are_sorted
=== RUN   TestParseRedactedDomainsLog/blank_lines_are_ignored
=== RUN   TestParseRedactedDomainsLog/comment_lines_are_ignored
=== RUN   TestParseRedactedDomainsLog/whitespace_is_trimmed
--- PASS: TestParseRedactedDomainsLog (0.00s)
    --- PASS: TestParseRedactedDomainsLog/empty_file (0.00s)
    --- PASS: TestParseRedactedDomainsLog/single_domain (0.00s)
    --- PASS: TestParseRedactedDomainsLog/multiple_domains (0.00s)
    --- PASS: TestParseRedactedDomainsLog/duplicate_domains_are_deduplicated (0.00s)
    --- PASS: TestParseRedactedDomainsLog/domains_are_sorted (0.00s)
    --- PASS: TestParseRedactedDomainsLog/blank_lines_are_ignored (0.00s)
    --- PASS: TestParseRedactedDomainsLog/comment_lines_are_ignored (0.00s)
    --- PASS: TestParseRedactedDomainsLog/whitespace_is_trimmed (0.00s)
=== RUN   TestParseRedactedDomainsLog_FileNotFound
--- PASS: TestParseRedactedDomainsLog_FileNotFound (0.00s)
=== RUN   TestAnalyzeRedactedDomains_DirectPath
--- PASS: TestAnalyzeRedactedDomains_DirectPath (0.00s)
=== RUN   TestAnalyzeRedactedDomains_AgentOutputsPath
--- PASS: TestAnalyzeRedactedDomains_AgentOutputsPath (0.00s)
=== RUN   TestAnalyzeRedactedDomains_FullArtifactPath
--- PASS: TestAnalyzeRedactedDomains_FullArtifactPath (0.00s)
=== RUN   TestAnalyzeRedactedDomains_NoLogFile
--- PASS: TestAnalyzeRedactedDomains_NoLogFile (0.00s)
=== RUN   TestAnalyzeRedactedDomains_RecursiveSearch
--- PASS: TestAnalyzeRedactedDomains_RecursiveSearch (0.00s)
=== RUN   TestRedactedDomainsAnalysis_ConsoleRendering
--- PASS: TestRedactedDomainsAnalysis_ConsoleRendering (0.00s)
=== RUN   TestRedactedDomainsLogSummary_ConsoleRendering
--- PASS: TestRedactedDomainsLogSummary_ConsoleRendering (0.00s)
=== RUN   TestRedactedDomainsAnalysis_EmptyDomains
--- PASS: TestRedactedDomainsAnalysis_EmptyDomains (0.00s)
=== RUN   TestRepoSlugErrorMessages
=== RUN   TestRepoSlugErrorMessages/invalid_format_-_no_slash
=== RUN   TestRepoSlugErrorMessages/invalid_format_-_too_many_slashes
=== RUN   TestRepoSlugErrorMessages/invalid_format_-_empty_owner
=== RUN   TestRepoSlugErrorMessages/invalid_format_-_empty_repo
--- PASS: TestRepoSlugErrorMessages (0.00s)
    --- PASS: TestRepoSlugErrorMessages/invalid_format_-_no_slash (0.00s)
    --- PASS: TestRepoSlugErrorMessages/invalid_format_-_too_many_slashes (0.00s)
    --- PASS: TestRepoSlugErrorMessages/invalid_format_-_empty_owner (0.00s)
    --- PASS: TestRepoSlugErrorMessages/invalid_format_-_empty_repo (0.00s)
=== RUN   TestParseRepoSpecErrorMessages
=== RUN   TestParseRepoSpecErrorMessages/invalid_format_-_single_name
=== RUN   TestParseRepoSpecErrorMessages/invalid_format_-_too_many_parts
=== RUN   TestParseRepoSpecErrorMessages/invalid_GitHub_URL
--- PASS: TestParseRepoSpecErrorMessages (0.00s)
    --- PASS: TestParseRepoSpecErrorMessages/invalid_format_-_single_name (0.00s)
    --- PASS: TestParseRepoSpecErrorMessages/invalid_format_-_too_many_parts (0.00s)
    --- PASS: TestParseRepoSpecErrorMessages/invalid_GitHub_URL (0.00s)
=== RUN   TestGetCurrentRepoSlug
    repo_test.go:41: GetCurrentRepoSlug returned consistent results (result: githubnext/gh-aw, error: <nil>)
--- PASS: TestGetCurrentRepoSlug (0.88s)
=== RUN   TestClearCurrentRepoSlugCache
    repo_test.go:73: Cache clear test passed (result: githubnext/gh-aw, error: <nil>)
--- PASS: TestClearCurrentRepoSlugCache (1.77s)
=== RUN   TestGetCurrentRepoSlugFormat
    repo_test.go:95: GetCurrentRepoSlug returned: githubnext/gh-aw
--- PASS: TestGetCurrentRepoSlugFormat (0.00s)
=== RUN   TestResolveWorkflowPath
=== RUN   TestResolveWorkflowPath/workflow_name_without_extension_in_workflows_dir
=== RUN   TestResolveWorkflowPath/workflow_name_with_extension_in_workflows_dir
=== RUN   TestResolveWorkflowPath/full_relative_path_to_shared_workflow
=== RUN   TestResolveWorkflowPath/full_relative_path_to_shared_workflow_without_extension
=== RUN   TestResolveWorkflowPath/full_relative_path_to_shared/mcp_workflow
=== RUN   TestResolveWorkflowPath/full_relative_path_to_shared/mcp_workflow_without_extension
=== RUN   TestResolveWorkflowPath/basename_only_(no_recursive_matching)
=== RUN   TestResolveWorkflowPath/partial_subpath_(no_recursive_matching)
=== RUN   TestResolveWorkflowPath/nonexistent_workflow
--- PASS: TestResolveWorkflowPath (0.00s)
    --- PASS: TestResolveWorkflowPath/workflow_name_without_extension_in_workflows_dir (0.00s)
    --- PASS: TestResolveWorkflowPath/workflow_name_with_extension_in_workflows_dir (0.00s)
    --- PASS: TestResolveWorkflowPath/full_relative_path_to_shared_workflow (0.00s)
    --- PASS: TestResolveWorkflowPath/full_relative_path_to_shared_workflow_without_extension (0.00s)
    --- PASS: TestResolveWorkflowPath/full_relative_path_to_shared/mcp_workflow (0.00s)
    --- PASS: TestResolveWorkflowPath/full_relative_path_to_shared/mcp_workflow_without_extension (0.00s)
    --- PASS: TestResolveWorkflowPath/basename_only_(no_recursive_matching) (0.00s)
    --- PASS: TestResolveWorkflowPath/partial_subpath_(no_recursive_matching) (0.00s)
    --- PASS: TestResolveWorkflowPath/nonexistent_workflow (0.00s)
=== RUN   TestNormalizeWorkflowFile
=== RUN   TestNormalizeWorkflowFile/add_.md_extension
=== RUN   TestNormalizeWorkflowFile/already_has_.md_extension
=== RUN   TestNormalizeWorkflowFile/empty_string
--- PASS: TestNormalizeWorkflowFile (0.00s)
    --- PASS: TestNormalizeWorkflowFile/add_.md_extension (0.00s)
    --- PASS: TestNormalizeWorkflowFile/already_has_.md_extension (0.00s)
    --- PASS: TestNormalizeWorkflowFile/empty_string (0.00s)
=== RUN   TestRunCommand403ErrorInCodespace
=== RUN   TestRunCommand403ErrorInCodespace/403_error_in_codespace_shows_specialized_message
=== RUN   TestRunCommand403ErrorInCodespace/forbidden_error_in_codespace_shows_specialized_message
=== RUN   TestRunCommand403ErrorInCodespace/permission_denied_in_codespace_shows_specialized_message
=== RUN   TestRunCommand403ErrorInCodespace/403_error_outside_codespace_shows_standard_error
=== RUN   TestRunCommand403ErrorInCodespace/non-403_error_in_codespace_shows_standard_error
=== RUN   TestRunCommand403ErrorInCodespace/generic_error_in_codespace_shows_standard_error
--- PASS: TestRunCommand403ErrorInCodespace (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/403_error_in_codespace_shows_specialized_message (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/forbidden_error_in_codespace_shows_specialized_message (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/permission_denied_in_codespace_shows_specialized_message (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/403_error_outside_codespace_shows_standard_error (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/non-403_error_in_codespace_shows_standard_error (0.00s)
    --- PASS: TestRunCommand403ErrorInCodespace/generic_error_in_codespace_shows_standard_error (0.00s)
=== RUN   TestCodespaceErrorMessageIntegration
--- PASS: TestCodespaceErrorMessageIntegration (0.00s)
=== RUN   TestGetWorkflowInputs
=== RUN   TestGetWorkflowInputs/workflow_with_required_and_optional_inputs
=== RUN   TestGetWorkflowInputs/workflow_with_no_inputs
=== RUN   TestGetWorkflowInputs/workflow_without_workflow_dispatch
--- PASS: TestGetWorkflowInputs (0.00s)
    --- PASS: TestGetWorkflowInputs/workflow_with_required_and_optional_inputs (0.00s)
    --- PASS: TestGetWorkflowInputs/workflow_with_no_inputs (0.00s)
    --- PASS: TestGetWorkflowInputs/workflow_without_workflow_dispatch (0.00s)
=== RUN   TestValidateWorkflowInputs
=== RUN   TestValidateWorkflowInputs/all_required_inputs_provided
=== RUN   TestValidateWorkflowInputs/missing_required_input
=== RUN   TestValidateWorkflowInputs/typo_in_input_name
=== RUN   TestValidateWorkflowInputs/multiple_errors:_missing_required_and_typo
=== RUN   TestValidateWorkflowInputs/no_inputs_defined
=== RUN   TestValidateWorkflowInputs/optional_input_not_provided_-_should_not_error
=== RUN   TestValidateWorkflowInputs/unknown_input_with_no_close_matches
--- PASS: TestValidateWorkflowInputs (0.00s)
    --- PASS: TestValidateWorkflowInputs/all_required_inputs_provided (0.00s)
    --- PASS: TestValidateWorkflowInputs/missing_required_input (0.00s)
    --- PASS: TestValidateWorkflowInputs/typo_in_input_name (0.00s)
    --- PASS: TestValidateWorkflowInputs/multiple_errors:_missing_required_and_typo (0.00s)
    --- PASS: TestValidateWorkflowInputs/no_inputs_defined (0.00s)
    --- PASS: TestValidateWorkflowInputs/optional_input_not_provided_-_should_not_error (0.00s)
    --- PASS: TestValidateWorkflowInputs/unknown_input_with_no_close_matches (0.00s)
=== RUN   TestFindRunnableWorkflows
--- PASS: TestFindRunnableWorkflows (0.00s)
=== RUN   TestBuildWorkflowDescription
=== RUN   TestBuildWorkflowDescription/no_inputs
=== RUN   TestBuildWorkflowDescription/only_required_inputs
=== RUN   TestBuildWorkflowDescription/only_optional_inputs
=== RUN   TestBuildWorkflowDescription/mixed_inputs
--- PASS: TestBuildWorkflowDescription (0.00s)
    --- PASS: TestBuildWorkflowDescription/no_inputs (0.00s)
    --- PASS: TestBuildWorkflowDescription/only_required_inputs (0.00s)
    --- PASS: TestBuildWorkflowDescription/only_optional_inputs (0.00s)
    --- PASS: TestBuildWorkflowDescription/mixed_inputs (0.00s)
=== RUN   TestBuildCommandString
=== RUN   TestBuildCommandString/basic_command
=== RUN   TestBuildCommandString/with_inputs
=== RUN   TestBuildCommandString/with_repo_override
=== RUN   TestBuildCommandString/with_ref_override
=== RUN   TestBuildCommandString/with_auto_merge_PRs
=== RUN   TestBuildCommandString/with_push_secrets
=== RUN   TestBuildCommandString/with_push
=== RUN   TestBuildCommandString/with_engine_override
=== RUN   TestBuildCommandString/all_flags
--- PASS: TestBuildCommandString (0.00s)
    --- PASS: TestBuildCommandString/basic_command (0.00s)
    --- PASS: TestBuildCommandString/with_inputs (0.00s)
    --- PASS: TestBuildCommandString/with_repo_override (0.00s)
    --- PASS: TestBuildCommandString/with_ref_override (0.00s)
    --- PASS: TestBuildCommandString/with_auto_merge_PRs (0.00s)
    --- PASS: TestBuildCommandString/with_push_secrets (0.00s)
    --- PASS: TestBuildCommandString/with_push (0.00s)
    --- PASS: TestBuildCommandString/with_engine_override (0.00s)
    --- PASS: TestBuildCommandString/all_flags (0.00s)
=== RUN   TestFindRunnableWorkflows_NoWorkflowsDir
--- PASS: TestFindRunnableWorkflows_NoWorkflowsDir (0.00s)
=== RUN   TestFindRunnableWorkflows_WithInputs
--- PASS: TestFindRunnableWorkflows_WithInputs (0.00s)
=== RUN   TestCollectWorkflowFiles_SimpleWorkflow
--- PASS: TestCollectWorkflowFiles_SimpleWorkflow (0.00s)
=== RUN   TestCollectWorkflowFiles_WithImports
--- PASS: TestCollectWorkflowFiles_WithImports (0.00s)
=== RUN   TestCollectWorkflowFiles_TransitiveImports
--- PASS: TestCollectWorkflowFiles_TransitiveImports (0.00s)
=== RUN   TestCollectWorkflowFiles_NoLockFile
../../../../../tmp/TestCollectWorkflowFiles_NoLockFile3790954182/001/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/TestCollectWorkflowFiles_NoLockFile3790954182/001/test-workflow.md (25.8 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCollectWorkflowFiles_NoLockFile (4.12s)
=== RUN   TestIsWorkflowSpecFormatLocal
=== RUN   TestIsWorkflowSpecFormatLocal/workflowspec_with_SHA
=== RUN   TestIsWorkflowSpecFormatLocal/workflowspec_without_SHA
=== RUN   TestIsWorkflowSpecFormatLocal/relative_path_with_./
=== RUN   TestIsWorkflowSpecFormatLocal/relative_path_without_./
=== RUN   TestIsWorkflowSpecFormatLocal/absolute_path
=== RUN   TestIsWorkflowSpecFormatLocal/workflowspec_with_section
=== RUN   TestIsWorkflowSpecFormatLocal/simple_filename
--- PASS: TestIsWorkflowSpecFormatLocal (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/workflowspec_with_SHA (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/workflowspec_without_SHA (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/relative_path_with_./ (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/relative_path_without_./ (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/absolute_path (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/workflowspec_with_section (0.00s)
    --- PASS: TestIsWorkflowSpecFormatLocal/simple_filename (0.00s)
=== RUN   TestResolveImportPathLocal
=== RUN   TestResolveImportPathLocal/relative_path
=== RUN   TestResolveImportPathLocal/path_with_section
=== RUN   TestResolveImportPathLocal/workflowspec_format_with_@
=== RUN   TestResolveImportPathLocal/workflowspec_format_without_@
--- PASS: TestResolveImportPathLocal (0.00s)
    --- PASS: TestResolveImportPathLocal/relative_path (0.00s)
    --- PASS: TestResolveImportPathLocal/path_with_section (0.00s)
    --- PASS: TestResolveImportPathLocal/workflowspec_format_with_@ (0.00s)
    --- PASS: TestResolveImportPathLocal/workflowspec_format_without_@ (0.00s)
=== RUN   TestCollectWorkflowFiles_WithOutdatedLockFile
--- PASS: TestCollectWorkflowFiles_WithOutdatedLockFile (0.10s)
=== RUN   TestPushWorkflowFiles_WithStagedFiles

âœ— Cannot proceed: there are already staged files in git that are not part of this workflow

â„¹ Extra staged files:
  - test-file.txt

â„¹ Please commit or unstage these files before using --push

--- PASS: TestPushWorkflowFiles_WithStagedFiles (0.01s)
=== RUN   TestRunWorkflowOnGitHub_InputValidation
=== RUN   TestRunWorkflowOnGitHub_InputValidation/empty_workflow_name
=== RUN   TestRunWorkflowOnGitHub_InputValidation/invalid_input_format_-_no_equals_sign
=== RUN   TestRunWorkflowOnGitHub_InputValidation/invalid_input_format_-_empty_key
=== RUN   TestRunWorkflowOnGitHub_InputValidation/valid_input_format_-_workflow_resolution_fails
=== RUN   TestRunWorkflowOnGitHub_InputValidation/multiple_valid_inputs_-_workflow_resolution_fails
=== RUN   TestRunWorkflowOnGitHub_InputValidation/empty_value_is_allowed_-_workflow_resolution_fails
--- PASS: TestRunWorkflowOnGitHub_InputValidation (1.39s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/empty_workflow_name (0.00s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/invalid_input_format_-_no_equals_sign (0.00s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/invalid_input_format_-_empty_key (0.00s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/valid_input_format_-_workflow_resolution_fails (0.65s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/multiple_valid_inputs_-_workflow_resolution_fails (0.42s)
    --- PASS: TestRunWorkflowOnGitHub_InputValidation/empty_value_is_allowed_-_workflow_resolution_fails (0.32s)
=== RUN   TestRunWorkflowOnGitHub_ContextCancellation
âš  Operation cancelled
--- PASS: TestRunWorkflowOnGitHub_ContextCancellation (0.00s)
=== RUN   TestRunWorkflowsOnGitHub_InputValidation
=== RUN   TestRunWorkflowsOnGitHub_InputValidation/empty_workflow_list
=== RUN   TestRunWorkflowsOnGitHub_InputValidation/single_workflow_-_resolution_fails
=== RUN   TestRunWorkflowsOnGitHub_InputValidation/multiple_workflows_-_resolution_fails
--- PASS: TestRunWorkflowsOnGitHub_InputValidation (0.00s)
    --- PASS: TestRunWorkflowsOnGitHub_InputValidation/empty_workflow_list (0.00s)
    --- PASS: TestRunWorkflowsOnGitHub_InputValidation/single_workflow_-_resolution_fails (0.00s)
    --- PASS: TestRunWorkflowsOnGitHub_InputValidation/multiple_workflows_-_resolution_fails (0.00s)
=== RUN   TestRunWorkflowsOnGitHub_ContextCancellation
âš  Operation cancelled
--- PASS: TestRunWorkflowsOnGitHub_ContextCancellation (0.00s)
=== RUN   TestRunWorkflowOnGitHub_FlagCombinations
=== RUN   TestRunWorkflowOnGitHub_FlagCombinations/push_flag_with_remote_repo
    run_workflow_execution_test.go:275: Expected error to contain one of [--push flag is only supported for local workflows GH_TOKEN environment variable], but got: failed to validate remote workflow: failed to list workflows in repository 'owner/repo': could not get workflows: HTTP 404: Not Found (https://api.github.com/repos/owner/repo/actions/workflows?per_page=50&page=1)
--- FAIL: TestRunWorkflowOnGitHub_FlagCombinations (1.15s)
    --- FAIL: TestRunWorkflowOnGitHub_FlagCombinations/push_flag_with_remote_repo (1.15s)
=== RUN   TestWorkflowRunInfo
--- PASS: TestWorkflowRunInfo (0.00s)
=== RUN   TestWorkflowRunInfo_EmptyValues
--- PASS: TestWorkflowRunInfo_EmptyValues (0.00s)
=== RUN   TestWorkflowRunInfo_StatusValues
=== RUN   TestWorkflowRunInfo_StatusValues/completed_successfully
=== RUN   TestWorkflowRunInfo_StatusValues/completed_with_failure
=== RUN   TestWorkflowRunInfo_StatusValues/in_progress
=== RUN   TestWorkflowRunInfo_StatusValues/queued
=== RUN   TestWorkflowRunInfo_StatusValues/cancelled
--- PASS: TestWorkflowRunInfo_StatusValues (0.00s)
    --- PASS: TestWorkflowRunInfo_StatusValues/completed_successfully (0.00s)
    --- PASS: TestWorkflowRunInfo_StatusValues/completed_with_failure (0.00s)
    --- PASS: TestWorkflowRunInfo_StatusValues/in_progress (0.00s)
    --- PASS: TestWorkflowRunInfo_StatusValues/queued (0.00s)
    --- PASS: TestWorkflowRunInfo_StatusValues/cancelled (0.00s)
=== RUN   TestWorkflowRunInfo_TimestampHandling
=== RUN   TestWorkflowRunInfo_TimestampHandling/valid_timestamp
=== RUN   TestWorkflowRunInfo_TimestampHandling/zero_timestamp
=== RUN   TestWorkflowRunInfo_TimestampHandling/past_timestamp
=== RUN   TestWorkflowRunInfo_TimestampHandling/future_timestamp
--- PASS: TestWorkflowRunInfo_TimestampHandling (0.00s)
    --- PASS: TestWorkflowRunInfo_TimestampHandling/valid_timestamp (0.00s)
    --- PASS: TestWorkflowRunInfo_TimestampHandling/zero_timestamp (0.00s)
    --- PASS: TestWorkflowRunInfo_TimestampHandling/past_timestamp (0.00s)
    --- PASS: TestWorkflowRunInfo_TimestampHandling/future_timestamp (0.00s)
=== RUN   TestWorkflowRunInfo_URLFormats
=== RUN   TestWorkflowRunInfo_URLFormats/standard_GitHub_URL
=== RUN   TestWorkflowRunInfo_URLFormats/GitHub_Enterprise_URL
=== RUN   TestWorkflowRunInfo_URLFormats/URL_with_query_parameters
=== RUN   TestWorkflowRunInfo_URLFormats/empty_URL
--- PASS: TestWorkflowRunInfo_URLFormats (0.00s)
    --- PASS: TestWorkflowRunInfo_URLFormats/standard_GitHub_URL (0.00s)
    --- PASS: TestWorkflowRunInfo_URLFormats/GitHub_Enterprise_URL (0.00s)
    --- PASS: TestWorkflowRunInfo_URLFormats/URL_with_query_parameters (0.00s)
    --- PASS: TestWorkflowRunInfo_URLFormats/empty_URL (0.00s)
=== RUN   TestGetLockFilePath
=== RUN   TestGetLockFilePath/regular_workflow
=== RUN   TestGetLockFilePath/campaign_workflow
=== RUN   TestGetLockFilePath/campaign_orchestrator
=== RUN   TestGetLockFilePath/workflow_in_nested_directory
--- PASS: TestGetLockFilePath (0.00s)
    --- PASS: TestGetLockFilePath/regular_workflow (0.00s)
    --- PASS: TestGetLockFilePath/campaign_workflow (0.00s)
    --- PASS: TestGetLockFilePath/campaign_orchestrator (0.00s)
    --- PASS: TestGetLockFilePath/workflow_in_nested_directory (0.00s)
=== RUN   TestIsRunnable_WithLockFile
=== RUN   TestIsRunnable_WithLockFile/workflow_with_workflow_dispatch_trigger
=== RUN   TestIsRunnable_WithLockFile/workflow_with_schedule_and_workflow_dispatch
=== RUN   TestIsRunnable_WithLockFile/workflow_without_workflow_dispatch
=== RUN   TestIsRunnable_WithLockFile/workflow_with_no_triggers
=== RUN   TestIsRunnable_WithLockFile/workflow_without_lock_file
--- PASS: TestIsRunnable_WithLockFile (0.00s)
    --- PASS: TestIsRunnable_WithLockFile/workflow_with_workflow_dispatch_trigger (0.00s)
    --- PASS: TestIsRunnable_WithLockFile/workflow_with_schedule_and_workflow_dispatch (0.00s)
    --- PASS: TestIsRunnable_WithLockFile/workflow_without_workflow_dispatch (0.00s)
    --- PASS: TestIsRunnable_WithLockFile/workflow_with_no_triggers (0.00s)
    --- PASS: TestIsRunnable_WithLockFile/workflow_without_lock_file (0.00s)
=== RUN   TestGetWorkflowInputs_WithLockFile
=== RUN   TestGetWorkflowInputs_WithLockFile/workflow_with_required_and_optional_inputs
=== RUN   TestGetWorkflowInputs_WithLockFile/workflow_with_no_inputs
=== RUN   TestGetWorkflowInputs_WithLockFile/workflow_without_workflow_dispatch
=== RUN   TestGetWorkflowInputs_WithLockFile/workflow_without_lock_file
--- PASS: TestGetWorkflowInputs_WithLockFile (0.00s)
    --- PASS: TestGetWorkflowInputs_WithLockFile/workflow_with_required_and_optional_inputs (0.00s)
    --- PASS: TestGetWorkflowInputs_WithLockFile/workflow_with_no_inputs (0.00s)
    --- PASS: TestGetWorkflowInputs_WithLockFile/workflow_without_workflow_dispatch (0.00s)
    --- PASS: TestGetWorkflowInputs_WithLockFile/workflow_without_lock_file (0.00s)
=== RUN   TestIsRunnable_RealWorldScenario
--- PASS: TestIsRunnable_RealWorldScenario (0.00s)
=== RUN   TestValidateWorkflowInputs_WithLockFile
--- PASS: TestValidateWorkflowInputs_WithLockFile (0.00s)
=== RUN   TestResolveSecretValueForSet
=== RUN   TestResolveSecretValueForSet/from_flag
=== RUN   TestResolveSecretValueForSet/from_env_var_-_set
=== RUN   TestResolveSecretValueForSet/from_env_var_-_empty
--- PASS: TestResolveSecretValueForSet (0.00s)
    --- PASS: TestResolveSecretValueForSet/from_flag (0.00s)
    --- PASS: TestResolveSecretValueForSet/from_env_var_-_set (0.00s)
    --- PASS: TestResolveSecretValueForSet/from_env_var_-_empty (0.00s)
=== RUN   TestEncryptWithPublicKey
--- PASS: TestEncryptWithPublicKey (0.00s)
=== RUN   TestEncryptWithPublicKeyInvalidKey
=== RUN   TestEncryptWithPublicKeyInvalidKey/invalid_base64
=== RUN   TestEncryptWithPublicKeyInvalidKey/wrong_key_length
--- PASS: TestEncryptWithPublicKeyInvalidKey (0.00s)
    --- PASS: TestEncryptWithPublicKeyInvalidKey/invalid_base64 (0.00s)
    --- PASS: TestEncryptWithPublicKeyInvalidKey/wrong_key_length (0.00s)
=== RUN   TestEncryptWithPublicKeyEmptyPlaintext
--- PASS: TestEncryptWithPublicKeyEmptyPlaintext (0.00s)
=== RUN   TestEncryptDecryptRoundTrip
--- PASS: TestEncryptDecryptRoundTrip (0.00s)
=== RUN   TestNewSecretsCommand
--- PASS: TestNewSecretsCommand (0.00s)
=== RUN   TestSecretsCommandHelp
Manage GitHub Actions secrets and tokens for GitHub Agentic Workflows.

This command provides tools for managing secrets required by agentic workflows, including
AI API keys (Anthropic, OpenAI, GitHub Copilot) and GitHub tokens for workflow execution.

Available subcommands:
  â€¢ set       - Create or update individual secrets
  â€¢ bootstrap - Validate and configure all required secrets for workflows

Use 'gh aw init --tokens' to check which secrets are configured for your repository.

Examples:
  gh aw secrets set MY_SECRET --value "secret123"    # Set a secret directly
  gh aw secrets bootstrap                             # Check all required secrets
  gh aw init --tokens --engine copilot                # Validate Copilot tokens

Usage:
  secrets
  secrets [command]

Available Commands:
  bootstrap   Check and suggest setup for gh aw GitHub token secrets
  set         Create or update a repository secret

Use "secrets [command] --help" for more information about a command.
--- PASS: TestSecretsCommandHelp (0.00s)
=== RUN   TestSecretsCommandStructure
=== RUN   TestSecretsCommandStructure/secrets_command_exists
--- PASS: TestSecretsCommandStructure (0.00s)
    --- PASS: TestSecretsCommandStructure/secrets_command_exists (0.00s)
=== RUN   TestExtractSecretName
=== RUN   TestExtractSecretName/simple_secret
=== RUN   TestExtractSecretName/secret_with_default_value
=== RUN   TestExtractSecretName/secret_with_spaces
=== RUN   TestExtractSecretName/bearer_token
=== RUN   TestExtractSecretName/no_secret
=== RUN   TestExtractSecretName/empty_value
--- PASS: TestExtractSecretName (0.00s)
    --- PASS: TestExtractSecretName/simple_secret (0.00s)
    --- PASS: TestExtractSecretName/secret_with_default_value (0.00s)
    --- PASS: TestExtractSecretName/secret_with_spaces (0.00s)
    --- PASS: TestExtractSecretName/bearer_token (0.00s)
    --- PASS: TestExtractSecretName/no_secret (0.00s)
    --- PASS: TestExtractSecretName/empty_value (0.00s)
=== RUN   TestExtractSecretsFromConfig
=== RUN   TestExtractSecretsFromConfig/HTTP_headers_with_secrets
=== RUN   TestExtractSecretsFromConfig/env_vars_with_secrets
=== RUN   TestExtractSecretsFromConfig/mixed_headers_and_env
=== RUN   TestExtractSecretsFromConfig/no_secrets
=== RUN   TestExtractSecretsFromConfig/duplicate_secrets_(should_only_appear_once)
--- PASS: TestExtractSecretsFromConfig (0.00s)
    --- PASS: TestExtractSecretsFromConfig/HTTP_headers_with_secrets (0.00s)
    --- PASS: TestExtractSecretsFromConfig/env_vars_with_secrets (0.00s)
    --- PASS: TestExtractSecretsFromConfig/mixed_headers_and_env (0.00s)
    --- PASS: TestExtractSecretsFromConfig/no_secrets (0.00s)
    --- PASS: TestExtractSecretsFromConfig/duplicate_secrets_(should_only_appear_once) (0.00s)
=== RUN   TestCheckSecretsAvailability
=== RUN   TestCheckSecretsAvailability/secret_in_environment
=== RUN   TestCheckSecretsAvailability/secret_not_found
=== RUN   TestCheckSecretsAvailability/multiple_secrets_mixed_availability
--- PASS: TestCheckSecretsAvailability (0.00s)
    --- PASS: TestCheckSecretsAvailability/secret_in_environment (0.00s)
    --- PASS: TestCheckSecretsAvailability/secret_not_found (0.00s)
    --- PASS: TestCheckSecretsAvailability/multiple_secrets_mixed_availability (0.00s)
=== RUN   TestSecurityCLICommandInjectionPrevention
=== RUN   TestSecurityCLICommandInjectionPrevention/valid_workflow_name
=== RUN   TestSecurityCLICommandInjectionPrevention/workflow_name_with_semicolon
=== RUN   TestSecurityCLICommandInjectionPrevention/workflow_name_with_backticks
=== RUN   TestSecurityCLICommandInjectionPrevention/workflow_name_with_dollar_paren
=== RUN   TestSecurityCLICommandInjectionPrevention/workflow_name_with_pipe
=== RUN   TestSecurityCLICommandInjectionPrevention/workflow_name_with_ampersand
--- PASS: TestSecurityCLICommandInjectionPrevention (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/valid_workflow_name (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/workflow_name_with_semicolon (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/workflow_name_with_backticks (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/workflow_name_with_dollar_paren (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/workflow_name_with_pipe (0.00s)
    --- PASS: TestSecurityCLICommandInjectionPrevention/workflow_name_with_ampersand (0.00s)
=== RUN   TestSecurityCLIPathSanitization
=== RUN   TestSecurityCLIPathSanitization/simple_filename
=== RUN   TestSecurityCLIPathSanitization/relative_path
=== RUN   TestSecurityCLIPathSanitization/parent_traversal
=== RUN   TestSecurityCLIPathSanitization/hidden_parent_traversal
=== RUN   TestSecurityCLIPathSanitization/null_byte_injection
=== RUN   TestSecurityCLIPathSanitization/nested_subdir
--- PASS: TestSecurityCLIPathSanitization (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/simple_filename (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/relative_path (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/parent_traversal (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/hidden_parent_traversal (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/null_byte_injection (0.00s)
    --- PASS: TestSecurityCLIPathSanitization/nested_subdir (0.00s)
=== RUN   TestSecurityCLIUnsafeFlagCombinations
=== RUN   TestSecurityCLIUnsafeFlagCombinations/force_overwrite_without_confirm
=== RUN   TestSecurityCLIUnsafeFlagCombinations/trial_mode_safe
=== RUN   TestSecurityCLIUnsafeFlagCombinations/no_emit_safe
--- PASS: TestSecurityCLIUnsafeFlagCombinations (0.00s)
    --- PASS: TestSecurityCLIUnsafeFlagCombinations/force_overwrite_without_confirm (0.00s)
    --- PASS: TestSecurityCLIUnsafeFlagCombinations/trial_mode_safe (0.00s)
    --- PASS: TestSecurityCLIUnsafeFlagCombinations/no_emit_safe (0.00s)
=== RUN   TestSecurityCLIInputSizeLimits
=== RUN   TestSecurityCLIInputSizeLimits/reasonable_workflow
    security_regression_test.go:312: Created test file: 77 bytes
=== RUN   TestSecurityCLIInputSizeLimits/large_markdown_content
    security_regression_test.go:312: Created test file: 22074 bytes
--- PASS: TestSecurityCLIInputSizeLimits (0.01s)
    --- PASS: TestSecurityCLIInputSizeLimits/reasonable_workflow (0.00s)
    --- PASS: TestSecurityCLIInputSizeLimits/large_markdown_content (0.01s)
=== RUN   TestSecurityCLIEnvironmentVariableSanitization
=== RUN   TestSecurityCLIEnvironmentVariableSanitization/valid_env_var
=== RUN   TestSecurityCLIEnvironmentVariableSanitization/env_var_with_newline
=== RUN   TestSecurityCLIEnvironmentVariableSanitization/env_var_with_special_chars
--- PASS: TestSecurityCLIEnvironmentVariableSanitization (0.00s)
    --- PASS: TestSecurityCLIEnvironmentVariableSanitization/valid_env_var (0.00s)
    --- PASS: TestSecurityCLIEnvironmentVariableSanitization/env_var_with_newline (0.00s)
    --- PASS: TestSecurityCLIEnvironmentVariableSanitization/env_var_with_special_chars (0.00s)
=== RUN   TestSecurityCLIWorkflowFileValidation
=== RUN   TestSecurityCLIWorkflowFileValidation/valid_workflow
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/workflow-validation-test3216799017/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/workflow-validation-test3216799017/test-workflow.md (25.7 KB)
=== RUN   TestSecurityCLIWorkflowFileValidation/workflow_with_secrets_expression
=== RUN   TestSecurityCLIWorkflowFileValidation/workflow_without_frontmatter
=== RUN   TestSecurityCLIWorkflowFileValidation/workflow_with_invalid_yaml
--- PASS: TestSecurityCLIWorkflowFileValidation (0.86s)
    --- PASS: TestSecurityCLIWorkflowFileValidation/valid_workflow (0.85s)
    --- PASS: TestSecurityCLIWorkflowFileValidation/workflow_with_secrets_expression (0.01s)
    --- PASS: TestSecurityCLIWorkflowFileValidation/workflow_without_frontmatter (0.00s)
    --- PASS: TestSecurityCLIWorkflowFileValidation/workflow_with_invalid_yaml (0.00s)
=== RUN   TestSecurityCLIOutputDirectorySafety
=== RUN   TestSecurityCLIOutputDirectorySafety/valid_relative_dir
=== RUN   TestSecurityCLIOutputDirectorySafety/valid_custom_dir
=== RUN   TestSecurityCLIOutputDirectorySafety/parent_traversal_dir
=== RUN   TestSecurityCLIOutputDirectorySafety/nested_traversal
--- PASS: TestSecurityCLIOutputDirectorySafety (0.00s)
    --- PASS: TestSecurityCLIOutputDirectorySafety/valid_relative_dir (0.00s)
    --- PASS: TestSecurityCLIOutputDirectorySafety/valid_custom_dir (0.00s)
    --- PASS: TestSecurityCLIOutputDirectorySafety/parent_traversal_dir (0.00s)
    --- PASS: TestSecurityCLIOutputDirectorySafety/nested_traversal (0.00s)
=== RUN   TestIsPreciseVersion
=== RUN   TestIsPreciseVersion/major_only_-_not_precise
=== RUN   TestIsPreciseVersion/major.minor_-_not_precise
=== RUN   TestIsPreciseVersion/major.minor.patch_-_precise
=== RUN   TestIsPreciseVersion/major.minor.patch_non-zero_-_precise
=== RUN   TestIsPreciseVersion/full_version_-_precise
=== RUN   TestIsPreciseVersion/without_v_prefix_-_precise
=== RUN   TestIsPreciseVersion/single_digit_major_-_not_precise
=== RUN   TestIsPreciseVersion/three_component_version_-_precise
--- PASS: TestIsPreciseVersion (0.00s)
    --- PASS: TestIsPreciseVersion/major_only_-_not_precise (0.00s)
    --- PASS: TestIsPreciseVersion/major.minor_-_not_precise (0.00s)
    --- PASS: TestIsPreciseVersion/major.minor.patch_-_precise (0.00s)
    --- PASS: TestIsPreciseVersion/major.minor.patch_non-zero_-_precise (0.00s)
    --- PASS: TestIsPreciseVersion/full_version_-_precise (0.00s)
    --- PASS: TestIsPreciseVersion/without_v_prefix_-_precise (0.00s)
    --- PASS: TestIsPreciseVersion/single_digit_major_-_not_precise (0.00s)
    --- PASS: TestIsPreciseVersion/three_component_version_-_precise (0.00s)
=== RUN   TestPreciseVersionPreference
--- PASS: TestPreciseVersionPreference (0.00s)
=== RUN   TestIsSemanticVersionTag
=== RUN   TestIsSemanticVersionTag/version_with_v_prefix
=== RUN   TestIsSemanticVersionTag/version_without_v_prefix
=== RUN   TestIsSemanticVersionTag/version_with_two_parts
=== RUN   TestIsSemanticVersionTag/version_with_one_part
=== RUN   TestIsSemanticVersionTag/version_with_prerelease
=== RUN   TestIsSemanticVersionTag/version_with_build_metadata
=== RUN   TestIsSemanticVersionTag/branch_name
=== RUN   TestIsSemanticVersionTag/branch_name_with_dash
=== RUN   TestIsSemanticVersionTag/commit_sha
=== RUN   TestIsSemanticVersionTag/random_string
--- PASS: TestIsSemanticVersionTag (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_with_v_prefix (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_without_v_prefix (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_with_two_parts (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_with_one_part (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_with_prerelease (0.00s)
    --- PASS: TestIsSemanticVersionTag/version_with_build_metadata (0.00s)
    --- PASS: TestIsSemanticVersionTag/branch_name (0.00s)
    --- PASS: TestIsSemanticVersionTag/branch_name_with_dash (0.00s)
    --- PASS: TestIsSemanticVersionTag/commit_sha (0.00s)
    --- PASS: TestIsSemanticVersionTag/random_string (0.00s)
=== RUN   TestParseVersion
=== RUN   TestParseVersion/full_version_with_v
=== RUN   TestParseVersion/full_version_without_v
=== RUN   TestParseVersion/version_with_prerelease
=== RUN   TestParseVersion/two-part_version
=== RUN   TestParseVersion/one-part_version
=== RUN   TestParseVersion/invalid_version
=== RUN   TestParseVersion/branch_name
--- PASS: TestParseVersion (0.00s)
    --- PASS: TestParseVersion/full_version_with_v (0.00s)
    --- PASS: TestParseVersion/full_version_without_v (0.00s)
    --- PASS: TestParseVersion/version_with_prerelease (0.00s)
    --- PASS: TestParseVersion/two-part_version (0.00s)
    --- PASS: TestParseVersion/one-part_version (0.00s)
    --- PASS: TestParseVersion/invalid_version (0.00s)
    --- PASS: TestParseVersion/branch_name (0.00s)
=== RUN   TestVersionIsNewer
=== RUN   TestVersionIsNewer/newer_major
=== RUN   TestVersionIsNewer/older_major
=== RUN   TestVersionIsNewer/newer_minor
=== RUN   TestVersionIsNewer/older_minor
=== RUN   TestVersionIsNewer/newer_patch
=== RUN   TestVersionIsNewer/older_patch
=== RUN   TestVersionIsNewer/same_version
=== RUN   TestVersionIsNewer/release_vs_prerelease
=== RUN   TestVersionIsNewer/prerelease_vs_release
=== RUN   TestVersionIsNewer/same_with_prerelease
--- PASS: TestVersionIsNewer (0.00s)
    --- PASS: TestVersionIsNewer/newer_major (0.00s)
    --- PASS: TestVersionIsNewer/older_major (0.00s)
    --- PASS: TestVersionIsNewer/newer_minor (0.00s)
    --- PASS: TestVersionIsNewer/older_minor (0.00s)
    --- PASS: TestVersionIsNewer/newer_patch (0.00s)
    --- PASS: TestVersionIsNewer/older_patch (0.00s)
    --- PASS: TestVersionIsNewer/same_version (0.00s)
    --- PASS: TestVersionIsNewer/release_vs_prerelease (0.00s)
    --- PASS: TestVersionIsNewer/prerelease_vs_release (0.00s)
    --- PASS: TestVersionIsNewer/same_with_prerelease (0.00s)
=== RUN   TestDetectShell
=== RUN   TestDetectShell/detect_bash_from_BASH_VERSION
=== RUN   TestDetectShell/detect_zsh_from_ZSH_VERSION
=== RUN   TestDetectShell/detect_fish_from_FISH_VERSION
=== RUN   TestDetectShell/detect_bash_from_SHELL_path
=== RUN   TestDetectShell/detect_zsh_from_SHELL_path
=== RUN   TestDetectShell/detect_fish_from_SHELL_path
=== RUN   TestDetectShell/detect_powershell_from_SHELL_path
=== RUN   TestDetectShell/unknown_shell
--- PASS: TestDetectShell (0.00s)
    --- PASS: TestDetectShell/detect_bash_from_BASH_VERSION (0.00s)
    --- PASS: TestDetectShell/detect_zsh_from_ZSH_VERSION (0.00s)
    --- PASS: TestDetectShell/detect_fish_from_FISH_VERSION (0.00s)
    --- PASS: TestDetectShell/detect_bash_from_SHELL_path (0.00s)
    --- PASS: TestDetectShell/detect_zsh_from_SHELL_path (0.00s)
    --- PASS: TestDetectShell/detect_fish_from_SHELL_path (0.00s)
    --- PASS: TestDetectShell/detect_powershell_from_SHELL_path (0.00s)
    --- PASS: TestDetectShell/unknown_shell (0.00s)
=== RUN   TestDetectShellNoShellEnv
--- PASS: TestDetectShellNoShellEnv (0.00s)
=== RUN   TestDetectShellPrioritizesVersionVariable
--- PASS: TestDetectShellPrioritizesVersionVariable (0.00s)
=== RUN   TestShellTypeString
=== RUN   TestShellTypeString/bash
=== RUN   TestShellTypeString/zsh
=== RUN   TestShellTypeString/fish
=== RUN   TestShellTypeString/powershell
=== RUN   TestShellTypeString/unknown
--- PASS: TestShellTypeString (0.00s)
    --- PASS: TestShellTypeString/bash (0.00s)
    --- PASS: TestShellTypeString/zsh (0.00s)
    --- PASS: TestShellTypeString/fish (0.00s)
    --- PASS: TestShellTypeString/powershell (0.00s)
    --- PASS: TestShellTypeString/unknown (0.00s)
=== RUN   TestUninstallBashCompletion
âœ“ Removed bash completion from: /tmp/TestUninstallBashCompletion640144279/001/.bash_completion.d/gh-aw
â„¹ Please restart your shell for changes to take effect
--- PASS: TestUninstallBashCompletion (0.00s)
=== RUN   TestUninstallBashCompletionNotFound
--- PASS: TestUninstallBashCompletionNotFound (0.00s)
=== RUN   TestUninstallZshCompletion
âœ“ Removed zsh completion from: /tmp/TestUninstallZshCompletion2549196971/001/.zsh/completions/_gh-aw
â„¹ Please restart your shell for changes to take effect
--- PASS: TestUninstallZshCompletion (0.00s)
=== RUN   TestUninstallZshCompletionNotFound
--- PASS: TestUninstallZshCompletionNotFound (0.00s)
=== RUN   TestUninstallFishCompletion
âœ“ Removed fish completion from: /tmp/TestUninstallFishCompletion452190716/001/.config/fish/completions/gh-aw.fish
â„¹ Fish will automatically detect the removal on next shell start
--- PASS: TestUninstallFishCompletion (0.00s)
=== RUN   TestUninstallFishCompletionNotFound
--- PASS: TestUninstallFishCompletionNotFound (0.00s)
=== RUN   TestUninstallShellCompletion
=== RUN   TestUninstallShellCompletion/bash_uninstall_success
â„¹ Detected shell: bash
âœ“ Removed bash completion from: /tmp/TestUninstallShellCompletion3357978246/001/.bash_completion.d/gh-aw
â„¹ Please restart your shell for changes to take effect
=== RUN   TestUninstallShellCompletion/zsh_uninstall_success
â„¹ Detected shell: zsh
âœ“ Removed zsh completion from: /tmp/TestUninstallShellCompletion3357978246/001/.zsh/completions/_gh-aw
â„¹ Please restart your shell for changes to take effect
=== RUN   TestUninstallShellCompletion/fish_uninstall_success
â„¹ Detected shell: fish
âœ“ Removed fish completion from: /tmp/TestUninstallShellCompletion3357978246/001/.config/fish/completions/gh-aw.fish
â„¹ Fish will automatically detect the removal on next shell start
=== RUN   TestUninstallShellCompletion/unknown_shell_fails
--- PASS: TestUninstallShellCompletion (0.00s)
    --- PASS: TestUninstallShellCompletion/bash_uninstall_success (0.00s)
    --- PASS: TestUninstallShellCompletion/zsh_uninstall_success (0.00s)
    --- PASS: TestUninstallShellCompletion/fish_uninstall_success (0.00s)
    --- PASS: TestUninstallShellCompletion/unknown_shell_fails (0.00s)
=== RUN   TestPollWithSignalHandling_Success
--- PASS: TestPollWithSignalHandling_Success (0.02s)
=== RUN   TestPollWithSignalHandling_Failure
--- PASS: TestPollWithSignalHandling_Failure (0.00s)
=== RUN   TestPollWithSignalHandling_Timeout
--- PASS: TestPollWithSignalHandling_Timeout (0.10s)
=== RUN   TestPollWithSignalHandling_ImmediateSuccess
--- PASS: TestPollWithSignalHandling_ImmediateSuccess (0.00s)
=== RUN   TestPollWithSignalHandling_SignalInterruption
    signal_aware_poll_test.go:103: Signal interruption requires manual testing - implementation verified by code review
--- SKIP: TestPollWithSignalHandling_SignalInterruption (0.00s)
=== RUN   TestParseGitHubURL
=== RUN   TestParseGitHubURL/blob_URL_with_main_branch
=== RUN   TestParseGitHubURL/tree_URL_with_develop_branch
=== RUN   TestParseGitHubURL/raw_URL_with_version_tag
=== RUN   TestParseGitHubURL/invalid_-_non-github_domain
=== RUN   TestParseGitHubURL/invalid_-_path_too_short
=== RUN   TestParseGitHubURL/invalid_-_wrong_URL_type
=== RUN   TestParseGitHubURL/invalid_-_missing_.md_extension
=== RUN   TestParseGitHubURL/raw.githubusercontent.com_with_refs/heads/branch
=== RUN   TestParseGitHubURL/raw.githubusercontent.com_with_commit_SHA
=== RUN   TestParseGitHubURL/raw.githubusercontent.com_with_refs/tags/tag
--- PASS: TestParseGitHubURL (0.00s)
    --- PASS: TestParseGitHubURL/blob_URL_with_main_branch (0.00s)
    --- PASS: TestParseGitHubURL/tree_URL_with_develop_branch (0.00s)
    --- PASS: TestParseGitHubURL/raw_URL_with_version_tag (0.00s)
    --- PASS: TestParseGitHubURL/invalid_-_non-github_domain (0.00s)
    --- PASS: TestParseGitHubURL/invalid_-_path_too_short (0.00s)
    --- PASS: TestParseGitHubURL/invalid_-_wrong_URL_type (0.00s)
    --- PASS: TestParseGitHubURL/invalid_-_missing_.md_extension (0.00s)
    --- PASS: TestParseGitHubURL/raw.githubusercontent.com_with_refs/heads/branch (0.00s)
    --- PASS: TestParseGitHubURL/raw.githubusercontent.com_with_commit_SHA (0.00s)
    --- PASS: TestParseGitHubURL/raw.githubusercontent.com_with_refs/tags/tag (0.00s)
=== RUN   TestParseRepoSpec
=== RUN   TestParseRepoSpec/repo_with_version_tag
=== RUN   TestParseRepoSpec/repo_with_branch
=== RUN   TestParseRepoSpec/repo_without_version
=== RUN   TestParseRepoSpec/repo_with_commit_SHA
=== RUN   TestParseRepoSpec/invalid_format_-_missing_owner
=== RUN   TestParseRepoSpec/invalid_format_-_missing_repo
=== RUN   TestParseRepoSpec/invalid_format_-_no_slash
=== RUN   TestParseRepoSpec/GitHub_URL_without_version
=== RUN   TestParseRepoSpec/GitHub_URL_with_version
=== RUN   TestParseRepoSpec/GitHub_URL_with_branch
=== RUN   TestParseRepoSpec/invalid_GitHub_URL_-_missing_repo
=== RUN   TestParseRepoSpec/invalid_GitHub_URL_-_too_many_path_parts
--- PASS: TestParseRepoSpec (0.00s)
    --- PASS: TestParseRepoSpec/repo_with_version_tag (0.00s)
    --- PASS: TestParseRepoSpec/repo_with_branch (0.00s)
    --- PASS: TestParseRepoSpec/repo_without_version (0.00s)
    --- PASS: TestParseRepoSpec/repo_with_commit_SHA (0.00s)
    --- PASS: TestParseRepoSpec/invalid_format_-_missing_owner (0.00s)
    --- PASS: TestParseRepoSpec/invalid_format_-_missing_repo (0.00s)
    --- PASS: TestParseRepoSpec/invalid_format_-_no_slash (0.00s)
    --- PASS: TestParseRepoSpec/GitHub_URL_without_version (0.00s)
    --- PASS: TestParseRepoSpec/GitHub_URL_with_version (0.00s)
    --- PASS: TestParseRepoSpec/GitHub_URL_with_branch (0.00s)
    --- PASS: TestParseRepoSpec/invalid_GitHub_URL_-_missing_repo (0.00s)
    --- PASS: TestParseRepoSpec/invalid_GitHub_URL_-_too_many_path_parts (0.00s)
=== RUN   TestParseWorkflowSpec
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_blob_with_main_branch
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_blob_with_version_tag
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_tree_with_branch
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_raw_format
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_commit_SHA
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_invalid_domain
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_missing_file_extension
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_invalid_path_(too_short)
=== RUN   TestParseWorkflowSpec/GitHub_URL_-_invalid_type
=== RUN   TestParseWorkflowSpec/three-part_spec_with_version
=== RUN   TestParseWorkflowSpec/three-part_spec_without_version
=== RUN   TestParseWorkflowSpec/four-part_spec_with_workflows_prefix
=== RUN   TestParseWorkflowSpec/nested_path_with_version
=== RUN   TestParseWorkflowSpec/invalid_-_too_few_parts
=== RUN   TestParseWorkflowSpec/invalid_-_four_parts_without_.md_extension
=== RUN   TestParseWorkflowSpec/invalid_-_empty_owner
=== RUN   TestParseWorkflowSpec/invalid_-_empty_repo
=== RUN   TestParseWorkflowSpec/invalid_-_bad_GitHub_identifier
=== RUN   TestParseWorkflowSpec//files/_format_with_branch
=== RUN   TestParseWorkflowSpec//files/_format_with_commit_SHA
=== RUN   TestParseWorkflowSpec//files/_format_with_tag
--- PASS: TestParseWorkflowSpec (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_blob_with_main_branch (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_blob_with_version_tag (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_tree_with_branch (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_raw_format (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_commit_SHA (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_invalid_domain (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_missing_file_extension (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_invalid_path_(too_short) (0.00s)
    --- PASS: TestParseWorkflowSpec/GitHub_URL_-_invalid_type (0.00s)
    --- PASS: TestParseWorkflowSpec/three-part_spec_with_version (0.00s)
    --- PASS: TestParseWorkflowSpec/three-part_spec_without_version (0.00s)
    --- PASS: TestParseWorkflowSpec/four-part_spec_with_workflows_prefix (0.00s)
    --- PASS: TestParseWorkflowSpec/nested_path_with_version (0.00s)
    --- PASS: TestParseWorkflowSpec/invalid_-_too_few_parts (0.00s)
    --- PASS: TestParseWorkflowSpec/invalid_-_four_parts_without_.md_extension (0.00s)
    --- PASS: TestParseWorkflowSpec/invalid_-_empty_owner (0.00s)
    --- PASS: TestParseWorkflowSpec/invalid_-_empty_repo (0.00s)
    --- PASS: TestParseWorkflowSpec/invalid_-_bad_GitHub_identifier (0.00s)
    --- PASS: TestParseWorkflowSpec//files/_format_with_branch (0.00s)
    --- PASS: TestParseWorkflowSpec//files/_format_with_commit_SHA (0.00s)
    --- PASS: TestParseWorkflowSpec//files/_format_with_tag (0.00s)
=== RUN   TestParseLocalWorkflowSpec
=== RUN   TestParseLocalWorkflowSpec/valid_local_workflow
=== RUN   TestParseLocalWorkflowSpec/local_workflow_in_current_directory
=== RUN   TestParseLocalWorkflowSpec/local_workflow_without_.md_extension
=== RUN   TestParseLocalWorkflowSpec/nested_local_workflow
--- PASS: TestParseLocalWorkflowSpec (1.05s)
    --- PASS: TestParseLocalWorkflowSpec/valid_local_workflow (1.05s)
    --- PASS: TestParseLocalWorkflowSpec/local_workflow_in_current_directory (0.00s)
    --- PASS: TestParseLocalWorkflowSpec/local_workflow_without_.md_extension (0.00s)
    --- PASS: TestParseLocalWorkflowSpec/nested_local_workflow (0.00s)
=== RUN   TestWorkflowSpecString
=== RUN   TestWorkflowSpecString/with_version
=== RUN   TestWorkflowSpecString/without_version
=== RUN   TestWorkflowSpecString/with_branch
=== RUN   TestWorkflowSpecString/local_workflow
=== RUN   TestWorkflowSpecString/local_workflow_in_current_directory
--- PASS: TestWorkflowSpecString (0.00s)
    --- PASS: TestWorkflowSpecString/with_version (0.00s)
    --- PASS: TestWorkflowSpecString/without_version (0.00s)
    --- PASS: TestWorkflowSpecString/with_branch (0.00s)
    --- PASS: TestWorkflowSpecString/local_workflow (0.00s)
    --- PASS: TestWorkflowSpecString/local_workflow_in_current_directory (0.00s)
=== RUN   TestParseSourceSpec
=== RUN   TestParseSourceSpec/full_spec_with_tag
=== RUN   TestParseSourceSpec/full_spec_with_branch
=== RUN   TestParseSourceSpec/spec_without_ref
=== RUN   TestParseSourceSpec/nested_path
=== RUN   TestParseSourceSpec/invalid_format_-_too_few_parts
=== RUN   TestParseSourceSpec/invalid_format_-_missing_owner
--- PASS: TestParseSourceSpec (0.00s)
    --- PASS: TestParseSourceSpec/full_spec_with_tag (0.00s)
    --- PASS: TestParseSourceSpec/full_spec_with_branch (0.00s)
    --- PASS: TestParseSourceSpec/spec_without_ref (0.00s)
    --- PASS: TestParseSourceSpec/nested_path (0.00s)
    --- PASS: TestParseSourceSpec/invalid_format_-_too_few_parts (0.00s)
    --- PASS: TestParseSourceSpec/invalid_format_-_missing_owner (0.00s)
=== RUN   TestBuildSourceString
=== RUN   TestBuildSourceString/workflow_with_version
=== RUN   TestBuildSourceString/workflow_with_branch
=== RUN   TestBuildSourceString/workflow_without_version
=== RUN   TestBuildSourceString/workflow_with_nested_path
=== RUN   TestBuildSourceString/empty_repo
=== RUN   TestBuildSourceString/empty_workflow_path
=== RUN   TestBuildSourceString/local_workflow_without_version
=== RUN   TestBuildSourceString/local_workflow_with_version_(should_still_work)
--- PASS: TestBuildSourceString (0.00s)
    --- PASS: TestBuildSourceString/workflow_with_version (0.00s)
    --- PASS: TestBuildSourceString/workflow_with_branch (0.00s)
    --- PASS: TestBuildSourceString/workflow_without_version (0.00s)
    --- PASS: TestBuildSourceString/workflow_with_nested_path (0.00s)
    --- PASS: TestBuildSourceString/empty_repo (0.00s)
    --- PASS: TestBuildSourceString/empty_workflow_path (0.00s)
    --- PASS: TestBuildSourceString/local_workflow_without_version (0.00s)
    --- PASS: TestBuildSourceString/local_workflow_with_version_(should_still_work) (0.00s)
=== RUN   TestBuildSourceStringWithCommitSHA
=== RUN   TestBuildSourceStringWithCommitSHA/with_commit_SHA
=== RUN   TestBuildSourceStringWithCommitSHA/with_commit_SHA_overrides_version
=== RUN   TestBuildSourceStringWithCommitSHA/without_commit_SHA_falls_back_to_version
=== RUN   TestBuildSourceStringWithCommitSHA/without_commit_SHA_or_version
=== RUN   TestBuildSourceStringWithCommitSHA/empty_repo_with_commit_SHA
=== RUN   TestBuildSourceStringWithCommitSHA/local_workflow_with_commit_SHA
=== RUN   TestBuildSourceStringWithCommitSHA/local_workflow_without_commit_SHA
--- PASS: TestBuildSourceStringWithCommitSHA (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/with_commit_SHA (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/with_commit_SHA_overrides_version (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/without_commit_SHA_falls_back_to_version (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/without_commit_SHA_or_version (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/empty_repo_with_commit_SHA (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/local_workflow_with_commit_SHA (0.00s)
    --- PASS: TestBuildSourceStringWithCommitSHA/local_workflow_without_commit_SHA (0.00s)
=== RUN   TestIsCommitSHA
=== RUN   TestIsCommitSHA/valid_SHA
=== RUN   TestIsCommitSHA/valid_SHA_lowercase
=== RUN   TestIsCommitSHA/valid_SHA_uppercase
=== RUN   TestIsCommitSHA/valid_SHA_mixed_case
=== RUN   TestIsCommitSHA/invalid_-_too_short
=== RUN   TestIsCommitSHA/invalid_-_too_long
=== RUN   TestIsCommitSHA/invalid_-_contains_non-hex
=== RUN   TestIsCommitSHA/invalid_-_empty
=== RUN   TestIsCommitSHA/invalid_-_branch_name
=== RUN   TestIsCommitSHA/invalid_-_version_tag
--- PASS: TestIsCommitSHA (0.00s)
    --- PASS: TestIsCommitSHA/valid_SHA (0.00s)
    --- PASS: TestIsCommitSHA/valid_SHA_lowercase (0.00s)
    --- PASS: TestIsCommitSHA/valid_SHA_uppercase (0.00s)
    --- PASS: TestIsCommitSHA/valid_SHA_mixed_case (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_too_short (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_too_long (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_contains_non-hex (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_empty (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_branch_name (0.00s)
    --- PASS: TestIsCommitSHA/invalid_-_version_tag (0.00s)
=== RUN   TestParseAwInfo
=== RUN   TestParseAwInfo/staged_true_as_boolean
=== RUN   TestParseAwInfo/staged_false_as_boolean
=== RUN   TestParseAwInfo/no_staged_field
=== RUN   TestParseAwInfo/missing_file
=== RUN   TestParseAwInfo/invalid_json
=== RUN   TestParseAwInfo/staged_as_directory_with_nested_file
=== RUN   TestParseAwInfo/complete_aw_info_structure
--- PASS: TestParseAwInfo (0.00s)
    --- PASS: TestParseAwInfo/staged_true_as_boolean (0.00s)
    --- PASS: TestParseAwInfo/staged_false_as_boolean (0.00s)
    --- PASS: TestParseAwInfo/no_staged_field (0.00s)
    --- PASS: TestParseAwInfo/missing_file (0.00s)
    --- PASS: TestParseAwInfo/invalid_json (0.00s)
    --- PASS: TestParseAwInfo/staged_as_directory_with_nested_file (0.00s)
    --- PASS: TestParseAwInfo/complete_aw_info_structure (0.00s)
=== RUN   TestStatusWorkflows_JSONOutput
=== RUN   TestStatusWorkflows_JSONOutput/JSON_output_without_pattern
âœ“ Fetched 36 public and 13 internal workflows
[
  {
    "workflow": "agent-performance-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "agent-persona-explorer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "ai-moderator",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issue_comment": {
        "lock-for-agent": true,
        "types": [
          "created"
        ]
      },
      "issues": {
        "lock-for-agent": true,
        "types": [
          "opened"
        ]
      },
      "workflow_dispatch": {
        "inputs": {
          "issue_url": {
            "description": "Issue URL to moderate (e.g., https://github.com/owner/repo/issues/123)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "archie",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "reaction": "eyes",
      "slash_command": {
        "events": [
          "issues",
          "issue_comment",
          "pull_request",
          "pull_request_comment"
        ],
        "name": "archie"
      }
    }
  },
  {
    "workflow": "artifacts-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on sunday around 06:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "audit-workflows",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "auto-triage-issues",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issues": {
        "types": [
          "opened",
          "edited"
        ]
      },
      "schedule": "every 6h"
    }
  },
  {
    "workflow": "blog-auditor",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on wednesday around 12:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "brave",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment"
        ],
        "name": "brave"
      }
    }
  },
  {
    "workflow": "breaking-change-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "0 14 * * 1-5",
      "skip-if-match": "is:issue is:open in:title \"[breaking-change]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "changeset",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "changeset",
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "chroma-issue-indexer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 */4 * * *"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ci-coach",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ci-doctor",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "11d 4h",
    "on": {
      "stop-after": "+1mo",
      "workflow_run": {
        "branches": [
          "main"
        ],
        "types": [
          "completed"
        ],
        "workflows": [
          "CI"
        ]
      }
    }
  },
  {
    "workflow": "claude-code-user-docs-review",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cli-consistency-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cli-version-checker",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "cloclo",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issues": {
        "names": [
          "cloclo"
        ],
        "types": [
          "labeled"
        ]
      },
      "slash_command": {
        "name": "cloclo"
      }
    }
  },
  {
    "workflow": "code-scanning-fixer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[code-scanning-fix]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "code-simplifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:pr is:open in:title \"[code-simplifier]\""
    }
  },
  {
    "workflow": "codex-github-remote-mcp-test",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "commit-changes-analyzer",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "commit_url": {
            "description": "GitHub commit URL to analyze changes since (e.g., https://github.com/owner/repo/commit/abc123)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "copilot-agent-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-cli-deep-research",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ]
    }
  },
  {
    "workflow": "copilot-pr-merged-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-pr-nlp-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 10 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-pr-prompt-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "copilot-session-insights",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "craft",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "issues"
        ],
        "name": "craft"
      }
    }
  },
  {
    "workflow": "daily-assign-issue-to-user",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-choice-test",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 12 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-cli-performance",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-code-metrics",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-compiler-quality",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-copilot-token-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-doc-updater",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-fact",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-file-diet",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "skip-if-match": "is:issue is:open in:title \"[file-diet]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-firewall-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-issues-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "daily-malicious-code-scan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-multi-device-docs-tester",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": {
        "inputs": {
          "devices": {
            "default": "mobile,tablet,desktop",
            "description": "Device types to test (comma-separated: mobile,tablet,desktop)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "daily-news",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-observability-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "daily-performance-summary",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-regulatory",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-repo-chronicle",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 16 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-safe-output-optimizer",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:issue is:open in:title \"[safeoutputs]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-secrets-analysis",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-semgrep-scan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-team-evolution-insights",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-team-status",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "11d 4h",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1-5"
        }
      ],
      "stop-after": "+1mo",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-testify-uber-super-expert",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "skip-if-match": "is:issue is:open in:title \"[testify-expert]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "daily-workflow-updater",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "deep-report",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "delight",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dependabot-bundler",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[dependabot-bundle]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dependabot-go-checker",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 9 * * 1,3,5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dev-hawk",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_run": {
        "branches": [
          "copilot/*"
        ],
        "types": [
          "completed"
        ],
        "workflows": [
          "Dev"
        ]
      }
    }
  },
  {
    "workflow": "dev",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "developer-docs-consolidator",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "dictation-prompt",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 6 * * 0"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "discussion-task-miner",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "every 4h"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "docs-noob-tester",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "draft-pr-cleanup",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "duplicate-code-detector",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "example-custom-error-patterns",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issues": {
        "types": [
          "opened"
        ]
      }
    }
  },
  {
    "workflow": "example-permissions-warning",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "example-workflow-analyzer",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "firewall-escape",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "firewall-escape-test"
        ],
        "types": [
          "labeled"
        ]
      },
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "firewall",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-mcp-structural-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-mcp-tools-report",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on sunday around 12:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "github-remote-mcp-auth-test",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "glossary-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 10 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-fan",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 7 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-logger",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "go-pattern-detector",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 14 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "grumpy-reviewer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment",
          "pull_request_review_comment"
        ],
        "name": "grumpy"
      }
    }
  },
  {
    "workflow": "hourly-ci-cleaner",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 6,18 * * *"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "instructions-janitor",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-arborist",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-classifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issues": {
        "types": [
          "opened"
        ]
      },
      "reaction": "eyes"
    }
  },
  {
    "workflow": "issue-monster",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "every 1h",
      "skip-if-match": {
        "max": 9,
        "query": "is:pr is:open is:draft author:app/copilot-swe-agent"
      },
      "skip-if-no-match": "is:issue is:open",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "issue-triage-agent",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "0 14 * * 1-5",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "jsweep",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "layout-spec-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 7 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "lockfile-stats",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "mcp-inspector",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on monday around 18:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "mergefest",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment"
        ],
        "name": "mergefest"
      }
    }
  },
  {
    "workflow": "metrics-collector",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "notion-issue-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "issue-number": {
            "description": "Issue number to analyze",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "org-health-report",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "pdf-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment",
          "issues"
        ],
        "name": "summarize"
      },
      "workflow_dispatch": {
        "inputs": {
          "query": {
            "default": "summarize in the context of this repository",
            "description": "Query or question to answer about the resource(s)",
            "required": false,
            "type": "string"
          },
          "url": {
            "description": "URL(s) to resource(s) to analyze (comma-separated for multiple URLs)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "plan",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "issue_comment",
          "discussion_comment"
        ],
        "name": "plan"
      }
    }
  },
  {
    "workflow": "poem-bot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "issues"
        ],
        "name": "poem-bot"
      },
      "workflow_dispatch": {
        "inputs": {
          "poem_theme": {
            "default": "technology and automation",
            "description": "Theme for the generated poem",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "portfolio-analyst",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on monday around 09:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "pr-nitpick-reviewer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "slash_command": "nit"
    }
  },
  {
    "workflow": "pr-triage-agent",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "0 */6 * * *",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "prompt-clustering-analysis",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "python-data-charts",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "q",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "reaction": "rocket",
      "slash_command": {
        "name": "q"
      }
    }
  },
  {
    "workflow": "release",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "release_type": {
            "description": "Release type (patch, minor, or major)",
            "options": [
              "patch",
              "minor",
              "major"
            ],
            "required": true,
            "type": "choice"
          }
        }
      }
    }
  },
  {
    "workflow": "repo-audit-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "repository": {
            "default": "FStarLang/FStar",
            "description": "Target repository to audit (e.g., FStarLang/FStar)",
            "required": false,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "repo-tree-map",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly on monday around 15:00",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "repository-quality-improver",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 13 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "research",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Research topic or question to investigate",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "safe-output-health",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "schema-consistency-checker",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "scout",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "name": "scout"
      },
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Research topic or question",
            "required": true
          }
        }
      }
    }
  },
  {
    "workflow": "secret-scanning-triage",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "security-alert-burndown",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "security-compliance",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "audit_date": {
            "description": "Audit deadline (YYYY-MM-DD)",
            "required": true
          },
          "max_issues": {
            "default": "500",
            "description": "Maximum vulnerabilities to process",
            "required": false
          },
          "severity_threshold": {
            "default": "high",
            "description": "Minimum severity to fix (critical, high, medium)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "security-fix-pr",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "skip-if-match": "is:pr is:open in:title \"[security-fix]\"",
      "workflow_dispatch": {
        "inputs": {
          "security_url": {
            "default": "",
            "description": "Security alert URL (e.g., https://github.com/owner/repo/security/code-scanning/123)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "security-guard",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "types": [
          "opened",
          "synchronize",
          "reopened"
        ]
      }
    }
  },
  {
    "workflow": "security-review",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "slash_command": {
        "events": [
          "pull_request_comment",
          "pull_request_review_comment"
        ],
        "name": "security-review"
      }
    }
  },
  {
    "workflow": "semantic-function-refactor",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "sergo",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "slide-deck-maintainer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 16 * * 1-5"
        }
      ],
      "skip-if-match": "is:pr is:open in:title \"[slides]\"",
      "workflow_dispatch": {
        "inputs": {
          "focus": {
            "default": "global-sweep",
            "description": "Focus area (feature-deep-dive or global-sweep)",
            "required": false
          }
        }
      }
    }
  },
  {
    "workflow": "smoke-claude",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "heart",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-codex",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "hooray",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-copilot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "eyes",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-opencode",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "stale-repo-identifier",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "0 9 1 * *",
      "workflow_dispatch": {
        "inputs": {
          "organization": {
            "default": "github",
            "description": "GitHub organization to scan for stale repositories",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "static-analysis-report",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "step-name-alignment",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "daily"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "sub-issue-closer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "super-linter",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 14 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "technical-doc-writer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "topic": {
            "description": "Documentation topic to review",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "terminal-stylist",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "test-create-pr-error-handling",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "tidy",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "push": {
        "branches": [
          "main"
        ],
        "paths": [
          "**/*.go",
          "**/*.js",
          "**/*.cjs",
          "**/*.ts"
        ]
      },
      "reaction": "eyes",
      "schedule": [
        {
          "cron": "0 7 * * *"
        }
      ],
      "slash_command": {
        "events": [
          "pull_request_comment"
        ]
      },
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "typist",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 11 * * 1-5"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "ubuntu-image-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly",
      "skip-if-match": "is:pr is:open in:title \"[ubuntu-image]\"",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "unbloat-docs",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "slash_command": {
        "events": [
          "pull_request_comment"
        ],
        "name": "unbloat"
      },
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "video-analyzer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "workflow_dispatch": {
        "inputs": {
          "video_url": {
            "description": "URL to video file to analyze (must be publicly accessible)",
            "required": true,
            "type": "string"
          }
        }
      }
    }
  },
  {
    "workflow": "weekly-issue-summary",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "schedule": [
        {
          "cron": "0 15 * * 1"
        }
      ],
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "workflow-generator",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "issues": {
        "lock-for-agent": true,
        "types": [
          "opened"
        ]
      },
      "reaction": "eyes"
    }
  },
  {
    "workflow": "workflow-health-manager",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": "daily"
  },
  {
    "workflow": "workflow-normalizer",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "daily",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "workflow-skill-extractor",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "schedule": "weekly",
      "workflow_dispatch": null
    }
  }
]
=== RUN   TestStatusWorkflows_JSONOutput/JSON_output_with_pattern
âœ“ Fetched 36 public and 13 internal workflows
[
  {
    "workflow": "smoke-claude",
    "engine_id": "claude",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "heart",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-codex",
    "engine_id": "codex",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "hooray",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-copilot",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "active",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "eyes",
      "schedule": "every 12h",
      "workflow_dispatch": null
    }
  },
  {
    "workflow": "smoke-opencode",
    "engine_id": "copilot",
    "compiled": "Yes",
    "status": "Unknown",
    "time_remaining": "N/A",
    "on": {
      "pull_request": {
        "names": [
          "smoke"
        ],
        "types": [
          "labeled"
        ]
      },
      "reaction": "rocket",
      "schedule": "daily",
      "workflow_dispatch": null
    }
  }
]
--- PASS: TestStatusWorkflows_JSONOutput (2.85s)
    --- PASS: TestStatusWorkflows_JSONOutput/JSON_output_without_pattern (1.46s)
    --- PASS: TestStatusWorkflows_JSONOutput/JSON_output_with_pattern (1.39s)
=== RUN   TestWorkflowStatus_JSONMarshaling
--- PASS: TestWorkflowStatus_JSONMarshaling (0.00s)
=== RUN   TestStatusCommand_JSONOutputValidation
    status_command_test.go:169: Successfully parsed 141 workflow status entries
    status_command_test.go:170: First entry: workflow=agent-performance-analyzer, engine_id=copilot, compiled=Yes
--- PASS: TestStatusCommand_JSONOutputValidation (5.52s)
=== RUN   TestStatusCommand_JSONOutputWithPattern
    status_command_test.go:227: Successfully parsed 4 filtered workflow status entries
--- PASS: TestStatusCommand_JSONOutputWithPattern (2.27s)
=== RUN   TestStatusCommand_JSONOutputIncludesOnField
    status_command_test.go:283: 'on' field for workflow 'agent-performance-analyzer': daily
    status_command_test.go:286: Successfully verified 'on' field for 141 workflow(s)
--- PASS: TestStatusCommand_JSONOutputIncludesOnField (1.68s)
=== RUN   TestWorkflowStatus_ConsoleRendering
--- PASS: TestWorkflowStatus_ConsoleRendering (0.00s)
=== RUN   TestWorkflowStatus_JSONMarshalingWithRunStatus
--- PASS: TestWorkflowStatus_JSONMarshalingWithRunStatus (0.00s)
=== RUN   TestWorkflowStatus_JSONMarshalingWithEmptyRunStatus
--- PASS: TestWorkflowStatus_JSONMarshalingWithEmptyRunStatus (0.00s)
=== RUN   TestWorkflowStatus_JSONMarshalingWithLabels
--- PASS: TestWorkflowStatus_JSONMarshalingWithLabels (0.00s)
=== RUN   TestWorkflowStatus_JSONMarshalingWithEmptyLabels
--- PASS: TestWorkflowStatus_JSONMarshalingWithEmptyLabels (0.00s)
=== RUN   TestWorkflowStatus_ConsoleRenderingWithRunStatus
--- PASS: TestWorkflowStatus_ConsoleRenderingWithRunStatus (0.00s)
=== RUN   TestStatusWorkflows_WithRepoOverride
âœ— no .github/workflows directory found
âœ— no .github/workflows directory found
--- PASS: TestStatusWorkflows_WithRepoOverride (0.00s)
=== RUN   TestToolGraph
--- PASS: TestToolGraph (0.00s)
=== RUN   TestToolGraphMultipleSequences
--- PASS: TestToolGraphMultipleSequences (0.00s)
=== RUN   TestToolGraphEmptySequences
--- PASS: TestToolGraphEmptySequences (0.00s)
=== RUN   TestTrialConfirmationLipglossRendering
=== RUN   TestTrialConfirmationLipglossRendering/single_workflow_basic
    trial_command_lipgloss_test.go:165: Test case: Should render single workflow without errors
    trial_command_lipgloss_test.go:166: Workflows: 1
    trial_command_lipgloss_test.go:167: Logical repo: owner/logical
    trial_command_lipgloss_test.go:168: Clone repo: 
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: false
    trial_command_lipgloss_test.go:171: Push secrets: false
    trial_command_lipgloss_test.go:172: Auto-merge PRs: false
    trial_command_lipgloss_test.go:173: Repeat count: 0
    trial_command_lipgloss_test.go:174: Direct trial mode: false
=== RUN   TestTrialConfirmationLipglossRendering/multiple_workflows
    trial_command_lipgloss_test.go:165: Test case: Should render multiple workflows without errors
    trial_command_lipgloss_test.go:166: Workflows: 2
    trial_command_lipgloss_test.go:167: Logical repo: owner/logical
    trial_command_lipgloss_test.go:168: Clone repo: 
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: false
    trial_command_lipgloss_test.go:171: Push secrets: false
    trial_command_lipgloss_test.go:172: Auto-merge PRs: false
    trial_command_lipgloss_test.go:173: Repeat count: 0
    trial_command_lipgloss_test.go:174: Direct trial mode: false
=== RUN   TestTrialConfirmationLipglossRendering/clone-repo_mode
    trial_command_lipgloss_test.go:165: Test case: Should render clone-repo mode without errors
    trial_command_lipgloss_test.go:166: Workflows: 1
    trial_command_lipgloss_test.go:167: Logical repo: 
    trial_command_lipgloss_test.go:168: Clone repo: owner/source
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: true
    trial_command_lipgloss_test.go:171: Push secrets: true
    trial_command_lipgloss_test.go:172: Auto-merge PRs: false
    trial_command_lipgloss_test.go:173: Repeat count: 0
    trial_command_lipgloss_test.go:174: Direct trial mode: false
=== RUN   TestTrialConfirmationLipglossRendering/direct_trial_mode
    trial_command_lipgloss_test.go:165: Test case: Should render direct trial mode without errors
    trial_command_lipgloss_test.go:166: Workflows: 1
    trial_command_lipgloss_test.go:167: Logical repo: 
    trial_command_lipgloss_test.go:168: Clone repo: 
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: false
    trial_command_lipgloss_test.go:171: Push secrets: false
    trial_command_lipgloss_test.go:172: Auto-merge PRs: true
    trial_command_lipgloss_test.go:173: Repeat count: 0
    trial_command_lipgloss_test.go:174: Direct trial mode: true
=== RUN   TestTrialConfirmationLipglossRendering/with_repeat_count
    trial_command_lipgloss_test.go:165: Test case: Should render with repeat count without errors
    trial_command_lipgloss_test.go:166: Workflows: 1
    trial_command_lipgloss_test.go:167: Logical repo: owner/logical
    trial_command_lipgloss_test.go:168: Clone repo: 
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: false
    trial_command_lipgloss_test.go:171: Push secrets: false
    trial_command_lipgloss_test.go:172: Auto-merge PRs: false
    trial_command_lipgloss_test.go:173: Repeat count: 3
    trial_command_lipgloss_test.go:174: Direct trial mode: false
=== RUN   TestTrialConfirmationLipglossRendering/all_options_enabled
    trial_command_lipgloss_test.go:165: Test case: Should render with all options enabled without errors
    trial_command_lipgloss_test.go:166: Workflows: 2
    trial_command_lipgloss_test.go:167: Logical repo: owner/logical
    trial_command_lipgloss_test.go:168: Clone repo: 
    trial_command_lipgloss_test.go:169: Host repo: owner/host
    trial_command_lipgloss_test.go:170: Delete host repo: true
    trial_command_lipgloss_test.go:171: Push secrets: true
    trial_command_lipgloss_test.go:172: Auto-merge PRs: true
    trial_command_lipgloss_test.go:173: Repeat count: 5
    trial_command_lipgloss_test.go:174: Direct trial mode: false
--- PASS: TestTrialConfirmationLipglossRendering (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/single_workflow_basic (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/multiple_workflows (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/clone-repo_mode (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/direct_trial_mode (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/with_repeat_count (0.00s)
    --- PASS: TestTrialConfirmationLipglossRendering/all_options_enabled (0.00s)
=== RUN   TestTrialConfirmationStructure
    trial_command_lipgloss_test.go:201: Function signature validated
--- PASS: TestTrialConfirmationStructure (0.00s)
=== RUN   TestLipglossImportPresent
    trial_command_lipgloss_test.go:212: Lipgloss types are available and imported
--- PASS: TestLipglossImportPresent (0.00s)
=== RUN   TestSectionCompositionPattern
    trial_command_lipgloss_test.go:229: Expected pattern: Title box with DoubleBorder
    trial_command_lipgloss_test.go:229: Expected pattern: Info sections with left-border emphasis
    trial_command_lipgloss_test.go:229: Expected pattern: JoinVertical composition
    trial_command_lipgloss_test.go:229: Expected pattern: TTY detection for adaptive styling
    trial_command_lipgloss_test.go:229: Expected pattern: Plain text output for non-TTY
--- PASS: TestSectionCompositionPattern (0.00s)
=== RUN   TestHostRepoSlugProcessing
=== RUN   TestHostRepoSlugProcessing/dot_notation_should_call_getCurrentRepoSlug
    trial_command_test.go:50: Test case: When hostRepoSlug is '.', it should use getCurrentRepoSlug
    trial_command_test.go:51: Input: ., Expected behavior: current_repo
=== RUN   TestHostRepoSlugProcessing/full_slug_should_be_used_as-is
    trial_command_test.go:50: Test case: When hostRepoSlug contains '/', it should be used as-is
    trial_command_test.go:51: Input: owner/repo, Expected behavior: custom_full
=== RUN   TestHostRepoSlugProcessing/repo_name_only_should_be_prefixed_with_username
    trial_command_test.go:50: Test case: When hostRepoSlug is just a name, it should be prefixed with username
    trial_command_test.go:51: Input: my-repo, Expected behavior: custom_prefixed
=== RUN   TestHostRepoSlugProcessing/empty_string_should_use_default
    trial_command_test.go:50: Test case: When hostRepoSlug is empty, it should use the default trial repo
    trial_command_test.go:51: Input: , Expected behavior: default
--- PASS: TestHostRepoSlugProcessing (0.00s)
    --- PASS: TestHostRepoSlugProcessing/dot_notation_should_call_getCurrentRepoSlug (0.00s)
    --- PASS: TestHostRepoSlugProcessing/full_slug_should_be_used_as-is (0.00s)
    --- PASS: TestHostRepoSlugProcessing/repo_name_only_should_be_prefixed_with_username (0.00s)
    --- PASS: TestHostRepoSlugProcessing/empty_string_should_use_default (0.00s)
=== RUN   TestCloneRepoWithVersion
=== RUN   TestCloneRepoWithVersion/repo_with_tag
=== RUN   TestCloneRepoWithVersion/repo_with_branch
=== RUN   TestCloneRepoWithVersion/repo_with_commit_SHA
=== RUN   TestCloneRepoWithVersion/repo_without_version
=== RUN   TestCloneRepoWithVersion/GitHub_URL_with_tag
--- PASS: TestCloneRepoWithVersion (0.00s)
    --- PASS: TestCloneRepoWithVersion/repo_with_tag (0.00s)
    --- PASS: TestCloneRepoWithVersion/repo_with_branch (0.00s)
    --- PASS: TestCloneRepoWithVersion/repo_with_commit_SHA (0.00s)
    --- PASS: TestCloneRepoWithVersion/repo_without_version (0.00s)
    --- PASS: TestCloneRepoWithVersion/GitHub_URL_with_tag (0.00s)
=== RUN   TestModifyWorkflowForTrialMode
=== RUN   TestModifyWorkflowForTrialMode/replace_github.repository_variable
=== RUN   TestModifyWorkflowForTrialMode/replace_checkout_action_with_proper_indentation
=== RUN   TestModifyWorkflowForTrialMode/replace_checkout_action_with_different_indentation
=== RUN   TestModifyWorkflowForTrialMode/replace_checkout_with_additional_parameters
=== RUN   TestModifyWorkflowForTrialMode/handle_multiple_checkout_actions
=== RUN   TestModifyWorkflowForTrialMode/preserve_existing_with_clause_structure
=== RUN   TestModifyWorkflowForTrialMode/combined_replacements
=== RUN   TestModifyWorkflowForTrialMode/no_modifications_needed
--- PASS: TestModifyWorkflowForTrialMode (0.01s)
    --- PASS: TestModifyWorkflowForTrialMode/replace_github.repository_variable (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/replace_checkout_action_with_proper_indentation (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/replace_checkout_action_with_different_indentation (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/replace_checkout_with_additional_parameters (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/handle_multiple_checkout_actions (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/preserve_existing_with_clause_structure (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/combined_replacements (0.00s)
    --- PASS: TestModifyWorkflowForTrialMode/no_modifications_needed (0.00s)
=== RUN   TestModifyWorkflowForTrialModeEdgeCases
=== RUN   TestModifyWorkflowForTrialModeEdgeCases/empty_file
=== RUN   TestModifyWorkflowForTrialModeEdgeCases/malformed_yaml
=== RUN   TestModifyWorkflowForTrialModeEdgeCases/checkout_in_commented_line
=== RUN   TestModifyWorkflowForTrialModeEdgeCases/checkout_in_string_content
--- PASS: TestModifyWorkflowForTrialModeEdgeCases (0.00s)
    --- PASS: TestModifyWorkflowForTrialModeEdgeCases/empty_file (0.00s)
    --- PASS: TestModifyWorkflowForTrialModeEdgeCases/malformed_yaml (0.00s)
    --- PASS: TestModifyWorkflowForTrialModeEdgeCases/checkout_in_commented_line (0.00s)
    --- PASS: TestModifyWorkflowForTrialModeEdgeCases/checkout_in_string_content (0.00s)
=== RUN   TestTrialModeValidation
=== RUN   TestTrialModeValidation/logical-repo_and_clone-repo_are_mutually_exclusive
    trial_command_test.go:601: Error validation passed: Should reject both --logical-repo and --clone-repo
=== RUN   TestTrialModeValidation/repo_with_clone-repo_is_allowed
=== RUN   TestTrialModeValidation/repo_with_logical-repo_is_allowed
=== RUN   TestTrialModeValidation/repo_alone_is_allowed_(direct_mode)
=== RUN   TestTrialModeValidation/clone-repo_alone_is_allowed
=== RUN   TestTrialModeValidation/logical-repo_alone_is_allowed
--- PASS: TestTrialModeValidation (0.00s)
    --- PASS: TestTrialModeValidation/logical-repo_and_clone-repo_are_mutually_exclusive (0.00s)
    --- PASS: TestTrialModeValidation/repo_with_clone-repo_is_allowed (0.00s)
    --- PASS: TestTrialModeValidation/repo_with_logical-repo_is_allowed (0.00s)
    --- PASS: TestTrialModeValidation/repo_alone_is_allowed_(direct_mode) (0.00s)
    --- PASS: TestTrialModeValidation/clone-repo_alone_is_allowed (0.00s)
    --- PASS: TestTrialModeValidation/logical-repo_alone_is_allowed (0.00s)
=== RUN   TestExtractIssueNumberFromURL
=== RUN   TestExtractIssueNumberFromURL/Valid_GitHub_issue_URL
=== RUN   TestExtractIssueNumberFromURL/Another_valid_issue_URL
=== RUN   TestExtractIssueNumberFromURL/Issue_URL_with_single_digit
=== RUN   TestExtractIssueNumberFromURL/Invalid_URL_-_not_GitHub
=== RUN   TestExtractIssueNumberFromURL/Invalid_URL_-_not_an_issue
=== RUN   TestExtractIssueNumberFromURL/Invalid_URL_-_missing_issue_number
=== RUN   TestExtractIssueNumberFromURL/Invalid_URL_-_non-numeric_issue_number
=== RUN   TestExtractIssueNumberFromURL/Empty_URL
=== RUN   TestExtractIssueNumberFromURL/URL_with_query_parameters
=== RUN   TestExtractIssueNumberFromURL/URL_with_fragment
--- PASS: TestExtractIssueNumberFromURL (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Valid_GitHub_issue_URL (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Another_valid_issue_URL (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Issue_URL_with_single_digit (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Invalid_URL_-_not_GitHub (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Invalid_URL_-_not_an_issue (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Invalid_URL_-_missing_issue_number (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Invalid_URL_-_non-numeric_issue_number (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/Empty_URL (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/URL_with_query_parameters (0.00s)
    --- PASS: TestExtractIssueNumberFromURL/URL_with_fragment (0.00s)
=== RUN   TestTrialWorkflowSpecParsing
=== RUN   TestTrialWorkflowSpecParsing/GitHub_URL_workflow_spec
=== RUN   TestTrialWorkflowSpecParsing/Simple_workflow_spec
=== RUN   TestTrialWorkflowSpecParsing/Invalid_workflow_spec
--- PASS: TestTrialWorkflowSpecParsing (0.00s)
    --- PASS: TestTrialWorkflowSpecParsing/GitHub_URL_workflow_spec (0.00s)
    --- PASS: TestTrialWorkflowSpecParsing/Simple_workflow_spec (0.00s)
    --- PASS: TestTrialWorkflowSpecParsing/Invalid_workflow_spec (0.00s)
=== RUN   TestExtractBaseRepo_Integration
=== RUN   TestExtractBaseRepo_Integration/actions/cache/save
=== RUN   TestExtractBaseRepo_Integration/github/codeql-action/upload-sarif
=== RUN   TestExtractBaseRepo_Integration/github/codeql-action/analyze
=== RUN   TestExtractBaseRepo_Integration/actions/setup-go
=== RUN   TestExtractBaseRepo_Integration/github/stale-repos
=== RUN   TestExtractBaseRepo_Integration/actions/ai-inference
=== RUN   TestExtractBaseRepo_Integration/actions/cache/restore
=== RUN   TestExtractBaseRepo_Integration/github/codeql-action/init
=== RUN   TestExtractBaseRepo_Integration/actions/checkout
=== RUN   TestExtractBaseRepo_Integration/actions/setup-node
=== RUN   TestExtractBaseRepo_Integration/actions/setup-python
=== RUN   TestExtractBaseRepo_Integration/actions/create-github-app-token
--- PASS: TestExtractBaseRepo_Integration (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/cache/save (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/github/codeql-action/upload-sarif (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/github/codeql-action/analyze (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/setup-go (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/github/stale-repos (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/ai-inference (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/cache/restore (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/github/codeql-action/init (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/checkout (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/setup-node (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/setup-python (0.00s)
    --- PASS: TestExtractBaseRepo_Integration/actions/create-github-app-token (0.00s)
=== RUN   TestExtractBaseRepoAPICompatibility
=== RUN   TestExtractBaseRepoAPICompatibility/actions/cache/restore
=== RUN   TestExtractBaseRepoAPICompatibility/github/codeql-action/upload-sarif
--- PASS: TestExtractBaseRepoAPICompatibility (0.00s)
    --- PASS: TestExtractBaseRepoAPICompatibility/actions/cache/restore (0.00s)
    --- PASS: TestExtractBaseRepoAPICompatibility/github/codeql-action/upload-sarif (0.00s)
=== RUN   TestActionKeyVersionConsistency
--- PASS: TestActionKeyVersionConsistency (0.00s)
=== RUN   TestActionKeyVersionConsistencyInJSON
--- PASS: TestActionKeyVersionConsistencyInJSON (0.00s)
=== RUN   TestExtractBaseRepo
=== RUN   TestExtractBaseRepo/action_without_subfolder
=== RUN   TestExtractBaseRepo/action_with_one_subfolder
=== RUN   TestExtractBaseRepo/action_with_multiple_subfolders
=== RUN   TestExtractBaseRepo/action_with_deeply_nested_subfolders
=== RUN   TestExtractBaseRepo/action_with_only_owner
=== RUN   TestExtractBaseRepo/empty_string
--- PASS: TestExtractBaseRepo (0.00s)
    --- PASS: TestExtractBaseRepo/action_without_subfolder (0.00s)
    --- PASS: TestExtractBaseRepo/action_with_one_subfolder (0.00s)
    --- PASS: TestExtractBaseRepo/action_with_multiple_subfolders (0.00s)
    --- PASS: TestExtractBaseRepo/action_with_deeply_nested_subfolders (0.00s)
    --- PASS: TestExtractBaseRepo/action_with_only_owner (0.00s)
    --- PASS: TestExtractBaseRepo/empty_string (0.00s)
=== RUN   TestMajorVersionPreference
=== RUN   TestMajorVersionPreference/prefer_v8_over_v8.0.0
=== RUN   TestMajorVersionPreference/prefer_v6_over_v6.0.0
=== RUN   TestMajorVersionPreference/prefer_v8_over_v8.0.0.0_(four-part_version)
=== RUN   TestMajorVersionPreference/prefer_newest_when_versions_differ
--- PASS: TestMajorVersionPreference (0.00s)
    --- PASS: TestMajorVersionPreference/prefer_v8_over_v8.0.0 (0.00s)
    --- PASS: TestMajorVersionPreference/prefer_v6_over_v6.0.0 (0.00s)
    --- PASS: TestMajorVersionPreference/prefer_v8_over_v8.0.0.0_(four-part_version) (0.00s)
    --- PASS: TestMajorVersionPreference/prefer_newest_when_versions_differ (0.00s)
=== RUN   TestShouldCheckForUpdate
=== RUN   TestShouldCheckForUpdate/should_check_when_flag_is_false_and_no_recent_check
=== RUN   TestShouldCheckForUpdate/should_not_check_when_flag_is_true
=== RUN   TestShouldCheckForUpdate/should_not_check_in_CI_environment
=== RUN   TestShouldCheckForUpdate/should_not_check_in_MCP_server_mode
=== RUN   TestShouldCheckForUpdate/should_not_check_when_recent_check_exists
=== RUN   TestShouldCheckForUpdate/should_check_when_last_check_is_old
--- PASS: TestShouldCheckForUpdate (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_check_when_flag_is_false_and_no_recent_check (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_not_check_when_flag_is_true (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_not_check_in_CI_environment (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_not_check_in_MCP_server_mode (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_not_check_when_recent_check_exists (0.00s)
    --- PASS: TestShouldCheckForUpdate/should_check_when_last_check_is_old (0.00s)
=== RUN   TestIsRunningAsMCPServer
=== RUN   TestIsRunningAsMCPServer/not_in_MCP_server_mode
=== RUN   TestIsRunningAsMCPServer/in_MCP_server_mode
--- PASS: TestIsRunningAsMCPServer (0.00s)
    --- PASS: TestIsRunningAsMCPServer/not_in_MCP_server_mode (0.00s)
    --- PASS: TestIsRunningAsMCPServer/in_MCP_server_mode (0.00s)
=== RUN   TestGetLastCheckFilePath
--- PASS: TestGetLastCheckFilePath (0.00s)
=== RUN   TestUpdateLastCheckTime
--- PASS: TestUpdateLastCheckTime (0.00s)
=== RUN   TestCheckForUpdatesWithNoCheckUpdateFlag
--- PASS: TestCheckForUpdatesWithNoCheckUpdateFlag (0.00s)
=== RUN   TestCheckForUpdatesInCIMode
--- PASS: TestCheckForUpdatesInCIMode (0.00s)
=== RUN   TestCheckForUpdatesAsync_ContextCancellation
--- PASS: TestCheckForUpdatesAsync_ContextCancellation (0.20s)
=== RUN   TestMergeWorkflowContent_CleanMerge
--- PASS: TestMergeWorkflowContent_CleanMerge (0.00s)
=== RUN   TestMergeWorkflowContent_WithConflicts
--- PASS: TestMergeWorkflowContent_WithConflicts (0.00s)
=== RUN   TestMergeWorkflowContent_MarkdownOnly
--- PASS: TestMergeWorkflowContent_MarkdownOnly (0.00s)
=== RUN   TestMergeWorkflowContent_FrontmatterOnly
    update_command_test.go:248: Note: Conflicts detected for non-overlapping frontmatter fields:
        ---
        on: push
        engine: claude
        <<<<<<< current (local changes)
        permissions:
          contents: read
        source: test/repo/workflow.md@v1.0.0
        ||||||| base (original)
        source: test/repo/workflow.md@v1.0.0
        =======
        tools:
          bash: ["ls"]
        source: test/repo/workflow.md@v1.1.0
        >>>>>>> new (upstream)
        ---
        
        # Workflow
        
        Content remains the same.
--- PASS: TestMergeWorkflowContent_FrontmatterOnly (0.00s)
=== RUN   TestUpdateSourceFieldInContent
--- PASS: TestUpdateSourceFieldInContent (0.00s)
=== RUN   TestMergeWorkflowContent_Integration
ðŸ” Performing 3-way merge using git merge-file
âš  Merge conflicts detected (exit code: 2)
    update_command_test.go:349: Conflicts detected (may be expected):
        ---
        on: push
        permissions:
          contents: read
        <<<<<<< current (local changes)
          issues: write
        source: test/repo/workflow.md@v1.0.0
        ||||||| base (original)
        source: test/repo/workflow.md@v1.0.0
        =======
          pull-requests: write
        source: test/repo/workflow.md@v1.1.0
        >>>>>>> new (upstream)
        ---
        
        # Test Workflow
        
        <<<<<<< current (local changes)
        Base content with local notes.
        ||||||| base (original)
        Base content.
        =======
        Base content with upstream notes.
        >>>>>>> new (upstream)
--- PASS: TestMergeWorkflowContent_Integration (0.00s)
=== RUN   TestFindWorkflowsWithSource_CustomDirectory
--- PASS: TestFindWorkflowsWithSource_CustomDirectory (0.00s)
=== RUN   TestUpdateWorkflows_CustomDirectory
--- PASS: TestUpdateWorkflows_CustomDirectory (0.00s)
=== RUN   TestShowUpdateSummary
=== RUN   TestShowUpdateSummary/all_successful

âœ“ Successfully updated and compiled 3 workflow(s):
  â€¢ workflow1
  â€¢ workflow2
  â€¢ workflow3

=== RUN   TestShowUpdateSummary/all_failed

âœ— Failed to update 2 workflow(s):
  workflow1: failed to download
  workflow2: merge conflict

=== RUN   TestShowUpdateSummary/mixed_results

âœ“ Successfully updated and compiled 2 workflow(s):
  â€¢ workflow1
  â€¢ workflow3

âœ— Failed to update 1 workflow(s):
  workflow2: failed to compile

=== RUN   TestShowUpdateSummary/empty_results

--- PASS: TestShowUpdateSummary (0.00s)
    --- PASS: TestShowUpdateSummary/all_successful (0.00s)
    --- PASS: TestShowUpdateSummary/all_failed (0.00s)
    --- PASS: TestShowUpdateSummary/mixed_results (0.00s)
    --- PASS: TestShowUpdateSummary/empty_results (0.00s)
=== RUN   TestHasLocalModifications
=== RUN   TestHasLocalModifications/no_modifications_-_identical_content
=== RUN   TestHasLocalModifications/local_modifications_in_frontmatter
=== RUN   TestHasLocalModifications/local_modifications_in_markdown
=== RUN   TestHasLocalModifications/whitespace_differences_should_be_ignored
=== RUN   TestHasLocalModifications/both_empty
--- PASS: TestHasLocalModifications (0.00s)
    --- PASS: TestHasLocalModifications/no_modifications_-_identical_content (0.00s)
    --- PASS: TestHasLocalModifications/local_modifications_in_frontmatter (0.00s)
    --- PASS: TestHasLocalModifications/local_modifications_in_markdown (0.00s)
    --- PASS: TestHasLocalModifications/whitespace_differences_should_be_ignored (0.00s)
    --- PASS: TestHasLocalModifications/both_empty (0.00s)
=== RUN   TestCompileWorkflowWithRefresh
=== RUN   TestCompileWorkflowWithRefresh/compileWorkflowWithRefresh_false
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1778188959/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1778188959/test-workflow.md (25.8 KB)
=== RUN   TestCompileWorkflowWithRefresh/compileWorkflowWithRefresh_true
../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1778188959/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ ../../../../../tmp/gh-aw-test-runs/20260129-002143-306608/test-1778188959/test-workflow.md (25.8 KB)
--- PASS: TestCompileWorkflowWithRefresh (1.83s)
    --- PASS: TestCompileWorkflowWithRefresh/compileWorkflowWithRefresh_false (1.11s)
    --- PASS: TestCompileWorkflowWithRefresh/compileWorkflowWithRefresh_true (0.72s)
=== RUN   TestUpdateWorkflow_OverrideMode
=== RUN   TestUpdateWorkflow_OverrideMode/override_mode_discards_local_changes
--- PASS: TestUpdateWorkflow_OverrideMode (0.00s)
    --- PASS: TestUpdateWorkflow_OverrideMode/override_mode_discards_local_changes (0.00s)
=== RUN   TestUpdateWorkflow_MergeMode
=== RUN   TestUpdateWorkflow_MergeMode/merge_mode_preserves_local_changes
--- PASS: TestUpdateWorkflow_MergeMode (0.00s)
    --- PASS: TestUpdateWorkflow_MergeMode/merge_mode_preserves_local_changes (0.00s)
=== RUN   TestMarshalActionsLockSorted
--- PASS: TestMarshalActionsLockSorted (0.00s)
=== RUN   TestGetActionSHAForTag
--- PASS: TestGetActionSHAForTag (0.70s)
=== RUN   TestUpdateActions_NoFile
--- PASS: TestUpdateActions_NoFile (0.00s)
=== RUN   TestUpdateActions_EmptyFile

--- PASS: TestUpdateActions_EmptyFile (0.00s)
=== RUN   TestUpdateActions_InvalidJSON
--- PASS: TestUpdateActions_InvalidJSON (0.00s)
=== RUN   TestResolveLatestRef_CommitSHA
--- PASS: TestResolveLatestRef_CommitSHA (0.00s)
=== RUN   TestResolveLatestRef_NotCommitSHA
=== RUN   TestResolveLatestRef_NotCommitSHA/branch_name
=== RUN   TestResolveLatestRef_NotCommitSHA/short_SHA
=== RUN   TestResolveLatestRef_NotCommitSHA/version_tag
=== RUN   TestResolveLatestRef_NotCommitSHA/invalid_hex
=== RUN   TestResolveLatestRef_NotCommitSHA/valid_SHA_lowercase
=== RUN   TestResolveLatestRef_NotCommitSHA/valid_SHA_uppercase
--- PASS: TestResolveLatestRef_NotCommitSHA (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/branch_name (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/short_SHA (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/version_tag (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/invalid_hex (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/valid_SHA_lowercase (0.00s)
    --- PASS: TestResolveLatestRef_NotCommitSHA/valid_SHA_uppercase (0.00s)
=== RUN   TestUpdateWorkflowsWithExtensionCheck_FixIntegration
âœ“ âœ“ test-workflow.md
    â€¢ Migrate timeout_minutes to timeout-minutes
âš  Warning: Failed to update copilot instructions: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update dispatcher agent: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update workflow creation prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update workflow update prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update shared workflow creation prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update debug workflow prompt: not in a git repository or git command failed: exit status 128
âš  Warning: Failed to update upgrade workflow prompt: not in a git repository or git command failed: exit status 128

âœ“ âœ“ Fixed 1 of 1 workflow files
    update_command_test.go:1013: Fix was successfully applied - deprecated field was replaced
--- PASS: TestUpdateWorkflowsWithExtensionCheck_FixIntegration (0.02s)
=== RUN   TestUpdateWorkflowsWithExtensionCheck_FixNonFatal
    update_command_test.go:1037: Fix returned error (expected in test environment): no .github/workflows directory found
--- PASS: TestUpdateWorkflowsWithExtensionCheck_FixNonFatal (0.00s)
=== RUN   TestIsAuthenticationError
=== RUN   TestIsAuthenticationError/GH_TOKEN_environment_variable_error
=== RUN   TestIsAuthenticationError/authentication_required
=== RUN   TestIsAuthenticationError/invalid_token
=== RUN   TestIsAuthenticationError/not_authenticated
=== RUN   TestIsAuthenticationError/permission_denied
=== RUN   TestIsAuthenticationError/successful_check
=== RUN   TestIsAuthenticationError/upgrade_available
--- PASS: TestIsAuthenticationError (0.00s)
    --- PASS: TestIsAuthenticationError/GH_TOKEN_environment_variable_error (0.00s)
    --- PASS: TestIsAuthenticationError/authentication_required (0.00s)
    --- PASS: TestIsAuthenticationError/invalid_token (0.00s)
    --- PASS: TestIsAuthenticationError/not_authenticated (0.00s)
    --- PASS: TestIsAuthenticationError/permission_denied (0.00s)
    --- PASS: TestIsAuthenticationError/successful_check (0.00s)
    --- PASS: TestIsAuthenticationError/upgrade_available (0.00s)
=== RUN   TestEnsureUpgradeAgenticWorkflowsPrompt
=== RUN   TestEnsureUpgradeAgenticWorkflowsPrompt/creates_new_upgrade_workflows_prompt_file
=== RUN   TestEnsureUpgradeAgenticWorkflowsPrompt/does_not_modify_existing_correct_file
=== RUN   TestEnsureUpgradeAgenticWorkflowsPrompt/updates_modified_file
--- PASS: TestEnsureUpgradeAgenticWorkflowsPrompt (0.03s)
    --- PASS: TestEnsureUpgradeAgenticWorkflowsPrompt/creates_new_upgrade_workflows_prompt_file (0.01s)
    --- PASS: TestEnsureUpgradeAgenticWorkflowsPrompt/does_not_modify_existing_correct_file (0.01s)
    --- PASS: TestEnsureUpgradeAgenticWorkflowsPrompt/updates_modified_file (0.01s)
=== RUN   TestEnsureUpgradeAgenticWorkflowAgent_WithSkipInstructionsTrue
--- PASS: TestEnsureUpgradeAgenticWorkflowAgent_WithSkipInstructionsTrue (0.01s)
=== RUN   TestUpgradeCommand_UpdatesAgentFiles
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_UpdatesAgentFiles (0.86s)
=== RUN   TestUpgradeCommand_AppliesCodemods
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...
â„¹ Applying codemods to all workflows...
âœ“ âœ“ workflow1.md
    â€¢ Migrate timeout_minutes to timeout-minutes
âœ“ âœ“ workflow2.md
    â€¢ Migrate timeout_minutes to timeout-minutes

âœ“ âœ“ Fixed 2 of 2 workflow files
â„¹ Compiling all workflows...
.github/workflows/workflow1.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/workflow1.md (24.7 KB)
.github/workflows/workflow2.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/workflow2.md (24.7 KB)

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_AppliesCodemods (1.26s)
=== RUN   TestUpgradeCommand_NoFixFlag
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_NoFixFlag (0.32s)
=== RUN   TestUpgradeCommand_NonGitRepo
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...
--- PASS: TestUpgradeCommand_NonGitRepo (0.30s)
=== RUN   TestUpgradeCommand_CompilesWorkflows
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...
â„¹ Applying codemods to all workflows...

â„¹ âœ“ No fixes needed
â„¹ Compiling all workflows...
.github/workflows/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test-workflow.md (24.7 KB)

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_CompilesWorkflows (1.10s)
=== RUN   TestUpgradeCommand_NoFixSkipsCompilation
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_NoFixSkipsCompilation (0.35s)
=== RUN   TestUpgradeCommand_PushRequiresCleanWorkingDirectory
â„¹ Checking git status...
--- PASS: TestUpgradeCommand_PushRequiresCleanWorkingDirectory (0.02s)
=== RUN   TestUpgradeCommand_PushWithNoChanges
â„¹ Checking git status...
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...

âœ“ âœ“ Upgrade complete

â„¹ Checking current branch...
--- PASS: TestUpgradeCommand_PushWithNoChanges (0.31s)
=== RUN   TestUpgradeCommand_UpdatesActionPins
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...
â„¹ Applying codemods to all workflows...

â„¹ âœ“ No fixes needed
â„¹ Updating GitHub Actions versions...
âœ“ Updated actions/checkout from v4 to v4.3.1

âœ“ Updated 1 action(s):
  â€¢ actions/checkout

â„¹ Updated actions-lock.json file
â„¹ Compiling all workflows...
.github/workflows/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test-workflow.md (24.7 KB)

âœ“ âœ“ Upgrade complete
--- PASS: TestUpgradeCommand_UpdatesActionPins (6.10s)
=== RUN   TestUpgradeCommand_NoActionsFlag
â„¹ Checking gh-aw extension version...
â„¹ Updating agent and prompt files...
â„¹ Applying codemods to all workflows...

â„¹ âœ“ No fixes needed
â„¹ Compiling all workflows...
.github/workflows/test-workflow.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test-workflow.md (24.7 KB)

âœ“ âœ“ Upgrade complete
    upgrade_command_test.go:605: 
        	Error Trace:	/home/dsyme/gh-aw/pkg/cli/upgrade_command_test.go:605
        	Error:      	Not equal: 
        	            	expected: "{\n  \"entries\": {\n    \"actions/checkout@v4\": {\n      \"repo\": \"actions/checkout\",\n      \"version\": \"v4\",\n      \"sha\": \"b4ffde65f46336ab88eb53be808477a3936bae11\"\n    }\n  }\n}\n"
        	            	actual  : "{\n  \"entries\": {\n    \"actions/checkout@v4\": {\n      \"repo\": \"actions/checkout\",\n      \"version\": \"v4\",\n      \"sha\": \"b4ffde65f46336ab88eb53be808477a3936bae11\"\n    },\n    \"actions/github-script@v8\": {\n      \"repo\": \"actions/github-script\",\n      \"version\": \"v8\",\n      \"sha\": \"ed597411d8f924073f98dfc5c65a23a2325f34cd\"\n    }\n  }\n}\n"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -6,2 +6,7 @@
        	            	       "sha": "b4ffde65f46336ab88eb53be808477a3936bae11"
        	            	+    },
        	            	+    "actions/github-script@v8": {
        	            	+      "repo": "actions/github-script",
        	            	+      "version": "v8",
        	            	+      "sha": "ed597411d8f924073f98dfc5c65a23a2325f34cd"
        	            	     }
        	Test:       	TestUpgradeCommand_NoActionsFlag
        	Messages:   	Actions lock file should not be modified with --no-actions
--- FAIL: TestUpgradeCommand_NoActionsFlag (1.18s)
=== RUN   TestValidateWorkflowName
=== RUN   TestValidateWorkflowName/valid_simple_name
=== RUN   TestValidateWorkflowName/valid_with_underscores
=== RUN   TestValidateWorkflowName/valid_alphanumeric
=== RUN   TestValidateWorkflowName/valid_mixed
=== RUN   TestValidateWorkflowName/valid_uppercase
=== RUN   TestValidateWorkflowName/valid_all_hyphens_and_underscores
=== RUN   TestValidateWorkflowName/empty_string
=== RUN   TestValidateWorkflowName/invalid_with_spaces
=== RUN   TestValidateWorkflowName/invalid_with_special_chars
=== RUN   TestValidateWorkflowName/invalid_with_dots
=== RUN   TestValidateWorkflowName/invalid_with_slashes
=== RUN   TestValidateWorkflowName/invalid_with_parentheses
=== RUN   TestValidateWorkflowName/invalid_with_brackets
=== RUN   TestValidateWorkflowName/invalid_with_dollar_sign
=== RUN   TestValidateWorkflowName/invalid_with_percent_sign
=== RUN   TestValidateWorkflowName/invalid_with_hash
=== RUN   TestValidateWorkflowName/invalid_with_asterisk
=== RUN   TestValidateWorkflowName/invalid_with_ampersand
=== RUN   TestValidateWorkflowName/invalid_with_plus
=== RUN   TestValidateWorkflowName/invalid_with_equals
--- PASS: TestValidateWorkflowName (0.00s)
    --- PASS: TestValidateWorkflowName/valid_simple_name (0.00s)
    --- PASS: TestValidateWorkflowName/valid_with_underscores (0.00s)
    --- PASS: TestValidateWorkflowName/valid_alphanumeric (0.00s)
    --- PASS: TestValidateWorkflowName/valid_mixed (0.00s)
    --- PASS: TestValidateWorkflowName/valid_uppercase (0.00s)
    --- PASS: TestValidateWorkflowName/valid_all_hyphens_and_underscores (0.00s)
    --- PASS: TestValidateWorkflowName/empty_string (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_spaces (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_special_chars (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_dots (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_slashes (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_parentheses (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_brackets (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_dollar_sign (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_percent_sign (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_hash (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_asterisk (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_ampersand (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_plus (0.00s)
    --- PASS: TestValidateWorkflowName/invalid_with_equals (0.00s)
=== RUN   TestValidateWorkflowName_EdgeCases
=== RUN   TestValidateWorkflowName_EdgeCases/single_character
=== RUN   TestValidateWorkflowName_EdgeCases/single_number
=== RUN   TestValidateWorkflowName_EdgeCases/single_hyphen
=== RUN   TestValidateWorkflowName_EdgeCases/single_underscore
=== RUN   TestValidateWorkflowName_EdgeCases/very_long_valid_name
=== RUN   TestValidateWorkflowName_EdgeCases/starts_with_hyphen
=== RUN   TestValidateWorkflowName_EdgeCases/ends_with_hyphen
=== RUN   TestValidateWorkflowName_EdgeCases/starts_with_underscore
=== RUN   TestValidateWorkflowName_EdgeCases/ends_with_underscore
=== RUN   TestValidateWorkflowName_EdgeCases/starts_with_number
=== RUN   TestValidateWorkflowName_EdgeCases/multiple_consecutive_hyphens
=== RUN   TestValidateWorkflowName_EdgeCases/multiple_consecutive_underscores
=== RUN   TestValidateWorkflowName_EdgeCases/tab_character
=== RUN   TestValidateWorkflowName_EdgeCases/newline_character
=== RUN   TestValidateWorkflowName_EdgeCases/carriage_return
--- PASS: TestValidateWorkflowName_EdgeCases (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/single_character (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/single_number (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/single_hyphen (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/single_underscore (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/very_long_valid_name (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/starts_with_hyphen (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/ends_with_hyphen (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/starts_with_underscore (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/ends_with_underscore (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/starts_with_number (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/multiple_consecutive_hyphens (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/multiple_consecutive_underscores (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/tab_character (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/newline_character (0.00s)
    --- PASS: TestValidateWorkflowName_EdgeCases/carriage_return (0.00s)
=== RUN   TestValidateWorkflowIntent
=== RUN   TestValidateWorkflowIntent/valid_minimal_intent
=== RUN   TestValidateWorkflowIntent/valid_long_intent
=== RUN   TestValidateWorkflowIntent/valid_exactly_20_characters
=== RUN   TestValidateWorkflowIntent/valid_with_newlines
=== RUN   TestValidateWorkflowIntent/valid_with_leading/trailing_whitespace
=== RUN   TestValidateWorkflowIntent/empty_string
=== RUN   TestValidateWorkflowIntent/only_whitespace
=== RUN   TestValidateWorkflowIntent/only_spaces
=== RUN   TestValidateWorkflowIntent/only_tabs
=== RUN   TestValidateWorkflowIntent/only_newlines
=== RUN   TestValidateWorkflowIntent/too_short_-_single_character
=== RUN   TestValidateWorkflowIntent/too_short_-_5_characters
=== RUN   TestValidateWorkflowIntent/too_short_-_19_characters
=== RUN   TestValidateWorkflowIntent/too_short_with_whitespace_padding
=== RUN   TestValidateWorkflowIntent/19_chars_after_trim
--- PASS: TestValidateWorkflowIntent (0.00s)
    --- PASS: TestValidateWorkflowIntent/valid_minimal_intent (0.00s)
    --- PASS: TestValidateWorkflowIntent/valid_long_intent (0.00s)
    --- PASS: TestValidateWorkflowIntent/valid_exactly_20_characters (0.00s)
    --- PASS: TestValidateWorkflowIntent/valid_with_newlines (0.00s)
    --- PASS: TestValidateWorkflowIntent/valid_with_leading/trailing_whitespace (0.00s)
    --- PASS: TestValidateWorkflowIntent/empty_string (0.00s)
    --- PASS: TestValidateWorkflowIntent/only_whitespace (0.00s)
    --- PASS: TestValidateWorkflowIntent/only_spaces (0.00s)
    --- PASS: TestValidateWorkflowIntent/only_tabs (0.00s)
    --- PASS: TestValidateWorkflowIntent/only_newlines (0.00s)
    --- PASS: TestValidateWorkflowIntent/too_short_-_single_character (0.00s)
    --- PASS: TestValidateWorkflowIntent/too_short_-_5_characters (0.00s)
    --- PASS: TestValidateWorkflowIntent/too_short_-_19_characters (0.00s)
    --- PASS: TestValidateWorkflowIntent/too_short_with_whitespace_padding (0.00s)
    --- PASS: TestValidateWorkflowIntent/19_chars_after_trim (0.00s)
=== RUN   TestValidateWorkflowIntent_EdgeCases
=== RUN   TestValidateWorkflowIntent_EdgeCases/exactly_20_characters_with_spaces
=== RUN   TestValidateWorkflowIntent_EdgeCases/unicode_characters
=== RUN   TestValidateWorkflowIntent_EdgeCases/special_characters
=== RUN   TestValidateWorkflowIntent_EdgeCases/very_long_intent
=== RUN   TestValidateWorkflowIntent_EdgeCases/mixed_whitespace
=== RUN   TestValidateWorkflowIntent_EdgeCases/only_punctuation_but_>=_20_chars
--- PASS: TestValidateWorkflowIntent_EdgeCases (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/exactly_20_characters_with_spaces (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/unicode_characters (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/special_characters (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/very_long_intent (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/mixed_whitespace (0.00s)
    --- PASS: TestValidateWorkflowIntent_EdgeCases/only_punctuation_but_>=_20_chars (0.00s)
=== RUN   TestCompileWorkflowsWithCustomWorkflowDir
my-workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ my-workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
.github/workflows/default.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/default.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileWorkflowsWithCustomWorkflowDir (0.72s)
=== RUN   TestCompileWorkflowsCustomDirValidation
=== RUN   TestCompileWorkflowsCustomDirValidation/empty_string_defaults_to_.github/workflows
.github/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ .github/workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
=== RUN   TestCompileWorkflowsCustomDirValidation/relative_path_is_valid
custom/workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ custom/workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
=== RUN   TestCompileWorkflowsCustomDirValidation/absolute_path_is_invalid
=== RUN   TestCompileWorkflowsCustomDirValidation/path_with_.._is_cleaned_but_valid
workflows/test.md:1:1: warning: Missing required permissions for github toolsets:
  - issues: read (required by issues)
  - pull-requests: read (required by pull_requests)

To fix this, you can either:

Option 1: Add missing permissions to your workflow frontmatter:
permissions:
  issues: read
  pull-requests: read

Option 2: Reduce the required toolsets in your workflow:
Remove or adjust toolsets that require these permissions:
  - issues
  - pull_requests

âœ“ workflows/test.md (25.7 KB)
âš  Compiled 1 workflow(s): 0 error(s), 1 warning(s)
--- PASS: TestCompileWorkflowsCustomDirValidation (10.35s)
    --- PASS: TestCompileWorkflowsCustomDirValidation/empty_string_defaults_to_.github/workflows (8.14s)
    --- PASS: TestCompileWorkflowsCustomDirValidation/relative_path_is_valid (1.20s)
    --- PASS: TestCompileWorkflowsCustomDirValidation/absolute_path_is_invalid (0.01s)
    --- PASS: TestCompileWorkflowsCustomDirValidation/path_with_.._is_cleaned_but_valid (1.00s)
=== RUN   TestSuggestWorkflowNames
=== RUN   TestSuggestWorkflowNames/single_character_typo
=== RUN   TestSuggestWorkflowNames/two_character_typo
=== RUN   TestSuggestWorkflowNames/multiple_matches
=== RUN   TestSuggestWorkflowNames/prefix_match_-_within_distance
=== RUN   TestSuggestWorkflowNames/no_matches_-_too_different
=== RUN   TestSuggestWorkflowNames/exact_match_excluded
--- PASS: TestSuggestWorkflowNames (0.00s)
    --- PASS: TestSuggestWorkflowNames/single_character_typo (0.00s)
    --- PASS: TestSuggestWorkflowNames/two_character_typo (0.00s)
    --- PASS: TestSuggestWorkflowNames/multiple_matches (0.00s)
    --- PASS: TestSuggestWorkflowNames/prefix_match_-_within_distance (0.00s)
    --- PASS: TestSuggestWorkflowNames/no_matches_-_too_different (0.00s)
    --- PASS: TestSuggestWorkflowNames/exact_match_excluded (0.00s)
=== RUN   TestGetAvailableWorkflowNames
--- PASS: TestGetAvailableWorkflowNames (0.00s)
=== RUN   TestGetAvailableWorkflowNamesNoDirectory
--- PASS: TestGetAvailableWorkflowNamesNoDirectory (0.00s)
=== RUN   TestWorkflowCounting
    workflows_count_test.go:94: User workflows: 141, Internal workflows: 3
    workflows_count_test.go:95: Expected message format: âœ“ Fetched Â½ public and 3 internal workflows
--- PASS: TestWorkflowCounting (0.00s)
=== RUN   TestReadWorkflowFileWithRelativePath
--- PASS: TestReadWorkflowFileWithRelativePath (0.00s)
=== RUN   TestReadWorkflowFileWithAbsolutePath
--- PASS: TestReadWorkflowFileWithAbsolutePath (0.00s)
=== RUN   TestReadWorkflowFilePathSeparators
--- PASS: TestReadWorkflowFilePathSeparators (0.00s)
=== RUN   TestReadWorkflowFileNonExistent
--- PASS: TestReadWorkflowFileNonExistent (0.00s)
=== RUN   TestWorkflowResolutionWindowsCompatibility
--- PASS: TestWorkflowResolutionWindowsCompatibility (0.00s)
=== RUN   TestIsWorkflowFile
=== RUN   TestIsWorkflowFile/regular_workflow_file
=== RUN   TestIsWorkflowFile/README.md_should_be_excluded
=== RUN   TestIsWorkflowFile/readme.md_lowercase_should_be_excluded
=== RUN   TestIsWorkflowFile/ReadMe.md_mixed_case_should_be_excluded
=== RUN   TestIsWorkflowFile/READM.md_with_different_name_is_included
=== RUN   TestIsWorkflowFile/README-workflow.md_with_prefix_is_included
=== RUN   TestIsWorkflowFile/workflow-README.md_with_suffix_is_included
=== RUN   TestIsWorkflowFile/path_with_README.md_at_end_should_be_excluded
=== RUN   TestIsWorkflowFile/path_with_regular_workflow_should_be_included
--- PASS: TestIsWorkflowFile (0.00s)
    --- PASS: TestIsWorkflowFile/regular_workflow_file (0.00s)
    --- PASS: TestIsWorkflowFile/README.md_should_be_excluded (0.00s)
    --- PASS: TestIsWorkflowFile/readme.md_lowercase_should_be_excluded (0.00s)
    --- PASS: TestIsWorkflowFile/ReadMe.md_mixed_case_should_be_excluded (0.00s)
    --- PASS: TestIsWorkflowFile/READM.md_with_different_name_is_included (0.00s)
    --- PASS: TestIsWorkflowFile/README-workflow.md_with_prefix_is_included (0.00s)
    --- PASS: TestIsWorkflowFile/workflow-README.md_with_suffix_is_included (0.00s)
    --- PASS: TestIsWorkflowFile/path_with_README.md_at_end_should_be_excluded (0.00s)
    --- PASS: TestIsWorkflowFile/path_with_regular_workflow_should_be_included (0.00s)
=== RUN   TestFilterWorkflowFiles
=== RUN   TestFilterWorkflowFiles/empty_list
=== RUN   TestFilterWorkflowFiles/no_README.md_files
=== RUN   TestFilterWorkflowFiles/filter_out_README.md
=== RUN   TestFilterWorkflowFiles/filter_out_readme.md_(lowercase)
=== RUN   TestFilterWorkflowFiles/filter_out_ReadMe.md_(mixed_case)
=== RUN   TestFilterWorkflowFiles/keep_README-prefixed_files
=== RUN   TestFilterWorkflowFiles/filter_with_full_paths
--- PASS: TestFilterWorkflowFiles (0.00s)
    --- PASS: TestFilterWorkflowFiles/empty_list (0.00s)
    --- PASS: TestFilterWorkflowFiles/no_README.md_files (0.00s)
    --- PASS: TestFilterWorkflowFiles/filter_out_README.md (0.00s)
    --- PASS: TestFilterWorkflowFiles/filter_out_readme.md_(lowercase) (0.00s)
    --- PASS: TestFilterWorkflowFiles/filter_out_ReadMe.md_(mixed_case) (0.00s)
    --- PASS: TestFilterWorkflowFiles/keep_README-prefixed_files (0.00s)
    --- PASS: TestFilterWorkflowFiles/filter_with_full_paths (0.00s)
=== RUN   TestGetMarkdownWorkflowFilesExcludesREADME
--- PASS: TestGetMarkdownWorkflowFilesExcludesREADME (0.00s)
=== RUN   TestParseAndDisplayZizmorOutput
=== RUN   TestParseAndDisplayZizmorOutput/single_file_with_findings
=== RUN   TestParseAndDisplayZizmorOutput/multiple_findings_in_same_file
=== RUN   TestParseAndDisplayZizmorOutput/file_with_no_findings
=== RUN   TestParseAndDisplayZizmorOutput/multiple_files
=== RUN   TestParseAndDisplayZizmorOutput/finding_with_multiple_locations_in_same_file_counts_as_one
--- PASS: TestParseAndDisplayZizmorOutput (0.00s)
    --- PASS: TestParseAndDisplayZizmorOutput/single_file_with_findings (0.00s)
    --- PASS: TestParseAndDisplayZizmorOutput/multiple_findings_in_same_file (0.00s)
    --- PASS: TestParseAndDisplayZizmorOutput/file_with_no_findings (0.00s)
    --- PASS: TestParseAndDisplayZizmorOutput/multiple_files (0.00s)
    --- PASS: TestParseAndDisplayZizmorOutput/finding_with_multiple_locations_in_same_file_counts_as_one (0.00s)
=== CONT  TestInjectExtensionInstallStep
=== RUN   TestInjectExtensionInstallStep/injects_at_beginning_of_existing_steps
=== RUN   TestInjectExtensionInstallStep/injects_when_no_existing_steps
=== CONT  TestInitCommandFlagValidation
=== CONT  TestCopilotSetupStepsYAMLConstant
=== CONT  TestSecretExtraction
=== CONT  TestCheckAndSuggestSecretsWithInvalidMCPSection
=== RUN   TestCheckAndSuggestSecretsWithInvalidMCPSection/mcp_is_not_a_map
=== RUN   TestSecretExtraction/single_secret
=== CONT  TestSecretExtractionEdgeCases
=== RUN   TestSecretExtractionEdgeCases/extra_spaces_before_closing_-_still_valid
--- PASS: TestInitCommandFlagValidation (0.00s)
=== CONT  TestWorkflowStructMarshaling
=== RUN   TestCheckAndSuggestSecretsWithInvalidMCPSection/env_is_not_a_map[string]string
=== RUN   TestCheckAndSuggestSecretsWithInvalidMCPSection/env_is_a_map_but_wrong_type
--- PASS: TestCheckAndSuggestSecretsWithInvalidMCPSection (0.00s)
    --- PASS: TestCheckAndSuggestSecretsWithInvalidMCPSection/mcp_is_not_a_map (0.00s)
    --- PASS: TestCheckAndSuggestSecretsWithInvalidMCPSection/env_is_not_a_map[string]string (0.00s)
    --- PASS: TestCheckAndSuggestSecretsWithInvalidMCPSection/env_is_a_map_but_wrong_type (0.00s)
=== RUN   TestSecretExtraction/multiple_secrets
--- PASS: TestCopilotSetupStepsYAMLConstant (0.00s)
=== RUN   TestSecretExtraction/mixed_secrets_and_plain_values
=== RUN   TestSecretExtractionEdgeCases/extra_spaces_after_opening
=== RUN   TestSecretExtraction/no_secrets
=== RUN   TestSecretExtractionEdgeCases/single_closing_brace
--- PASS: TestSecretExtraction (0.00s)
    --- PASS: TestSecretExtraction/single_secret (0.00s)
    --- PASS: TestSecretExtraction/multiple_secrets (0.00s)
    --- PASS: TestSecretExtraction/mixed_secrets_and_plain_values (0.00s)
    --- PASS: TestSecretExtraction/no_secrets (0.00s)
=== RUN   TestSecretExtractionEdgeCases/triple_closing_braces
=== RUN   TestSecretExtractionEdgeCases/correct_format
--- PASS: TestSecretExtractionEdgeCases (0.00s)
    --- PASS: TestSecretExtractionEdgeCases/extra_spaces_before_closing_-_still_valid (0.00s)
    --- PASS: TestSecretExtractionEdgeCases/extra_spaces_after_opening (0.00s)
    --- PASS: TestSecretExtractionEdgeCases/single_closing_brace (0.00s)
    --- PASS: TestSecretExtractionEdgeCases/triple_closing_braces (0.00s)
    --- PASS: TestSecretExtractionEdgeCases/correct_format (0.00s)
=== CONT  TestInitCommandInteractiveModeDetection
--- PASS: TestInitCommandInteractiveModeDetection (0.00s)
=== CONT  TestInitCommandHelp
=== CONT  TestNewInitCommand
=== CONT  TestShortFlagConsistency
=== RUN   TestShortFlagConsistency/compile_command_has_-e_for_--engine
=== PAUSE TestShortFlagConsistency/compile_command_has_-e_for_--engine
=== RUN   TestShortFlagConsistency/new_command_has_-f_for_--force
=== PAUSE TestShortFlagConsistency/new_command_has_-f_for_--force
=== RUN   TestShortFlagConsistency/add_command_has_-f_for_--force
=== PAUSE TestShortFlagConsistency/add_command_has_-f_for_--force
=== RUN   TestShortFlagConsistency/update_command_has_-f_for_--force
=== PAUSE TestShortFlagConsistency/update_command_has_-f_for_--force
=== RUN   TestShortFlagConsistency/run_command_has_-F_for_--raw-field
=== PAUSE TestShortFlagConsistency/run_command_has_-F_for_--raw-field
=== RUN   TestShortFlagConsistency/compile_command_has_-j_for_--json
=== CONT  TestCopilotWorkflowStepStructure
=== PAUSE TestShortFlagConsistency/compile_command_has_-j_for_--json
=== RUN   TestShortFlagConsistency/logs_command_has_-j_for_--json
=== PAUSE TestShortFlagConsistency/logs_command_has_-j_for_--json
=== RUN   TestInjectExtensionInstallStep/returns_error_when_job_not_found
=== RUN   TestCopilotWorkflowStepStructure/step_with_uses
=== CONT  TestCheckAndSuggestSecrets
=== RUN   TestCheckAndSuggestSecrets/no_mcp_section
=== RUN   TestShortFlagConsistency/audit_command_has_-j_for_--json
=== PAUSE TestShortFlagConsistency/audit_command_has_-j_for_--json
=== CONT  TestMCPConfigJSONMarshaling
=== RUN   TestShortFlagConsistency/status_command_has_-j_for_--json
=== PAUSE TestShortFlagConsistency/status_command_has_-j_for_--json
=== RUN   TestShortFlagConsistency/logs_command_has_-o_for_--output
=== PAUSE TestShortFlagConsistency/logs_command_has_-o_for_--output
=== RUN   TestShortFlagConsistency/audit_command_has_-o_for_--output
=== PAUSE TestShortFlagConsistency/audit_command_has_-o_for_--output
=== RUN   TestShortFlagConsistency/compile_command_has_-d_for_--dir
=== PAUSE TestShortFlagConsistency/compile_command_has_-d_for_--dir
=== RUN   TestShortFlagConsistency/add_command_has_-d_for_--dir
=== PAUSE TestShortFlagConsistency/add_command_has_-d_for_--dir
=== RUN   TestShortFlagConsistency/update_command_has_-d_for_--dir
=== PAUSE TestShortFlagConsistency/update_command_has_-d_for_--dir
=== RUN   TestShortFlagConsistency/logs_command_has_-c_for_--count
=== PAUSE TestShortFlagConsistency/logs_command_has_-c_for_--count
=== CONT  TestMCPConfigParsing
=== RUN   TestMCPConfigParsing/valid_config_with_single_server
=== CONT  TestSecretSyntaxParsing
=== RUN   TestSecretSyntaxParsing/standard_secret_syntax
--- PASS: TestWorkflowStructMarshaling (0.00s)
--- PASS: TestInitCommandHelp (0.00s)
--- PASS: TestNewInitCommand (0.00s)
--- PASS: TestInjectExtensionInstallStep (0.00s)
    --- PASS: TestInjectExtensionInstallStep/injects_at_beginning_of_existing_steps (0.00s)
    --- PASS: TestInjectExtensionInstallStep/injects_when_no_existing_steps (0.00s)
    --- PASS: TestInjectExtensionInstallStep/returns_error_when_job_not_found (0.00s)
=== RUN   TestShortFlagConsistency/add_command_does_NOT_have_-c_for_--number
=== PAUSE TestShortFlagConsistency/add_command_does_NOT_have_-c_for_--number
=== RUN   TestShortFlagConsistency/enable_command_has_-r_for_--repo
=== PAUSE TestShortFlagConsistency/enable_command_has_-r_for_--repo
=== RUN   TestShortFlagConsistency/disable_command_has_-r_for_--repo
=== PAUSE TestShortFlagConsistency/disable_command_has_-r_for_--repo
=== RUN   TestShortFlagConsistency/compile_command_has_-w_for_--watch
=== PAUSE TestShortFlagConsistency/compile_command_has_-w_for_--watch
=== RUN   TestShortFlagConsistency/new_command_has_-i_for_--interactive
=== PAUSE TestShortFlagConsistency/new_command_has_-i_for_--interactive
=== CONT  TestShortFlagConsistency/compile_command_has_-e_for_--engine
=== RUN   TestCheckAndSuggestSecrets/mcp_section_without_env
=== RUN   TestCheckAndSuggestSecrets/mcp_with_env_but_no_secrets
=== RUN   TestCheckAndSuggestSecrets/mcp_with_secrets_in_env
    mcp_secrets_test.go:98: requires GitHub CLI and repository access
=== RUN   TestCheckAndSuggestSecrets/empty_tool_config
=== RUN   TestCheckAndSuggestSecrets/nil_tool_config
--- PASS: TestCheckAndSuggestSecrets (0.00s)
    --- PASS: TestCheckAndSuggestSecrets/no_mcp_section (0.00s)
    --- PASS: TestCheckAndSuggestSecrets/mcp_section_without_env (0.00s)
    --- PASS: TestCheckAndSuggestSecrets/mcp_with_env_but_no_secrets (0.00s)
    --- SKIP: TestCheckAndSuggestSecrets/mcp_with_secrets_in_env (0.00s)
    --- PASS: TestCheckAndSuggestSecrets/empty_tool_config (0.00s)
    --- PASS: TestCheckAndSuggestSecrets/nil_tool_config (0.00s)
=== CONT  TestShortFlagConsistency/new_command_has_-i_for_--interactive
=== CONT  TestShortFlagConsistency/logs_command_has_-o_for_--output
=== CONT  TestShortFlagConsistency/run_command_has_-F_for_--raw-field
=== CONT  TestShortFlagConsistency/compile_command_has_-j_for_--json
=== CONT  TestShortFlagConsistency/audit_command_has_-j_for_--json
--- PASS: TestMCPConfigJSONMarshaling (0.00s)
=== CONT  TestShortFlagConsistency/new_command_has_-f_for_--force
=== RUN   TestMCPConfigParsing/valid_config_with_CWD
=== CONT  TestShortFlagConsistency/disable_command_has_-r_for_--repo
=== CONT  TestShortFlagConsistency/update_command_has_-f_for_--force
=== CONT  TestShortFlagConsistency/enable_command_has_-r_for_--repo
=== CONT  TestShortFlagConsistency/status_command_has_-j_for_--json
=== CONT  TestShortFlagConsistency/add_command_does_NOT_have_-c_for_--number
=== CONT  TestShortFlagConsistency/add_command_has_-f_for_--force
=== RUN   TestMCPConfigParsing/invalid_JSON
=== CONT  TestShortFlagConsistency/logs_command_has_-j_for_--json
=== RUN   TestMCPConfigParsing/empty_config
=== RUN   TestCopilotWorkflowStepStructure/step_with_run
--- PASS: TestMCPConfigParsing (0.00s)
    --- PASS: TestMCPConfigParsing/valid_config_with_single_server (0.00s)
    --- PASS: TestMCPConfigParsing/valid_config_with_CWD (0.00s)
    --- PASS: TestMCPConfigParsing/invalid_JSON (0.00s)
    --- PASS: TestMCPConfigParsing/empty_config (0.00s)
=== CONT  TestShortFlagConsistency/logs_command_has_-c_for_--count
=== RUN   TestSecretSyntaxParsing/secret_with_underscores
=== RUN   TestSecretSyntaxParsing/plain_value
=== CONT  TestShortFlagConsistency/compile_command_has_-w_for_--watch
=== CONT  TestShortFlagConsistency/add_command_has_-d_for_--dir
=== RUN   TestSecretSyntaxParsing/incomplete_secret_syntax
=== RUN   TestSecretSyntaxParsing/empty_value
=== CONT  TestShortFlagConsistency/update_command_has_-d_for_--dir
=== RUN   TestSecretSyntaxParsing/secret-like_but_not_secret_syntax
=== CONT  TestShortFlagConsistency/compile_command_has_-d_for_--dir
--- PASS: TestSecretSyntaxParsing (0.00s)
    --- PASS: TestSecretSyntaxParsing/standard_secret_syntax (0.00s)
    --- PASS: TestSecretSyntaxParsing/secret_with_underscores (0.00s)
    --- PASS: TestSecretSyntaxParsing/plain_value (0.00s)
    --- PASS: TestSecretSyntaxParsing/incomplete_secret_syntax (0.00s)
    --- PASS: TestSecretSyntaxParsing/empty_value (0.00s)
    --- PASS: TestSecretSyntaxParsing/secret-like_but_not_secret_syntax (0.00s)
=== CONT  TestShortFlagConsistency/audit_command_has_-o_for_--output
--- PASS: TestShortFlagConsistency (0.00s)
    --- PASS: TestShortFlagConsistency/compile_command_has_-e_for_--engine (0.00s)
    --- PASS: TestShortFlagConsistency/new_command_has_-i_for_--interactive (0.00s)
    --- PASS: TestShortFlagConsistency/logs_command_has_-o_for_--output (0.00s)
    --- PASS: TestShortFlagConsistency/compile_command_has_-j_for_--json (0.00s)
    --- PASS: TestShortFlagConsistency/audit_command_has_-j_for_--json (0.00s)
    --- PASS: TestShortFlagConsistency/new_command_has_-f_for_--force (0.00s)
    --- PASS: TestShortFlagConsistency/run_command_has_-F_for_--raw-field (0.00s)
    --- PASS: TestShortFlagConsistency/disable_command_has_-r_for_--repo (0.00s)
    --- PASS: TestShortFlagConsistency/enable_command_has_-r_for_--repo (0.00s)
    --- PASS: TestShortFlagConsistency/update_command_has_-f_for_--force (0.00s)
    --- PASS: TestShortFlagConsistency/status_command_has_-j_for_--json (0.00s)
    --- PASS: TestShortFlagConsistency/add_command_does_NOT_have_-c_for_--number (0.00s)
    --- PASS: TestShortFlagConsistency/add_command_has_-f_for_--force (0.00s)
    --- PASS: TestShortFlagConsistency/logs_command_has_-j_for_--json (0.00s)
    --- PASS: TestShortFlagConsistency/logs_command_has_-c_for_--count (0.00s)
    --- PASS: TestShortFlagConsistency/compile_command_has_-w_for_--watch (0.00s)
    --- PASS: TestShortFlagConsistency/add_command_has_-d_for_--dir (0.00s)
    --- PASS: TestShortFlagConsistency/update_command_has_-d_for_--dir (0.00s)
    --- PASS: TestShortFlagConsistency/compile_command_has_-d_for_--dir (0.00s)
    --- PASS: TestShortFlagConsistency/audit_command_has_-o_for_--output (0.00s)
=== RUN   TestCopilotWorkflowStepStructure/step_with_environment
=== RUN   TestCopilotWorkflowStepStructure/step_with_with_parameters
--- PASS: TestCopilotWorkflowStepStructure (0.00s)
    --- PASS: TestCopilotWorkflowStepStructure/step_with_uses (0.00s)
    --- PASS: TestCopilotWorkflowStepStructure/step_with_run (0.00s)
    --- PASS: TestCopilotWorkflowStepStructure/step_with_environment (0.00s)
    --- PASS: TestCopilotWorkflowStepStructure/step_with_with_parameters (0.00s)
FAIL
FAIL	github.com/githubnext/gh-aw/pkg/cli	144.765s
=== RUN   TestFileExists
--- PASS: TestFileExists (0.00s)
=== RUN   TestDirExists
--- PASS: TestDirExists (0.00s)
=== RUN   TestIsDirEmpty
--- PASS: TestIsDirEmpty (0.00s)
=== RUN   TestCopyFile
--- PASS: TestCopyFile (0.01s)
=== RUN   TestCalculateDirectorySize
--- PASS: TestCalculateDirectorySize (0.00s)
PASS
ok  	github.com/githubnext/gh-aw/pkg/cli/fileutil	0.013s
FAIL
