const{getMessages,renderTemplate,toSnakeCase}=require("./messages_core.cjs");function getFooterMessage(ctx){const messages=getMessages(),templateContext=toSnakeCase(ctx);let footer=renderTemplate(messages?.footer?messages.footer:"> Ahoy! This treasure was crafted by [ðŸ´â€â˜ ï¸ {workflow_name}]({run_url})",templateContext);return ctx.triggeringNumber&&(footer+=" fer issue #{triggering_number} ðŸ—ºï¸".replace("{triggering_number}",String(ctx.triggeringNumber))),footer}function getFooterInstallMessage(ctx){if(!ctx.workflowSource||!ctx.workflowSourceUrl)return"";const messages=getMessages(),templateContext=toSnakeCase(ctx);return renderTemplate(messages?.footerInstall?messages.footerInstall:"> Arr! To plunder this workflow fer yer own ship, run `gh aw add {workflow_source}`. Chart yer course at [ðŸ¦œ {workflow_source_url}]({workflow_source_url})!",templateContext)}function generateXMLMarker(workflowName,runUrl){const engineId=process.env.GH_AW_ENGINE_ID||"",engineVersion=process.env.GH_AW_ENGINE_VERSION||"",engineModel=process.env.GH_AW_ENGINE_MODEL||"",trackerId=process.env.GH_AW_TRACKER_ID||"",parts=[];return parts.push(`agentic-workflow: ${workflowName}`),trackerId&&parts.push(`tracker-id: ${trackerId}`),engineId&&parts.push(`engine: ${engineId}`),engineVersion&&parts.push(`version: ${engineVersion}`),engineModel&&parts.push(`model: ${engineModel}`),parts.push(`run: ${runUrl}`),`\x3c!-- ${parts.join(", ")} --\x3e`}function generateFooterWithMessages(workflowName,runUrl,workflowSource,workflowSourceURL,triggeringIssueNumber,triggeringPRNumber,triggeringDiscussionNumber){let triggeringNumber;triggeringIssueNumber?triggeringNumber=triggeringIssueNumber:triggeringPRNumber?triggeringNumber=triggeringPRNumber:triggeringDiscussionNumber&&(triggeringNumber=`discussion #${triggeringDiscussionNumber}`);const ctx={workflowName,runUrl,workflowSource,workflowSourceUrl:workflowSourceURL,triggeringNumber};let footer="\n\n"+getFooterMessage(ctx);const installMessage=getFooterInstallMessage(ctx);return installMessage&&(footer+="\n>\n"+installMessage),footer+="\n\n"+generateXMLMarker(workflowName,runUrl),footer+="\n",footer}module.exports={getFooterMessage,getFooterInstallMessage,generateFooterWithMessages,generateXMLMarker};