const{sanitizeIncomingText}=require("./sanitize_incoming_text.cjs");function testSanitizeIncomingText(text,maxLength){try{return{sanitized:sanitizeIncomingText(text,maxLength),error:null}}catch(err){return{sanitized:"",error:err instanceof Error?err.message:String(err)}}}if(require.main===module){let input="";process.stdin.on("data",chunk=>{input+=chunk}),process.stdin.on("end",()=>{try{const{text,maxLength}=JSON.parse(input),result=testSanitizeIncomingText(text,maxLength);process.stdout.write(JSON.stringify(result)),process.exit(0)}catch(err){const errorMsg=err instanceof Error?err.message:String(err);process.stdout.write(JSON.stringify({sanitized:"",error:errorMsg})),process.exit(1)}})}module.exports={testSanitizeIncomingText};