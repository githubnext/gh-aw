const fs=require("fs"),{loadConfig}=require("./safe_outputs_config.cjs"),{loadTools}=require("./safe_outputs_tools_loader.cjs");function bootstrapSafeOutputsServer(logger){logger.debug("Loading safe-outputs configuration");const{config,outputFile}=loadConfig(logger);return logger.debug("Loading safe-outputs tools"),{config,outputFile,tools:loadTools(logger)}}function cleanupConfigFile(logger){const configPath=process.env.GH_AW_SAFE_OUTPUTS_CONFIG_PATH||"/tmp/gh-aw/safeoutputs/config.json";try{fs.existsSync(configPath)&&(fs.unlinkSync(configPath),logger.debug(`Deleted configuration file: ${configPath}`))}catch(error){logger.debugError("Warning: Could not delete configuration file: ",error)}}module.exports={bootstrapSafeOutputsServer,cleanupConfigFile};