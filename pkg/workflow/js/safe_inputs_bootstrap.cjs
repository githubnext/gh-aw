const path=require("path"),fs=require("fs"),{loadConfig}=require("./safe_inputs_config_loader.cjs"),{loadToolHandlers}=require("./mcp_server_core.cjs");function bootstrapSafeInputsServer(configPath,logger){logger.debug(`Loading safe-inputs configuration from: ${configPath}`);const config=loadConfig(configPath),basePath=path.dirname(configPath);return logger.debug(`Base path for handlers: ${basePath}`),logger.debug(`Tools to load: ${config.tools.length}`),{config,basePath,tools:loadToolHandlers(logger,config.tools,basePath)}}function cleanupConfigFile(configPath,logger){try{fs.existsSync(configPath)&&(fs.unlinkSync(configPath),logger.debug(`Deleted configuration file: ${configPath}`))}catch(error){logger.debugError("Warning: Could not delete configuration file: ",error)}}module.exports={bootstrapSafeInputsServer,cleanupConfigFile};