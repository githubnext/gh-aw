const{sanitizeContent}=require("./sanitize_content.cjs");function testSanitizeOutput(text,allowedAliases,maxLength){try{return{sanitized:sanitizeContent(text,{allowedAliases,maxLength}),error:null}}catch(err){return{sanitized:"",error:err instanceof Error?err.message:String(err)}}}if(require.main===module){let input="";process.stdin.on("data",chunk=>{input+=chunk}),process.stdin.on("end",()=>{try{const{text,allowedAliases,maxLength}=JSON.parse(input),result=testSanitizeOutput(text,allowedAliases||[],maxLength);process.stdout.write(JSON.stringify(result)),process.exit(0)}catch(err){const errorMsg=err instanceof Error?err.message:String(err);process.stdout.write(JSON.stringify({sanitized:"",error:errorMsg})),process.exit(1)}})}module.exports={testSanitizeOutput};