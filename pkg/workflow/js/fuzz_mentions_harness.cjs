const{sanitizeContent}=require("./sanitize_content.cjs");function testMentionsFiltering(text,allowedAliases){try{return{sanitized:sanitizeContent(text,{allowedAliases}),error:null}}catch(err){return{sanitized:"",error:err instanceof Error?err.message:String(err)}}}if(require.main===module){let input="";process.stdin.on("data",chunk=>{input+=chunk}),process.stdin.on("end",()=>{try{const{text,allowedAliases}=JSON.parse(input),result=testMentionsFiltering(text,allowedAliases||[]);process.stdout.write(JSON.stringify(result)),process.exit(0)}catch(err){const errorMsg=err instanceof Error?err.message:String(err);process.stdout.write(JSON.stringify({sanitized:"",error:errorMsg})),process.exit(1)}})}module.exports={testMentionsFiltering};