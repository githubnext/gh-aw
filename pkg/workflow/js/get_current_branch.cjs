const{execSync}=require("child_process");function getCurrentBranch(){const cwd=process.env.GITHUB_WORKSPACE||process.cwd();try{return execSync("git rev-parse --abbrev-ref HEAD",{encoding:"utf8",cwd}).trim()}catch(error){}const ghHeadRef=process.env.GITHUB_HEAD_REF,ghRefName=process.env.GITHUB_REF_NAME;if(ghHeadRef)return ghHeadRef;if(ghRefName)return ghRefName;throw new Error("Failed to determine current branch: git command failed and no GitHub environment variables available")}module.exports={getCurrentBranch};