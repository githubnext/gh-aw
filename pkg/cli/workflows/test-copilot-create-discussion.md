---
on:
  workflow_dispatch:
permissions:
  contents: read
  actions: read
engine: copilot
safe-outputs:
  create-discussion:
    max: 1
    expires: 24
timeout-minutes: 5
---

# Test Copilot Create Discussion

Test the create-discussion safe output with the Copilot engine to verify that discussions include proper attribution footer with XML marker.

Create a new discussion in the "General" category with the following details:

**Title:** Test Discussion - Footer Attribution Check

**Body:**
This is a test discussion created to verify that the attribution footer includes the XML comment marker for traceability.

The footer should include:
1. A visible attribution message (e.g., "> AI generated by [workflow-name](run-url)")
2. Installation instructions (if workflow source is available)
3. An XML comment marker with workflow metadata (e.g., `<!-- gh-aw-agentic-workflow: ... -->`)
4. An expiration checkbox (since expires: 24 is configured)

Output as JSONL format:
```
{"type": "create_discussion", "title": "Test Discussion - Footer Attribution Check", "body": "This is a test discussion created to verify that the attribution footer includes the XML comment marker for traceability.\n\nThe footer should include:\n1. A visible attribution message\n2. Installation instructions (if available)\n3. An XML comment marker with workflow metadata\n4. An expiration checkbox", "category": "General"}
```
